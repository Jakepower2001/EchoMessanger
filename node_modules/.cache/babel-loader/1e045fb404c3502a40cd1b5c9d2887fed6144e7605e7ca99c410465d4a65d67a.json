{"ast":null,"code":"var _jsxFileName = \"C:\\\\messagingapp\\\\firebase-react-messaging-app\\\\src\\\\components\\\\UserList.tsx\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from \"react\";\nimport { db } from \"../firebase/config\";\nimport { collection, getDocs } from \"firebase/firestore\";\nimport { auth } from \"../firebase/config\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst UserList = ({\n  onSelect\n}) => {\n  _s();\n  const [users, setUsers] = useState([]);\n  const [loading, setLoading] = useState(true);\n  useEffect(() => {\n    const fetchUsers = async () => {\n      try {\n        const snapshot = await getDocs(collection(db, \"users\"));\n        const usersList = [];\n        snapshot.forEach(doc => {\n          var _auth$currentUser;\n          if (doc.id !== ((_auth$currentUser = auth.currentUser) === null || _auth$currentUser === void 0 ? void 0 : _auth$currentUser.uid)) {\n            usersList.push({\n              ...doc.data(),\n              id: doc.id\n            });\n          }\n        });\n        setUsers(usersList);\n      } catch (error) {\n        console.error(\"Error fetching users: \", error);\n      } finally {\n        setLoading(false);\n      }\n    };\n    fetchUsers();\n  }, []);\n  if (loading) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: \"Loading users...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 12\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"User List\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n      children: users.map(user => /*#__PURE__*/_jsxDEV(\"li\", {\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => onSelect && onSelect(user),\n          children: user.username || user.name || user.email\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 45,\n          columnNumber: 13\n        }, this)\n      }, user.id, false, {\n        fileName: _jsxFileName,\n        lineNumber: 44,\n        columnNumber: 11\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 40,\n    columnNumber: 5\n  }, this);\n};\n_s(UserList, \"+quVjBMM9THpHvnUcBaphXhhZmo=\");\n_c = UserList;\nexport default UserList;\nvar _c;\n$RefreshReg$(_c, \"UserList\");","map":{"version":3,"names":["React","useEffect","useState","db","collection","getDocs","auth","jsxDEV","_jsxDEV","UserList","onSelect","_s","users","setUsers","loading","setLoading","fetchUsers","snapshot","usersList","forEach","doc","_auth$currentUser","id","currentUser","uid","push","data","error","console","children","fileName","_jsxFileName","lineNumber","columnNumber","map","user","onClick","username","name","email","_c","$RefreshReg$"],"sources":["C:/messagingapp/firebase-react-messaging-app/src/components/UserList.tsx"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport { db } from \"../firebase/config\";\nimport { collection, getDocs } from \"firebase/firestore\";\nimport { auth } from \"../firebase/config\";\nimport { User } from \"../types\";\n\ninterface Props {\n  onSelect?: (user: User) => void;\n}\n\nconst UserList: React.FC<Props> = ({ onSelect }) => {\n  const [users, setUsers] = useState<User[]>([]);\n  const [loading, setLoading] = useState(true);\n\n  useEffect(() => {\n    const fetchUsers = async () => {\n      try {\n        const snapshot = await getDocs(collection(db, \"users\"));\n        const usersList: User[] = [];\n        snapshot.forEach(doc => {\n          if (doc.id !== auth.currentUser?.uid) {\n            usersList.push({ ...(doc.data() as User), id: doc.id });\n          }\n        });\n        setUsers(usersList);\n      } catch (error) {\n        console.error(\"Error fetching users: \", error);\n      } finally {\n        setLoading(false);\n      }\n    };\n    fetchUsers();\n  }, []);\n\n  if (loading) {\n    return <div>Loading users...</div>;\n  }\n\n  return (\n    <div>\n      <h2>User List</h2>\n      <ul>\n        {users.map(user => (\n          <li key={user.id}>\n            <button onClick={() => onSelect && onSelect(user)}>\n              {user.username || user.name || user.email}\n            </button>\n          </li>\n        ))}\n      </ul>\n    </div>\n  );\n};\n\nexport default UserList;"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,SAAS,EAAEC,QAAQ,QAAQ,OAAO;AAClD,SAASC,EAAE,QAAQ,oBAAoB;AACvC,SAASC,UAAU,EAAEC,OAAO,QAAQ,oBAAoB;AACxD,SAASC,IAAI,QAAQ,oBAAoB;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAO1C,MAAMC,QAAyB,GAAGA,CAAC;EAAEC;AAAS,CAAC,KAAK;EAAAC,EAAA;EAClD,MAAM,CAACC,KAAK,EAAEC,QAAQ,CAAC,GAAGX,QAAQ,CAAS,EAAE,CAAC;EAC9C,MAAM,CAACY,OAAO,EAAEC,UAAU,CAAC,GAAGb,QAAQ,CAAC,IAAI,CAAC;EAE5CD,SAAS,CAAC,MAAM;IACd,MAAMe,UAAU,GAAG,MAAAA,CAAA,KAAY;MAC7B,IAAI;QACF,MAAMC,QAAQ,GAAG,MAAMZ,OAAO,CAACD,UAAU,CAACD,EAAE,EAAE,OAAO,CAAC,CAAC;QACvD,MAAMe,SAAiB,GAAG,EAAE;QAC5BD,QAAQ,CAACE,OAAO,CAACC,GAAG,IAAI;UAAA,IAAAC,iBAAA;UACtB,IAAID,GAAG,CAACE,EAAE,OAAAD,iBAAA,GAAKf,IAAI,CAACiB,WAAW,cAAAF,iBAAA,uBAAhBA,iBAAA,CAAkBG,GAAG,GAAE;YACpCN,SAAS,CAACO,IAAI,CAAC;cAAE,GAAIL,GAAG,CAACM,IAAI,CAAC,CAAU;cAAEJ,EAAE,EAAEF,GAAG,CAACE;YAAG,CAAC,CAAC;UACzD;QACF,CAAC,CAAC;QACFT,QAAQ,CAACK,SAAS,CAAC;MACrB,CAAC,CAAC,OAAOS,KAAK,EAAE;QACdC,OAAO,CAACD,KAAK,CAAC,wBAAwB,EAAEA,KAAK,CAAC;MAChD,CAAC,SAAS;QACRZ,UAAU,CAAC,KAAK,CAAC;MACnB;IACF,CAAC;IACDC,UAAU,CAAC,CAAC;EACd,CAAC,EAAE,EAAE,CAAC;EAEN,IAAIF,OAAO,EAAE;IACX,oBAAON,OAAA;MAAAqB,QAAA,EAAK;IAAgB;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAK,CAAC;EACpC;EAEA,oBACEzB,OAAA;IAAAqB,QAAA,gBACErB,OAAA;MAAAqB,QAAA,EAAI;IAAS;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAI,CAAC,eAClBzB,OAAA;MAAAqB,QAAA,EACGjB,KAAK,CAACsB,GAAG,CAACC,IAAI,iBACb3B,OAAA;QAAAqB,QAAA,eACErB,OAAA;UAAQ4B,OAAO,EAAEA,CAAA,KAAM1B,QAAQ,IAAIA,QAAQ,CAACyB,IAAI,CAAE;UAAAN,QAAA,EAC/CM,IAAI,CAACE,QAAQ,IAAIF,IAAI,CAACG,IAAI,IAAIH,IAAI,CAACI;QAAK;UAAAT,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACnC;MAAC,GAHFE,IAAI,CAACb,EAAE;QAAAQ,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAIZ,CACL;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACA,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACF,CAAC;AAEV,CAAC;AAACtB,EAAA,CA1CIF,QAAyB;AAAA+B,EAAA,GAAzB/B,QAAyB;AA4C/B,eAAeA,QAAQ;AAAC,IAAA+B,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}