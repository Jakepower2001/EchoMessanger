/*! For license information please see main.f02666c9.js.LICENSE.txt */
(()=>{var e={43:(e,t,n)=>{"use strict";e.exports=n(202)},82:(e,t)=>{"use strict";var n="function"===typeof Symbol&&Symbol.for,r=n?Symbol.for("react.element"):60103,i=n?Symbol.for("react.portal"):60106,s=n?Symbol.for("react.fragment"):60107,o=n?Symbol.for("react.strict_mode"):60108,a=n?Symbol.for("react.profiler"):60114,l=n?Symbol.for("react.provider"):60109,u=n?Symbol.for("react.context"):60110,c=n?Symbol.for("react.async_mode"):60111,h=n?Symbol.for("react.concurrent_mode"):60111,d=n?Symbol.for("react.forward_ref"):60112,f=n?Symbol.for("react.suspense"):60113,p=n?Symbol.for("react.suspense_list"):60120,g=n?Symbol.for("react.memo"):60115,m=n?Symbol.for("react.lazy"):60116,y=n?Symbol.for("react.block"):60121,v=n?Symbol.for("react.fundamental"):60117,w=n?Symbol.for("react.responder"):60118,b=n?Symbol.for("react.scope"):60119;function E(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case c:case h:case s:case a:case o:case f:return e;default:switch(e=e&&e.$$typeof){case u:case d:case m:case g:case l:return e;default:return t}}case i:return t}}}function _(e){return E(e)===h}t.AsyncMode=c,t.ConcurrentMode=h,t.ContextConsumer=u,t.ContextProvider=l,t.Element=r,t.ForwardRef=d,t.Fragment=s,t.Lazy=m,t.Memo=g,t.Portal=i,t.Profiler=a,t.StrictMode=o,t.Suspense=f,t.isAsyncMode=function(e){return _(e)||E(e)===c},t.isConcurrentMode=_,t.isContextConsumer=function(e){return E(e)===u},t.isContextProvider=function(e){return E(e)===l},t.isElement=function(e){return"object"===typeof e&&null!==e&&e.$$typeof===r},t.isForwardRef=function(e){return E(e)===d},t.isFragment=function(e){return E(e)===s},t.isLazy=function(e){return E(e)===m},t.isMemo=function(e){return E(e)===g},t.isPortal=function(e){return E(e)===i},t.isProfiler=function(e){return E(e)===a},t.isStrictMode=function(e){return E(e)===o},t.isSuspense=function(e){return E(e)===f},t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===s||e===h||e===a||e===o||e===f||e===p||"object"===typeof e&&null!==e&&(e.$$typeof===m||e.$$typeof===g||e.$$typeof===l||e.$$typeof===u||e.$$typeof===d||e.$$typeof===v||e.$$typeof===w||e.$$typeof===b||e.$$typeof===y)},t.typeOf=E},86:(e,t,n)=>{"use strict";e.exports=n(82)},123:e=>{"use strict";var t=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable;e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map(function(e){return t[e]}).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach(function(e){r[e]=e}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(i){return!1}}()?Object.assign:function(e,i){for(var s,o,a=function(e){if(null===e||void 0===e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}(e),l=1;l<arguments.length;l++){for(var u in s=Object(arguments[l]))n.call(s,u)&&(a[u]=s[u]);if(t){o=t(s);for(var c=0;c<o.length;c++)r.call(s,o[c])&&(a[o[c]]=s[o[c]])}}return a}},141:e=>{e.exports=Array.isArray||function(e){return"[object Array]"==Object.prototype.toString.call(e)}},153:(e,t,n)=>{"use strict";n(123);var r=n(43),i=60103;if("function"===typeof Symbol&&Symbol.for){var s=Symbol.for;i=s("react.element"),s("react.fragment")}var o=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a=Object.prototype.hasOwnProperty,l={key:!0,ref:!0,__self:!0,__source:!0};function u(e,t,n){var r,s={},u=null,c=null;for(r in void 0!==n&&(u=""+n),void 0!==t.key&&(u=""+t.key),void 0!==t.ref&&(c=t.ref),t)a.call(t,r)&&!l.hasOwnProperty(r)&&(s[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===s[r]&&(s[r]=t[r]);return{$$typeof:i,type:e,key:u,ref:c,props:s,_owner:o.current}}t.jsx=u,t.jsxs=u},173:(e,t,n)=>{e.exports=n(497)()},202:(e,t,n)=>{"use strict";var r=n(123),i=60103,s=60106;t.Fragment=60107,t.StrictMode=60108,t.Profiler=60114;var o=60109,a=60110,l=60112;t.Suspense=60113;var u=60115,c=60116;if("function"===typeof Symbol&&Symbol.for){var h=Symbol.for;i=h("react.element"),s=h("react.portal"),t.Fragment=h("react.fragment"),t.StrictMode=h("react.strict_mode"),t.Profiler=h("react.profiler"),o=h("react.provider"),a=h("react.context"),l=h("react.forward_ref"),t.Suspense=h("react.suspense"),u=h("react.memo"),c=h("react.lazy")}var d="function"===typeof Symbol&&Symbol.iterator;function f(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},g={};function m(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}function y(){}function v(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}m.prototype.isReactComponent={},m.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error(f(85));this.updater.enqueueSetState(this,e,t,"setState")},m.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},y.prototype=m.prototype;var w=v.prototype=new y;w.constructor=v,r(w,m.prototype),w.isPureReactComponent=!0;var b={current:null},E=Object.prototype.hasOwnProperty,_={key:!0,ref:!0,__self:!0,__source:!0};function k(e,t,n){var r,s={},o=null,a=null;if(null!=t)for(r in void 0!==t.ref&&(a=t.ref),void 0!==t.key&&(o=""+t.key),t)E.call(t,r)&&!_.hasOwnProperty(r)&&(s[r]=t[r]);var l=arguments.length-2;if(1===l)s.children=n;else if(1<l){for(var u=Array(l),c=0;c<l;c++)u[c]=arguments[c+2];s.children=u}if(e&&e.defaultProps)for(r in l=e.defaultProps)void 0===s[r]&&(s[r]=l[r]);return{$$typeof:i,type:e,key:o,ref:a,props:s,_owner:b.current}}function T(e){return"object"===typeof e&&null!==e&&e.$$typeof===i}var S=/\/+/g;function I(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(e){return t[e]})}(""+e.key):t.toString(36)}function C(e,t,n,r,o){var a=typeof e;"undefined"!==a&&"boolean"!==a||(e=null);var l=!1;if(null===e)l=!0;else switch(a){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case i:case s:l=!0}}if(l)return o=o(l=e),e=""===r?"."+I(l,0):r,Array.isArray(o)?(n="",null!=e&&(n=e.replace(S,"$&/")+"/"),C(o,t,n,"",function(e){return e})):null!=o&&(T(o)&&(o=function(e,t){return{$$typeof:i,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(o,n+(!o.key||l&&l.key===o.key?"":(""+o.key).replace(S,"$&/")+"/")+e)),t.push(o)),1;if(l=0,r=""===r?".":r+":",Array.isArray(e))for(var u=0;u<e.length;u++){var c=r+I(a=e[u],u);l+=C(a,t,n,c,o)}else if(c=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=d&&e[d]||e["@@iterator"])?e:null}(e),"function"===typeof c)for(e=c.call(e),u=0;!(a=e.next()).done;)l+=C(a=a.value,t,n,c=r+I(a,u++),o);else if("object"===a)throw t=""+e,Error(f(31,"[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t));return l}function A(e,t,n){if(null==e)return e;var r=[],i=0;return C(e,r,"","",function(e){return t.call(n,e,i++)}),r}function N(e){if(-1===e._status){var t=e._result;t=t(),e._status=0,e._result=t,t.then(function(t){0===e._status&&(t=t.default,e._status=1,e._result=t)},function(t){0===e._status&&(e._status=2,e._result=t)})}if(1===e._status)return e._result;throw e._result}var R={current:null};function x(){var e=R.current;if(null===e)throw Error(f(321));return e}var O={ReactCurrentDispatcher:R,ReactCurrentBatchConfig:{transition:0},ReactCurrentOwner:b,IsSomeRendererActing:{current:!1},assign:r};t.Children={map:A,forEach:function(e,t,n){A(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return A(e,function(){t++}),t},toArray:function(e){return A(e,function(e){return e})||[]},only:function(e){if(!T(e))throw Error(f(143));return e}},t.Component=m,t.PureComponent=v,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=O,t.cloneElement=function(e,t,n){if(null===e||void 0===e)throw Error(f(267,e));var s=r({},e.props),o=e.key,a=e.ref,l=e._owner;if(null!=t){if(void 0!==t.ref&&(a=t.ref,l=b.current),void 0!==t.key&&(o=""+t.key),e.type&&e.type.defaultProps)var u=e.type.defaultProps;for(c in t)E.call(t,c)&&!_.hasOwnProperty(c)&&(s[c]=void 0===t[c]&&void 0!==u?u[c]:t[c])}var c=arguments.length-2;if(1===c)s.children=n;else if(1<c){u=Array(c);for(var h=0;h<c;h++)u[h]=arguments[h+2];s.children=u}return{$$typeof:i,type:e.type,key:o,ref:a,props:s,_owner:l}},t.createContext=function(e,t){return void 0===t&&(t=null),(e={$$typeof:a,_calculateChangedBits:t,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:o,_context:e},e.Consumer=e},t.createElement=k,t.createFactory=function(e){var t=k.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:l,render:e}},t.isValidElement=T,t.lazy=function(e){return{$$typeof:c,_payload:{_status:-1,_result:e},_init:N}},t.memo=function(e,t){return{$$typeof:u,type:e,compare:void 0===t?null:t}},t.useCallback=function(e,t){return x().useCallback(e,t)},t.useContext=function(e,t){return x().useContext(e,t)},t.useDebugValue=function(){},t.useEffect=function(e,t){return x().useEffect(e,t)},t.useImperativeHandle=function(e,t,n){return x().useImperativeHandle(e,t,n)},t.useLayoutEffect=function(e,t){return x().useLayoutEffect(e,t)},t.useMemo=function(e,t){return x().useMemo(e,t)},t.useReducer=function(e,t,n){return x().useReducer(e,t,n)},t.useRef=function(e){return x().useRef(e)},t.useState=function(e){return x().useState(e)},t.version="17.0.2"},218:e=>{"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},219:(e,t,n)=>{"use strict";var r=n(86),i={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},s={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},o={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},a={};function l(e){return r.isMemo(e)?o:a[e.$$typeof]||i}a[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},a[r.Memo]=o;var u=Object.defineProperty,c=Object.getOwnPropertyNames,h=Object.getOwnPropertySymbols,d=Object.getOwnPropertyDescriptor,f=Object.getPrototypeOf,p=Object.prototype;e.exports=function e(t,n,r){if("string"!==typeof n){if(p){var i=f(n);i&&i!==p&&e(t,i,r)}var o=c(n);h&&(o=o.concat(h(n)));for(var a=l(t),g=l(n),m=0;m<o.length;++m){var y=o[m];if(!s[y]&&(!r||!r[y])&&(!g||!g[y])&&(!a||!a[y])){var v=d(n,y);try{u(t,y,v)}catch(w){}}}}return t}},234:(e,t)=>{"use strict";var n,r,i,s;if("object"===typeof performance&&"function"===typeof performance.now){var o=performance;t.unstable_now=function(){return o.now()}}else{var a=Date,l=a.now();t.unstable_now=function(){return a.now()-l}}if("undefined"===typeof window||"function"!==typeof MessageChannel){var u=null,c=null,h=function(){if(null!==u)try{var e=t.unstable_now();u(!0,e),u=null}catch(n){throw setTimeout(h,0),n}};n=function(e){null!==u?setTimeout(n,0,e):(u=e,setTimeout(h,0))},r=function(e,t){c=setTimeout(e,t)},i=function(){clearTimeout(c)},t.unstable_shouldYield=function(){return!1},s=t.unstable_forceFrameRate=function(){}}else{var d=window.setTimeout,f=window.clearTimeout;if("undefined"!==typeof console){var p=window.cancelAnimationFrame;"function"!==typeof window.requestAnimationFrame&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills"),"function"!==typeof p&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills")}var g=!1,m=null,y=-1,v=5,w=0;t.unstable_shouldYield=function(){return t.unstable_now()>=w},s=function(){},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):v=0<e?Math.floor(1e3/e):5};var b=new MessageChannel,E=b.port2;b.port1.onmessage=function(){if(null!==m){var e=t.unstable_now();w=e+v;try{m(!0,e)?E.postMessage(null):(g=!1,m=null)}catch(n){throw E.postMessage(null),n}}else g=!1},n=function(e){m=e,g||(g=!0,E.postMessage(null))},r=function(e,n){y=d(function(){e(t.unstable_now())},n)},i=function(){f(y),y=-1}}function _(e,t){var n=e.length;e.push(t);e:for(;;){var r=n-1>>>1,i=e[r];if(!(void 0!==i&&0<S(i,t)))break e;e[r]=t,e[n]=i,n=r}}function k(e){return void 0===(e=e[0])?null:e}function T(e){var t=e[0];if(void 0!==t){var n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length;r<i;){var s=2*(r+1)-1,o=e[s],a=s+1,l=e[a];if(void 0!==o&&0>S(o,n))void 0!==l&&0>S(l,o)?(e[r]=l,e[a]=n,r=a):(e[r]=o,e[s]=n,r=s);else{if(!(void 0!==l&&0>S(l,n)))break e;e[r]=l,e[a]=n,r=a}}}return t}return null}function S(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}var I=[],C=[],A=1,N=null,R=3,x=!1,O=!1,P=!1;function D(e){for(var t=k(C);null!==t;){if(null===t.callback)T(C);else{if(!(t.startTime<=e))break;T(C),t.sortIndex=t.expirationTime,_(I,t)}t=k(C)}}function L(e){if(P=!1,D(e),!O)if(null!==k(I))O=!0,n(M);else{var t=k(C);null!==t&&r(L,t.startTime-e)}}function M(e,n){O=!1,P&&(P=!1,i()),x=!0;var s=R;try{for(D(n),N=k(I);null!==N&&(!(N.expirationTime>n)||e&&!t.unstable_shouldYield());){var o=N.callback;if("function"===typeof o){N.callback=null,R=N.priorityLevel;var a=o(N.expirationTime<=n);n=t.unstable_now(),"function"===typeof a?N.callback=a:N===k(I)&&T(I),D(n)}else T(I);N=k(I)}if(null!==N)var l=!0;else{var u=k(C);null!==u&&r(L,u.startTime-n),l=!1}return l}finally{N=null,R=s,x=!1}}var U=s;t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){O||x||(O=!0,n(M))},t.unstable_getCurrentPriorityLevel=function(){return R},t.unstable_getFirstCallbackNode=function(){return k(I)},t.unstable_next=function(e){switch(R){case 1:case 2:case 3:var t=3;break;default:t=R}var n=R;R=t;try{return e()}finally{R=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=U,t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=R;R=e;try{return t()}finally{R=n}},t.unstable_scheduleCallback=function(e,s,o){var a=t.unstable_now();switch("object"===typeof o&&null!==o?o="number"===typeof(o=o.delay)&&0<o?a+o:a:o=a,e){case 1:var l=-1;break;case 2:l=250;break;case 5:l=1073741823;break;case 4:l=1e4;break;default:l=5e3}return e={id:A++,callback:s,priorityLevel:e,startTime:o,expirationTime:l=o+l,sortIndex:-1},o>a?(e.sortIndex=o,_(C,e),null===k(I)&&e===k(C)&&(P?i():P=!0,r(L,o-a))):(e.sortIndex=l,_(I,e),O||x||(O=!0,n(M))),e},t.unstable_wrapCallback=function(e){var t=R;return function(){var n=R;R=t;try{return e.apply(this,arguments)}finally{R=n}}}},497:(e,t,n)=>{"use strict";var r=n(218);function i(){}function s(){}s.resetWarningCache=i,e.exports=function(){function e(e,t,n,i,s,o){if(o!==r){var a=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw a.name="Invariant Violation",a}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:s,resetWarningCache:i};return n.PropTypes=n,n}},504:(e,t,n)=>{var r=n(141);e.exports=g,e.exports.parse=s,e.exports.compile=function(e,t){return u(s(e,t),t)},e.exports.tokensToFunction=u,e.exports.tokensToRegExp=p;var i=new RegExp(["(\\\\.)","([\\/.])?(?:(?:\\:(\\w+)(?:\\(((?:\\\\.|[^\\\\()])+)\\))?|\\(((?:\\\\.|[^\\\\()])+)\\))([+*?])?|(\\*))"].join("|"),"g");function s(e,t){for(var n,r=[],s=0,a=0,l="",u=t&&t.delimiter||"/";null!=(n=i.exec(e));){var c=n[0],d=n[1],f=n.index;if(l+=e.slice(a,f),a=f+c.length,d)l+=d[1];else{var p=e[a],g=n[2],m=n[3],y=n[4],v=n[5],w=n[6],b=n[7];l&&(r.push(l),l="");var E=null!=g&&null!=p&&p!==g,_="+"===w||"*"===w,k="?"===w||"*"===w,T=g||u,S=y||v,I=g||("string"===typeof r[r.length-1]?r[r.length-1]:"");r.push({name:m||s++,prefix:g||"",delimiter:T,optional:k,repeat:_,partial:E,asterisk:!!b,pattern:S?h(S):b?".*":o(T,I)})}}return a<e.length&&(l+=e.substr(a)),l&&r.push(l),r}function o(e,t){return!t||t.indexOf(e)>-1?"[^"+c(e)+"]+?":c(t)+"|(?:(?!"+c(t)+")[^"+c(e)+"])+?"}function a(e){return encodeURI(e).replace(/[\/?#]/g,function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})}function l(e){return encodeURI(e).replace(/[?#]/g,function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})}function u(e,t){for(var n=new Array(e.length),i=0;i<e.length;i++)"object"===typeof e[i]&&(n[i]=new RegExp("^(?:"+e[i].pattern+")$",f(t)));return function(t,i){for(var s="",o=t||{},u=(i||{}).pretty?a:encodeURIComponent,c=0;c<e.length;c++){var h=e[c];if("string"!==typeof h){var d,f=o[h.name];if(null==f){if(h.optional){h.partial&&(s+=h.prefix);continue}throw new TypeError('Expected "'+h.name+'" to be defined')}if(r(f)){if(!h.repeat)throw new TypeError('Expected "'+h.name+'" to not repeat, but received `'+JSON.stringify(f)+"`");if(0===f.length){if(h.optional)continue;throw new TypeError('Expected "'+h.name+'" to not be empty')}for(var p=0;p<f.length;p++){if(d=u(f[p]),!n[c].test(d))throw new TypeError('Expected all "'+h.name+'" to match "'+h.pattern+'", but received `'+JSON.stringify(d)+"`");s+=(0===p?h.prefix:h.delimiter)+d}}else{if(d=h.asterisk?l(f):u(f),!n[c].test(d))throw new TypeError('Expected "'+h.name+'" to match "'+h.pattern+'", but received "'+d+'"');s+=h.prefix+d}}else s+=h}return s}}function c(e){return e.replace(/([.+*?=^!:${}()[\]|\/\\])/g,"\\$1")}function h(e){return e.replace(/([=!:$\/()])/g,"\\$1")}function d(e,t){return e.keys=t,e}function f(e){return e&&e.sensitive?"":"i"}function p(e,t,n){r(t)||(n=t||n,t=[]);for(var i=(n=n||{}).strict,s=!1!==n.end,o="",a=0;a<e.length;a++){var l=e[a];if("string"===typeof l)o+=c(l);else{var u=c(l.prefix),h="(?:"+l.pattern+")";t.push(l),l.repeat&&(h+="(?:"+u+h+")*"),o+=h=l.optional?l.partial?u+"("+h+")?":"(?:"+u+"("+h+"))?":u+"("+h+")"}}var p=c(n.delimiter||"/"),g=o.slice(-p.length)===p;return i||(o=(g?o.slice(0,-p.length):o)+"(?:"+p+"(?=$))?"),o+=s?"$":i&&g?"":"(?="+p+"|$)",d(new RegExp("^"+o,f(n)),t)}function g(e,t,n){return r(t)||(n=t||n,t=[]),n=n||{},e instanceof RegExp?function(e,t){var n=e.source.match(/\((?!\?)/g);if(n)for(var r=0;r<n.length;r++)t.push({name:r,prefix:null,delimiter:null,optional:!1,repeat:!1,partial:!1,asterisk:!1,pattern:null});return d(e,t)}(e,t):r(e)?function(e,t,n){for(var r=[],i=0;i<e.length;i++)r.push(g(e[i],t,n).source);return d(new RegExp("(?:"+r.join("|")+")",f(n)),t)}(e,t,n):function(e,t,n){return p(s(e,n),t,n)}(e,t,n)}},579:(e,t,n)=>{"use strict";e.exports=n(153)},730:(e,t,n)=>{"use strict";var r=n(43),i=n(123),s=n(853);function o(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!r)throw Error(o(227));var a=new Set,l={};function u(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(l[e]=t,e=0;e<t.length;e++)a.add(t[e])}var h=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),d=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,f=Object.prototype.hasOwnProperty,p={},g={};function m(e,t,n,r,i,s,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=o}var y={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){y[e]=new m(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];y[t]=new m(t,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){y[e]=new m(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){y[e]=new m(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){y[e]=new m(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){y[e]=new m(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){y[e]=new m(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){y[e]=new m(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){y[e]=new m(e,5,!1,e.toLowerCase(),null,!1,!1)});var v=/[\-:]([a-z])/g;function w(e){return e[1].toUpperCase()}function b(e,t,n,r){var i=y.hasOwnProperty(t)?y[t]:null;(null!==i?0===i.type:!r&&(2<t.length&&("o"===t[0]||"O"===t[0])&&("n"===t[1]||"N"===t[1])))||(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!f.call(g,e)||!f.call(p,e)&&(d.test(e)?g[e]=!0:(p[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(v,w);y[t]=new m(t,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(v,w);y[t]=new m(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(v,w);y[t]=new m(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){y[e]=new m(e,1,!1,e.toLowerCase(),null,!1,!1)}),y.xlinkHref=new m("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){y[e]=new m(e,1,!1,e.toLowerCase(),null,!0,!0)});var E=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,_=60103,k=60106,T=60107,S=60108,I=60114,C=60109,A=60110,N=60112,R=60113,x=60120,O=60115,P=60116,D=60121,L=60128,M=60129,U=60130,F=60131;if("function"===typeof Symbol&&Symbol.for){var V=Symbol.for;_=V("react.element"),k=V("react.portal"),T=V("react.fragment"),S=V("react.strict_mode"),I=V("react.profiler"),C=V("react.provider"),A=V("react.context"),N=V("react.forward_ref"),R=V("react.suspense"),x=V("react.suspense_list"),O=V("react.memo"),P=V("react.lazy"),D=V("react.block"),V("react.scope"),L=V("react.opaque.id"),M=V("react.debug_trace_mode"),U=V("react.offscreen"),F=V("react.legacy_hidden")}var j,z="function"===typeof Symbol&&Symbol.iterator;function B(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=z&&e[z]||e["@@iterator"])?e:null}function q(e){if(void 0===j)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);j=t&&t[1]||""}return"\n"+j+e}var H=!1;function K(e,t){if(!e||H)return"";H=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(l){var r=l}Reflect.construct(e,[],t)}else{try{t.call()}catch(l){r=l}e.call(t.prototype)}else{try{throw Error()}catch(l){r=l}e()}}catch(l){if(l&&r&&"string"===typeof l.stack){for(var i=l.stack.split("\n"),s=r.stack.split("\n"),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(1!==o||1!==a)do{if(o--,0>--a||i[o]!==s[a])return"\n"+i[o].replace(" at new "," at ")}while(1<=o&&0<=a);break}}}finally{H=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?q(e):""}function W(e){switch(e.tag){case 5:return q(e.type);case 16:return q("Lazy");case 13:return q("Suspense");case 19:return q("SuspenseList");case 0:case 2:case 15:return e=K(e.type,!1);case 11:return e=K(e.type.render,!1);case 22:return e=K(e.type._render,!1);case 1:return e=K(e.type,!0);default:return""}}function G(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case T:return"Fragment";case k:return"Portal";case I:return"Profiler";case S:return"StrictMode";case R:return"Suspense";case x:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case A:return(e.displayName||"Context")+".Consumer";case C:return(e._context.displayName||"Context")+".Provider";case N:var t=e.render;return t=t.displayName||t.name||"",e.displayName||(""!==t?"ForwardRef("+t+")":"ForwardRef");case O:return G(e.type);case D:return G(e._render);case P:t=e._payload,e=e._init;try{return G(e(t))}catch(n){}}return null}function Q(e){switch(typeof e){case"boolean":case"number":case"object":case"string":case"undefined":return e;default:return""}}function $(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function Y(e){e._valueTracker||(e._valueTracker=function(e){var t=$(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,s=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,s.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function X(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=$(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function J(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Z(e,t){var n=t.checked;return i({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function ee(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=Q(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function te(e,t){null!=(t=t.checked)&&b(e,"checked",t,!1)}function ne(e,t){te(e,t);var n=Q(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ie(e,t.type,n):t.hasOwnProperty("defaultValue")&&ie(e,t.type,Q(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function re(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ie(e,t,n){"number"===t&&J(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}function se(e,t){return e=i({children:void 0},t),(t=function(e){var t="";return r.Children.forEach(e,function(e){null!=e&&(t+=e)}),t}(t.children))&&(e.children=t),e}function oe(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Q(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function ae(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(o(91));return i({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function le(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(o(92));if(Array.isArray(n)){if(!(1>=n.length))throw Error(o(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:Q(n)}}function ue(e,t){var n=Q(t.value),r=Q(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function ce(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}var he="http://www.w3.org/1999/xhtml",de="http://www.w3.org/2000/svg";function fe(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function pe(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?fe(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ge,me,ye=(me=function(e,t){if(e.namespaceURI!==de||"innerHTML"in e)e.innerHTML=t;else{for((ge=ge||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ge.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction(function(){return me(e,t)})}:me);function ve(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var we={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},be=["Webkit","ms","Moz","O"];function Ee(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||we.hasOwnProperty(e)&&we[e]?(""+t).trim():t+"px"}function _e(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=Ee(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(we).forEach(function(e){be.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),we[t]=we[e]})});var ke=i({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Te(e,t){if(t){if(ke[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(o(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(o(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(o(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(o(62))}}function Se(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function Ie(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Ce=null,Ae=null,Ne=null;function Re(e){if(e=ri(e)){if("function"!==typeof Ce)throw Error(o(280));var t=e.stateNode;t&&(t=si(t),Ce(e.stateNode,e.type,t))}}function xe(e){Ae?Ne?Ne.push(e):Ne=[e]:Ae=e}function Oe(){if(Ae){var e=Ae,t=Ne;if(Ne=Ae=null,Re(e),t)for(e=0;e<t.length;e++)Re(t[e])}}function Pe(e,t){return e(t)}function De(e,t,n,r,i){return e(t,n,r,i)}function Le(){}var Me=Pe,Ue=!1,Fe=!1;function Ve(){null===Ae&&null===Ne||(Le(),Oe())}function je(e,t){var n=e.stateNode;if(null===n)return null;var r=si(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(o(231,t,typeof n));return n}var ze=!1;if(h)try{var Be={};Object.defineProperty(Be,"passive",{get:function(){ze=!0}}),window.addEventListener("test",Be,Be),window.removeEventListener("test",Be,Be)}catch(me){ze=!1}function qe(e,t,n,r,i,s,o,a,l){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(c){this.onError(c)}}var He=!1,Ke=null,We=!1,Ge=null,Qe={onError:function(e){He=!0,Ke=e}};function $e(e,t,n,r,i,s,o,a,l){He=!1,Ke=null,qe.apply(Qe,arguments)}function Ye(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(1026&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function Xe(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function Je(e){if(Ye(e)!==e)throw Error(o(188))}function Ze(e){if(e=function(e){var t=e.alternate;if(!t){if(null===(t=Ye(e)))throw Error(o(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var s=i.alternate;if(null===s){if(null!==(r=i.return)){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return Je(i),e;if(s===r)return Je(i),t;s=s.sibling}throw Error(o(188))}if(n.return!==r.return)n=i,r=s;else{for(var a=!1,l=i.child;l;){if(l===n){a=!0,n=i,r=s;break}if(l===r){a=!0,r=i,n=s;break}l=l.sibling}if(!a){for(l=s.child;l;){if(l===n){a=!0,n=s,r=i;break}if(l===r){a=!0,r=s,n=i;break}l=l.sibling}if(!a)throw Error(o(189))}}if(n.alternate!==r)throw Error(o(190))}if(3!==n.tag)throw Error(o(188));return n.stateNode.current===n?e:t}(e),!e)return null;for(var t=e;;){if(5===t.tag||6===t.tag)return t;if(t.child)t.child.return=t,t=t.child;else{if(t===e)break;for(;!t.sibling;){if(!t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}}return null}function et(e,t){for(var n=e.alternate;null!==t;){if(t===e||t===n)return!0;t=t.return}return!1}var tt,nt,rt,it,st=!1,ot=[],at=null,lt=null,ut=null,ct=new Map,ht=new Map,dt=[],ft="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function pt(e,t,n,r,i){return{blockedOn:e,domEventName:t,eventSystemFlags:16|n,nativeEvent:i,targetContainers:[r]}}function gt(e,t){switch(e){case"focusin":case"focusout":at=null;break;case"dragenter":case"dragleave":lt=null;break;case"mouseover":case"mouseout":ut=null;break;case"pointerover":case"pointerout":ct.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":ht.delete(t.pointerId)}}function mt(e,t,n,r,i,s){return null===e||e.nativeEvent!==s?(e=pt(t,n,r,i,s),null!==t&&(null!==(t=ri(t))&&nt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function yt(e){var t=ni(e.target);if(null!==t){var n=Ye(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=Xe(n)))return e.blockedOn=t,void it(e.lanePriority,function(){s.unstable_runWithPriority(e.priority,function(){rt(n)})})}else if(3===t&&n.stateNode.hydrate)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function vt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Zt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=ri(n))&&nt(t),e.blockedOn=n,!1;t.shift()}return!0}function wt(e,t,n){vt(e)&&n.delete(t)}function bt(){for(st=!1;0<ot.length;){var e=ot[0];if(null!==e.blockedOn){null!==(e=ri(e.blockedOn))&&tt(e);break}for(var t=e.targetContainers;0<t.length;){var n=Zt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n){e.blockedOn=n;break}t.shift()}null===e.blockedOn&&ot.shift()}null!==at&&vt(at)&&(at=null),null!==lt&&vt(lt)&&(lt=null),null!==ut&&vt(ut)&&(ut=null),ct.forEach(wt),ht.forEach(wt)}function Et(e,t){e.blockedOn===t&&(e.blockedOn=null,st||(st=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,bt)))}function _t(e){function t(t){return Et(t,e)}if(0<ot.length){Et(ot[0],e);for(var n=1;n<ot.length;n++){var r=ot[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==at&&Et(at,e),null!==lt&&Et(lt,e),null!==ut&&Et(ut,e),ct.forEach(t),ht.forEach(t),n=0;n<dt.length;n++)(r=dt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<dt.length&&null===(n=dt[0]).blockedOn;)yt(n),null===n.blockedOn&&dt.shift()}function kt(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Tt={animationend:kt("Animation","AnimationEnd"),animationiteration:kt("Animation","AnimationIteration"),animationstart:kt("Animation","AnimationStart"),transitionend:kt("Transition","TransitionEnd")},St={},It={};function Ct(e){if(St[e])return St[e];if(!Tt[e])return e;var t,n=Tt[e];for(t in n)if(n.hasOwnProperty(t)&&t in It)return St[e]=n[t];return e}h&&(It=document.createElement("div").style,"AnimationEvent"in window||(delete Tt.animationend.animation,delete Tt.animationiteration.animation,delete Tt.animationstart.animation),"TransitionEvent"in window||delete Tt.transitionend.transition);var At=Ct("animationend"),Nt=Ct("animationiteration"),Rt=Ct("animationstart"),xt=Ct("transitionend"),Ot=new Map,Pt=new Map,Dt=["abort","abort",At,"animationEnd",Nt,"animationIteration",Rt,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",xt,"transitionEnd","waiting","waiting"];function Lt(e,t){for(var n=0;n<e.length;n+=2){var r=e[n],i=e[n+1];i="on"+(i[0].toUpperCase()+i.slice(1)),Pt.set(r,t),Ot.set(r,i),u(i,[r])}}(0,s.unstable_now)();var Mt=8;function Ut(e){if(0!==(1&e))return Mt=15,1;if(0!==(2&e))return Mt=14,2;if(0!==(4&e))return Mt=13,4;var t=24&e;return 0!==t?(Mt=12,t):0!==(32&e)?(Mt=11,32):0!==(t=192&e)?(Mt=10,t):0!==(256&e)?(Mt=9,256):0!==(t=3584&e)?(Mt=8,t):0!==(4096&e)?(Mt=7,4096):0!==(t=4186112&e)?(Mt=6,t):0!==(t=62914560&e)?(Mt=5,t):67108864&e?(Mt=4,67108864):0!==(134217728&e)?(Mt=3,134217728):0!==(t=805306368&e)?(Mt=2,t):0!==(1073741824&e)?(Mt=1,1073741824):(Mt=8,e)}function Ft(e,t){var n=e.pendingLanes;if(0===n)return Mt=0;var r=0,i=0,s=e.expiredLanes,o=e.suspendedLanes,a=e.pingedLanes;if(0!==s)r=s,i=Mt=15;else if(0!==(s=134217727&n)){var l=s&~o;0!==l?(r=Ut(l),i=Mt):0!==(a&=s)&&(r=Ut(a),i=Mt)}else 0!==(s=n&~o)?(r=Ut(s),i=Mt):0!==a&&(r=Ut(a),i=Mt);if(0===r)return 0;if(r=n&((0>(r=31-Ht(r))?0:1<<r)<<1)-1,0!==t&&t!==r&&0===(t&o)){if(Ut(t),i<=Mt)return t;Mt=i}if(0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-Ht(t)),r|=e[n],t&=~i;return r}function Vt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function jt(e,t){switch(e){case 15:return 1;case 14:return 2;case 12:return 0===(e=zt(24&~t))?jt(10,t):e;case 10:return 0===(e=zt(192&~t))?jt(8,t):e;case 8:return 0===(e=zt(3584&~t))&&(0===(e=zt(4186112&~t))&&(e=512)),e;case 2:return 0===(t=zt(805306368&~t))&&(t=268435456),t}throw Error(o(358,e))}function zt(e){return e&-e}function Bt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function qt(e,t,n){e.pendingLanes|=t;var r=t-1;e.suspendedLanes&=r,e.pingedLanes&=r,(e=e.eventTimes)[t=31-Ht(t)]=n}var Ht=Math.clz32?Math.clz32:function(e){return 0===e?32:31-(Kt(e)/Wt|0)|0},Kt=Math.log,Wt=Math.LN2;var Gt=s.unstable_UserBlockingPriority,Qt=s.unstable_runWithPriority,$t=!0;function Yt(e,t,n,r){Ue||Le();var i=Jt,s=Ue;Ue=!0;try{De(i,e,t,n,r)}finally{(Ue=s)||Ve()}}function Xt(e,t,n,r){Qt(Gt,Jt.bind(null,e,t,n,r))}function Jt(e,t,n,r){var i;if($t)if((i=0===(4&t))&&0<ot.length&&-1<ft.indexOf(e))e=pt(null,e,t,n,r),ot.push(e);else{var s=Zt(e,t,n,r);if(null===s)i&&gt(e,r);else{if(i){if(-1<ft.indexOf(e))return e=pt(s,e,t,n,r),void ot.push(e);if(function(e,t,n,r,i){switch(t){case"focusin":return at=mt(at,e,t,n,r,i),!0;case"dragenter":return lt=mt(lt,e,t,n,r,i),!0;case"mouseover":return ut=mt(ut,e,t,n,r,i),!0;case"pointerover":var s=i.pointerId;return ct.set(s,mt(ct.get(s)||null,e,t,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,ht.set(s,mt(ht.get(s)||null,e,t,n,r,i)),!0}return!1}(s,e,t,n,r))return;gt(e,r)}Lr(e,t,r,null,n)}}}function Zt(e,t,n,r){var i=Ie(r);if(null!==(i=ni(i))){var s=Ye(i);if(null===s)i=null;else{var o=s.tag;if(13===o){if(null!==(i=Xe(s)))return i;i=null}else if(3===o){if(s.stateNode.hydrate)return 3===s.tag?s.stateNode.containerInfo:null;i=null}else s!==i&&(i=null)}}return Lr(e,t,r,i,n),null}var en=null,tn=null,nn=null;function rn(){if(nn)return nn;var e,t,n=tn,r=n.length,i="value"in en?en.value:en.textContent,s=i.length;for(e=0;e<r&&n[e]===i[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===i[s-t];t++);return nn=i.slice(e,1<t?1-t:void 0)}function sn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function on(){return!0}function an(){return!1}function ln(e){function t(t,n,r,i,s){for(var o in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=s,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(i):i[o]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?on:an,this.isPropagationStopped=an,this}return i(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=on)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=on)},persist:function(){},isPersistent:on}),t}var un,cn,hn,dn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},fn=ln(dn),pn=i({},dn,{view:0,detail:0}),gn=ln(pn),mn=i({},pn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:An,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==hn&&(hn&&"mousemove"===e.type?(un=e.screenX-hn.screenX,cn=e.screenY-hn.screenY):cn=un=0,hn=e),un)},movementY:function(e){return"movementY"in e?e.movementY:cn}}),yn=ln(mn),vn=ln(i({},mn,{dataTransfer:0})),wn=ln(i({},pn,{relatedTarget:0})),bn=ln(i({},dn,{animationName:0,elapsedTime:0,pseudoElement:0})),En=i({},dn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),_n=ln(En),kn=ln(i({},dn,{data:0})),Tn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Sn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},In={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Cn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=In[e])&&!!t[e]}function An(){return Cn}var Nn=i({},pn,{key:function(e){if(e.key){var t=Tn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=sn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?Sn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:An,charCode:function(e){return"keypress"===e.type?sn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?sn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Rn=ln(Nn),xn=ln(i({},mn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),On=ln(i({},pn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:An})),Pn=ln(i({},dn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Dn=i({},mn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Ln=ln(Dn),Mn=[9,13,27,32],Un=h&&"CompositionEvent"in window,Fn=null;h&&"documentMode"in document&&(Fn=document.documentMode);var Vn=h&&"TextEvent"in window&&!Fn,jn=h&&(!Un||Fn&&8<Fn&&11>=Fn),zn=String.fromCharCode(32),Bn=!1;function qn(e,t){switch(e){case"keyup":return-1!==Mn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Hn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Kn=!1;var Wn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Gn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Wn[e.type]:"textarea"===t}function Qn(e,t,n,r){xe(r),0<(t=Ur(t,"onChange")).length&&(n=new fn("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var $n=null,Yn=null;function Xn(e){Nr(e,0)}function Jn(e){if(X(ii(e)))return e}function Zn(e,t){if("change"===e)return t}var er=!1;if(h){var tr;if(h){var nr="oninput"in document;if(!nr){var rr=document.createElement("div");rr.setAttribute("oninput","return;"),nr="function"===typeof rr.oninput}tr=nr}else tr=!1;er=tr&&(!document.documentMode||9<document.documentMode)}function ir(){$n&&($n.detachEvent("onpropertychange",sr),Yn=$n=null)}function sr(e){if("value"===e.propertyName&&Jn(Yn)){var t=[];if(Qn(t,Yn,e,Ie(e)),e=Xn,Ue)e(t);else{Ue=!0;try{Pe(e,t)}finally{Ue=!1,Ve()}}}}function or(e,t,n){"focusin"===e?(ir(),Yn=n,($n=t).attachEvent("onpropertychange",sr)):"focusout"===e&&ir()}function ar(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Jn(Yn)}function lr(e,t){if("click"===e)return Jn(t)}function ur(e,t){if("input"===e||"change"===e)return Jn(t)}var cr="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},hr=Object.prototype.hasOwnProperty;function dr(e,t){if(cr(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++)if(!hr.call(t,n[r])||!cr(e[n[r]],t[n[r]]))return!1;return!0}function fr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function pr(e,t){var n,r=fr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=fr(r)}}function gr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?gr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function mr(){for(var e=window,t=J();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=J((e=t.contentWindow).document)}return t}function yr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var vr=h&&"documentMode"in document&&11>=document.documentMode,wr=null,br=null,Er=null,_r=!1;function kr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;_r||null==wr||wr!==J(r)||("selectionStart"in(r=wr)&&yr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},Er&&dr(Er,r)||(Er=r,0<(r=Ur(br,"onSelect")).length&&(t=new fn("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=wr)))}Lt("cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focusin focus focusout blur input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0),Lt("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1),Lt(Dt,2);for(var Tr="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),Sr=0;Sr<Tr.length;Sr++)Pt.set(Tr[Sr],0);c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),u("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),u("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),u("onBeforeInput",["compositionend","keypress","textInput","paste"]),u("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ir="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Cr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ir));function Ar(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,s,a,l,u){if($e.apply(this,arguments),He){if(!He)throw Error(o(198));var c=Ke;He=!1,Ke=null,We||(We=!0,Ge=c)}}(r,t,void 0,e),e.currentTarget=null}function Nr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var s=void 0;if(t)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;Ar(i,a,u),s=l}else for(o=0;o<r.length;o++){if(l=(a=r[o]).instance,u=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;Ar(i,a,u),s=l}}}if(We)throw e=Ge,We=!1,Ge=null,e}function Rr(e,t){var n=oi(t),r=e+"__bubble";n.has(r)||(Dr(t,e,2,!1),n.add(r))}var xr="_reactListening"+Math.random().toString(36).slice(2);function Or(e){e[xr]||(e[xr]=!0,a.forEach(function(t){Cr.has(t)||Pr(t,!1,e,null),Pr(t,!0,e,null)}))}function Pr(e,t,n,r){var i=4<arguments.length&&void 0!==arguments[4]?arguments[4]:0,s=n;if("selectionchange"===e&&9!==n.nodeType&&(s=n.ownerDocument),null!==r&&!t&&Cr.has(e)){if("scroll"!==e)return;i|=2,s=r}var o=oi(s),a=e+"__"+(t?"capture":"bubble");o.has(a)||(t&&(i|=4),Dr(s,e,i,t),o.add(a))}function Dr(e,t,n,r){var i=Pt.get(t);switch(void 0===i?2:i){case 0:i=Yt;break;case 1:i=Xt;break;default:i=Jt}n=i.bind(null,t,n,e),i=void 0,!ze||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Lr(e,t,n,r,i){var s=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var o=r.tag;if(3===o||4===o){var a=r.stateNode.containerInfo;if(a===i||8===a.nodeType&&a.parentNode===i)break;if(4===o)for(o=r.return;null!==o;){var l=o.tag;if((3===l||4===l)&&((l=o.stateNode.containerInfo)===i||8===l.nodeType&&l.parentNode===i))return;o=o.return}for(;null!==a;){if(null===(o=ni(a)))return;if(5===(l=o.tag)||6===l){r=s=o;continue e}a=a.parentNode}}r=r.return}!function(e,t,n){if(Fe)return e(t,n);Fe=!0;try{return Me(e,t,n)}finally{Fe=!1,Ve()}}(function(){var r=s,i=Ie(n),o=[];e:{var a=Ot.get(e);if(void 0!==a){var l=fn,u=e;switch(e){case"keypress":if(0===sn(n))break e;case"keydown":case"keyup":l=Rn;break;case"focusin":u="focus",l=wn;break;case"focusout":u="blur",l=wn;break;case"beforeblur":case"afterblur":l=wn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=yn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=vn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=On;break;case At:case Nt:case Rt:l=bn;break;case xt:l=Pn;break;case"scroll":l=gn;break;case"wheel":l=Ln;break;case"copy":case"cut":case"paste":l=_n;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=xn}var c=0!==(4&t),h=!c&&"scroll"===e,d=c?null!==a?a+"Capture":null:a;c=[];for(var f,p=r;null!==p;){var g=(f=p).stateNode;if(5===f.tag&&null!==g&&(f=g,null!==d&&(null!=(g=je(p,d))&&c.push(Mr(p,g,f)))),h)break;p=p.return}0<c.length&&(a=new l(a,u,null,n,i),o.push({event:a,listeners:c}))}}if(0===(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(a="mouseover"===e||"pointerover"===e)||0!==(16&t)||!(u=n.relatedTarget||n.fromElement)||!ni(u)&&!u[ei])&&(l||a)&&(a=i.window===i?i:(a=i.ownerDocument)?a.defaultView||a.parentWindow:window,l?(l=r,null!==(u=(u=n.relatedTarget||n.toElement)?ni(u):null)&&(u!==(h=Ye(u))||5!==u.tag&&6!==u.tag)&&(u=null)):(l=null,u=r),l!==u)){if(c=yn,g="onMouseLeave",d="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(c=xn,g="onPointerLeave",d="onPointerEnter",p="pointer"),h=null==l?a:ii(l),f=null==u?a:ii(u),(a=new c(g,p+"leave",l,n,i)).target=h,a.relatedTarget=f,g=null,ni(i)===r&&((c=new c(d,p+"enter",u,n,i)).target=f,c.relatedTarget=h,g=c),h=g,l&&u)e:{for(d=u,p=0,f=c=l;f;f=Fr(f))p++;for(f=0,g=d;g;g=Fr(g))f++;for(;0<p-f;)c=Fr(c),p--;for(;0<f-p;)d=Fr(d),f--;for(;p--;){if(c===d||null!==d&&c===d.alternate)break e;c=Fr(c),d=Fr(d)}c=null}else c=null;null!==l&&Vr(o,a,l,c,!1),null!==u&&null!==h&&Vr(o,h,u,c,!0)}if("select"===(l=(a=r?ii(r):window).nodeName&&a.nodeName.toLowerCase())||"input"===l&&"file"===a.type)var m=Zn;else if(Gn(a))if(er)m=ur;else{m=ar;var y=or}else(l=a.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===a.type||"radio"===a.type)&&(m=lr);switch(m&&(m=m(e,r))?Qn(o,m,n,i):(y&&y(e,a,r),"focusout"===e&&(y=a._wrapperState)&&y.controlled&&"number"===a.type&&ie(a,"number",a.value)),y=r?ii(r):window,e){case"focusin":(Gn(y)||"true"===y.contentEditable)&&(wr=y,br=r,Er=null);break;case"focusout":Er=br=wr=null;break;case"mousedown":_r=!0;break;case"contextmenu":case"mouseup":case"dragend":_r=!1,kr(o,n,i);break;case"selectionchange":if(vr)break;case"keydown":case"keyup":kr(o,n,i)}var v;if(Un)e:{switch(e){case"compositionstart":var w="onCompositionStart";break e;case"compositionend":w="onCompositionEnd";break e;case"compositionupdate":w="onCompositionUpdate";break e}w=void 0}else Kn?qn(e,n)&&(w="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(w="onCompositionStart");w&&(jn&&"ko"!==n.locale&&(Kn||"onCompositionStart"!==w?"onCompositionEnd"===w&&Kn&&(v=rn()):(tn="value"in(en=i)?en.value:en.textContent,Kn=!0)),0<(y=Ur(r,w)).length&&(w=new kn(w,e,null,n,i),o.push({event:w,listeners:y}),v?w.data=v:null!==(v=Hn(n))&&(w.data=v))),(v=Vn?function(e,t){switch(e){case"compositionend":return Hn(t);case"keypress":return 32!==t.which?null:(Bn=!0,zn);case"textInput":return(e=t.data)===zn&&Bn?null:e;default:return null}}(e,n):function(e,t){if(Kn)return"compositionend"===e||!Un&&qn(e,t)?(e=rn(),nn=tn=en=null,Kn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return jn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Ur(r,"onBeforeInput")).length&&(i=new kn("onBeforeInput","beforeinput",null,n,i),o.push({event:i,listeners:r}),i.data=v))}Nr(o,t)})}function Mr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Ur(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,s=i.stateNode;5===i.tag&&null!==s&&(i=s,null!=(s=je(e,n))&&r.unshift(Mr(e,s,i)),null!=(s=je(e,t))&&r.push(Mr(e,s,i))),e=e.return}return r}function Fr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Vr(e,t,n,r,i){for(var s=t._reactName,o=[];null!==n&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(null!==l&&l===r)break;5===a.tag&&null!==u&&(a=u,i?null!=(l=je(n,s))&&o.unshift(Mr(n,l,a)):i||null!=(l=je(n,s))&&o.push(Mr(n,l,a))),n=n.return}0!==o.length&&e.push({event:t,listeners:o})}function jr(){}var zr=null,Br=null;function qr(e,t){switch(e){case"button":case"input":case"select":case"textarea":return!!t.autoFocus}return!1}function Hr(e,t){return"textarea"===e||"option"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var Kr="function"===typeof setTimeout?setTimeout:void 0,Wr="function"===typeof clearTimeout?clearTimeout:void 0;function Gr(e){1===e.nodeType?e.textContent="":9===e.nodeType&&(null!=(e=e.body)&&(e.textContent=""))}function Qr(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break}return e}function $r(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var Yr=0;var Xr=Math.random().toString(36).slice(2),Jr="__reactFiber$"+Xr,Zr="__reactProps$"+Xr,ei="__reactContainer$"+Xr,ti="__reactEvents$"+Xr;function ni(e){var t=e[Jr];if(t)return t;for(var n=e.parentNode;n;){if(t=n[ei]||n[Jr]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=$r(e);null!==e;){if(n=e[Jr])return n;e=$r(e)}return t}n=(e=n).parentNode}return null}function ri(e){return!(e=e[Jr]||e[ei])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function ii(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(o(33))}function si(e){return e[Zr]||null}function oi(e){var t=e[ti];return void 0===t&&(t=e[ti]=new Set),t}var ai=[],li=-1;function ui(e){return{current:e}}function ci(e){0>li||(e.current=ai[li],ai[li]=null,li--)}function hi(e,t){li++,ai[li]=e.current,e.current=t}var di={},fi=ui(di),pi=ui(!1),gi=di;function mi(e,t){var n=e.type.contextTypes;if(!n)return di;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,s={};for(i in n)s[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function yi(e){return null!==(e=e.childContextTypes)&&void 0!==e}function vi(){ci(pi),ci(fi)}function wi(e,t,n){if(fi.current!==di)throw Error(o(168));hi(fi,t),hi(pi,n)}function bi(e,t,n){var r=e.stateNode;if(e=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var s in r=r.getChildContext())if(!(s in e))throw Error(o(108,G(t)||"Unknown",s));return i({},n,r)}function Ei(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||di,gi=fi.current,hi(fi,e),hi(pi,pi.current),!0}function _i(e,t,n){var r=e.stateNode;if(!r)throw Error(o(169));n?(e=bi(e,t,gi),r.__reactInternalMemoizedMergedChildContext=e,ci(pi),ci(fi),hi(fi,e)):ci(pi),hi(pi,n)}var ki=null,Ti=null,Si=s.unstable_runWithPriority,Ii=s.unstable_scheduleCallback,Ci=s.unstable_cancelCallback,Ai=s.unstable_shouldYield,Ni=s.unstable_requestPaint,Ri=s.unstable_now,xi=s.unstable_getCurrentPriorityLevel,Oi=s.unstable_ImmediatePriority,Pi=s.unstable_UserBlockingPriority,Di=s.unstable_NormalPriority,Li=s.unstable_LowPriority,Mi=s.unstable_IdlePriority,Ui={},Fi=void 0!==Ni?Ni:function(){},Vi=null,ji=null,zi=!1,Bi=Ri(),qi=1e4>Bi?Ri:function(){return Ri()-Bi};function Hi(){switch(xi()){case Oi:return 99;case Pi:return 98;case Di:return 97;case Li:return 96;case Mi:return 95;default:throw Error(o(332))}}function Ki(e){switch(e){case 99:return Oi;case 98:return Pi;case 97:return Di;case 96:return Li;case 95:return Mi;default:throw Error(o(332))}}function Wi(e,t){return e=Ki(e),Si(e,t)}function Gi(e,t,n){return e=Ki(e),Ii(e,t,n)}function Qi(){if(null!==ji){var e=ji;ji=null,Ci(e)}$i()}function $i(){if(!zi&&null!==Vi){zi=!0;var e=0;try{var t=Vi;Wi(99,function(){for(;e<t.length;e++){var n=t[e];do{n=n(!0)}while(null!==n)}}),Vi=null}catch(n){throw null!==Vi&&(Vi=Vi.slice(e+1)),Ii(Oi,Qi),n}finally{zi=!1}}}var Yi=E.ReactCurrentBatchConfig;function Xi(e,t){if(e&&e.defaultProps){for(var n in t=i({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var Ji=ui(null),Zi=null,es=null,ts=null;function ns(){ts=es=Zi=null}function rs(e){var t=Ji.current;ci(Ji),e.type._context._currentValue=t}function is(e,t){for(;null!==e;){var n=e.alternate;if((e.childLanes&t)===t){if(null===n||(n.childLanes&t)===t)break;n.childLanes|=t}else e.childLanes|=t,null!==n&&(n.childLanes|=t);e=e.return}}function ss(e,t){Zi=e,ts=es=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(Uo=!0),e.firstContext=null)}function os(e,t){if(ts!==e&&!1!==t&&0!==t)if("number"===typeof t&&1073741823!==t||(ts=e,t=1073741823),t={context:e,observedBits:t,next:null},null===es){if(null===Zi)throw Error(o(308));es=t,Zi.dependencies={lanes:0,firstContext:t,responders:null}}else es=es.next=t;return e._currentValue}var as=!1;function ls(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null},effects:null}}function us(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function cs(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function hs(e,t){if(null!==(e=e.updateQueue)){var n=(e=e.shared).pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}}function ds(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,s=null;if(null!==(n=n.firstBaseUpdate)){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===s?i=s=o:s=s.next=o,n=n.next}while(null!==n);null===s?i=s=t:s=s.next=t}else i=s=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function fs(e,t,n,r){var s=e.updateQueue;as=!1;var o=s.firstBaseUpdate,a=s.lastBaseUpdate,l=s.shared.pending;if(null!==l){s.shared.pending=null;var u=l,c=u.next;u.next=null,null===a?o=c:a.next=c,a=u;var h=e.alternate;if(null!==h){var d=(h=h.updateQueue).lastBaseUpdate;d!==a&&(null===d?h.firstBaseUpdate=c:d.next=c,h.lastBaseUpdate=u)}}if(null!==o){for(d=s.baseState,a=0,h=c=u=null;;){l=o.lane;var f=o.eventTime;if((r&l)===l){null!==h&&(h=h.next={eventTime:f,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var p=e,g=o;switch(l=t,f=n,g.tag){case 1:if("function"===typeof(p=g.payload)){d=p.call(f,d,l);break e}d=p;break e;case 3:p.flags=-4097&p.flags|64;case 0:if(null===(l="function"===typeof(p=g.payload)?p.call(f,d,l):p)||void 0===l)break e;d=i({},d,l);break e;case 2:as=!0}}null!==o.callback&&(e.flags|=32,null===(l=s.effects)?s.effects=[o]:l.push(o))}else f={eventTime:f,lane:l,tag:o.tag,payload:o.payload,callback:o.callback,next:null},null===h?(c=h=f,u=d):h=h.next=f,a|=l;if(null===(o=o.next)){if(null===(l=s.shared.pending))break;o=l.next,l.next=null,s.lastBaseUpdate=l,s.shared.pending=null}}null===h&&(u=d),s.baseState=u,s.firstBaseUpdate=c,s.lastBaseUpdate=h,Ba|=a,e.lanes=a,e.memoizedState=d}}function ps(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(o(191,i));i.call(r)}}}var gs=(new r.Component).refs;function ms(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:i({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var ys={isMounted:function(e){return!!(e=e._reactInternals)&&Ye(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=fl(),i=pl(e),s=cs(r,i);s.payload=t,void 0!==n&&null!==n&&(s.callback=n),hs(e,s),gl(e,i,r)},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=fl(),i=pl(e),s=cs(r,i);s.tag=1,s.payload=t,void 0!==n&&null!==n&&(s.callback=n),hs(e,s),gl(e,i,r)},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=fl(),r=pl(e),i=cs(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),hs(e,i),gl(e,r,n)}};function vs(e,t,n,r,i,s,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,s,o):!t.prototype||!t.prototype.isPureReactComponent||(!dr(n,r)||!dr(i,s))}function ws(e,t,n){var r=!1,i=di,s=t.contextType;return"object"===typeof s&&null!==s?s=os(s):(i=yi(t)?gi:fi.current,s=(r=null!==(r=t.contextTypes)&&void 0!==r)?mi(e,i):di),t=new t(n,s),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=ys,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=s),t}function bs(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&ys.enqueueReplaceState(t,t.state,null)}function Es(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=gs,ls(e);var s=t.contextType;"object"===typeof s&&null!==s?i.context=os(s):(s=yi(t)?gi:fi.current,i.context=mi(e,s)),fs(e,n,i,r),i.state=e.memoizedState,"function"===typeof(s=t.getDerivedStateFromProps)&&(ms(e,t,s,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&ys.enqueueReplaceState(i,i.state,null),fs(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4)}var _s=Array.isArray;function ks(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(o(309));var r=n.stateNode}if(!r)throw Error(o(147,e));var i=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===i?t.ref:(t=function(e){var t=r.refs;t===gs&&(t=r.refs={}),null===e?delete t[i]:t[i]=e},t._stringRef=i,t)}if("string"!==typeof e)throw Error(o(284));if(!n._owner)throw Error(o(290,e))}return e}function Ts(e,t){if("textarea"!==e.type)throw Error(o(31,"[object Object]"===Object.prototype.toString.call(t)?"object with keys {"+Object.keys(t).join(", ")+"}":t))}function Ss(e){function t(t,n){if(e){var r=t.lastEffect;null!==r?(r.nextEffect=n,t.lastEffect=n):t.firstEffect=t.lastEffect=n,n.nextEffect=null,n.flags=8}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Gl(e,t)).index=0,e.sibling=null,e}function s(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags=2,n):r:(t.flags=2,n):n}function a(t){return e&&null===t.alternate&&(t.flags=2),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=Xl(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function u(e,t,n,r){return null!==t&&t.elementType===n.type?((r=i(t,n.props)).ref=ks(e,t,n),r.return=e,r):((r=Ql(n.type,n.key,n.props,null,e.mode,r)).ref=ks(e,t,n),r.return=e,r)}function c(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Jl(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function h(e,t,n,r,s){return null===t||7!==t.tag?((t=$l(n,e.mode,r,s)).return=e,t):((t=i(t,n)).return=e,t)}function d(e,t,n){if("string"===typeof t||"number"===typeof t)return(t=Xl(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case _:return(n=Ql(t.type,t.key,t.props,null,e.mode,n)).ref=ks(e,null,t),n.return=e,n;case k:return(t=Jl(t,e.mode,n)).return=e,t}if(_s(t)||B(t))return(t=$l(t,e.mode,n,null)).return=e,t;Ts(e,t)}return null}function f(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n||"number"===typeof n)return null!==i?null:l(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case _:return n.key===i?n.type===T?h(e,t,n.props.children,r,i):u(e,t,n,r):null;case k:return n.key===i?c(e,t,n,r):null}if(_s(n)||B(n))return null!==i?null:h(e,t,n,r,null);Ts(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r||"number"===typeof r)return l(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case _:return e=e.get(null===r.key?n:r.key)||null,r.type===T?h(t,e,r.props.children,i,r.key):u(t,e,r,i);case k:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i)}if(_s(r)||B(r))return h(t,e=e.get(n)||null,r,i,null);Ts(t,r)}return null}function g(i,o,a,l){for(var u=null,c=null,h=o,g=o=0,m=null;null!==h&&g<a.length;g++){h.index>g?(m=h,h=null):m=h.sibling;var y=f(i,h,a[g],l);if(null===y){null===h&&(h=m);break}e&&h&&null===y.alternate&&t(i,h),o=s(y,o,g),null===c?u=y:c.sibling=y,c=y,h=m}if(g===a.length)return n(i,h),u;if(null===h){for(;g<a.length;g++)null!==(h=d(i,a[g],l))&&(o=s(h,o,g),null===c?u=h:c.sibling=h,c=h);return u}for(h=r(i,h);g<a.length;g++)null!==(m=p(h,i,g,a[g],l))&&(e&&null!==m.alternate&&h.delete(null===m.key?g:m.key),o=s(m,o,g),null===c?u=m:c.sibling=m,c=m);return e&&h.forEach(function(e){return t(i,e)}),u}function m(i,a,l,u){var c=B(l);if("function"!==typeof c)throw Error(o(150));if(null==(l=c.call(l)))throw Error(o(151));for(var h=c=null,g=a,m=a=0,y=null,v=l.next();null!==g&&!v.done;m++,v=l.next()){g.index>m?(y=g,g=null):y=g.sibling;var w=f(i,g,v.value,u);if(null===w){null===g&&(g=y);break}e&&g&&null===w.alternate&&t(i,g),a=s(w,a,m),null===h?c=w:h.sibling=w,h=w,g=y}if(v.done)return n(i,g),c;if(null===g){for(;!v.done;m++,v=l.next())null!==(v=d(i,v.value,u))&&(a=s(v,a,m),null===h?c=v:h.sibling=v,h=v);return c}for(g=r(i,g);!v.done;m++,v=l.next())null!==(v=p(g,i,m,v.value,u))&&(e&&null!==v.alternate&&g.delete(null===v.key?m:v.key),a=s(v,a,m),null===h?c=v:h.sibling=v,h=v);return e&&g.forEach(function(e){return t(i,e)}),c}return function(e,r,s,l){var u="object"===typeof s&&null!==s&&s.type===T&&null===s.key;u&&(s=s.props.children);var c="object"===typeof s&&null!==s;if(c)switch(s.$$typeof){case _:e:{for(c=s.key,u=r;null!==u;){if(u.key===c){if(7===u.tag){if(s.type===T){n(e,u.sibling),(r=i(u,s.props.children)).return=e,e=r;break e}}else if(u.elementType===s.type){n(e,u.sibling),(r=i(u,s.props)).ref=ks(e,u,s),r.return=e,e=r;break e}n(e,u);break}t(e,u),u=u.sibling}s.type===T?((r=$l(s.props.children,e.mode,l,s.key)).return=e,e=r):((l=Ql(s.type,s.key,s.props,null,e.mode,l)).ref=ks(e,r,s),l.return=e,e=l)}return a(e);case k:e:{for(u=s.key;null!==r;){if(r.key===u){if(4===r.tag&&r.stateNode.containerInfo===s.containerInfo&&r.stateNode.implementation===s.implementation){n(e,r.sibling),(r=i(r,s.children||[])).return=e,e=r;break e}n(e,r);break}t(e,r),r=r.sibling}(r=Jl(s,e.mode,l)).return=e,e=r}return a(e)}if("string"===typeof s||"number"===typeof s)return s=""+s,null!==r&&6===r.tag?(n(e,r.sibling),(r=i(r,s)).return=e,e=r):(n(e,r),(r=Xl(s,e.mode,l)).return=e,e=r),a(e);if(_s(s))return g(e,r,s,l);if(B(s))return m(e,r,s,l);if(c&&Ts(e,s),"undefined"===typeof s&&!u)switch(e.tag){case 1:case 22:case 0:case 11:case 15:throw Error(o(152,G(e.type)||"Component"))}return n(e,r)}}var Is=Ss(!0),Cs=Ss(!1),As={},Ns=ui(As),Rs=ui(As),xs=ui(As);function Os(e){if(e===As)throw Error(o(174));return e}function Ps(e,t){switch(hi(xs,t),hi(Rs,e),hi(Ns,As),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:pe(null,"");break;default:t=pe(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}ci(Ns),hi(Ns,t)}function Ds(){ci(Ns),ci(Rs),ci(xs)}function Ls(e){Os(xs.current);var t=Os(Ns.current),n=pe(t,e.type);t!==n&&(hi(Rs,e),hi(Ns,n))}function Ms(e){Rs.current===e&&(ci(Ns),ci(Rs))}var Us=ui(0);function Fs(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(64&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Vs=null,js=null,zs=!1;function Bs(e,t){var n=Kl(5,null,null,0);n.elementType="DELETED",n.type="DELETED",n.stateNode=t,n.return=e,n.flags=8,null!==e.lastEffect?(e.lastEffect.nextEffect=n,e.lastEffect=n):e.firstEffect=e.lastEffect=n}function qs(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,!0);default:return!1}}function Hs(e){if(zs){var t=js;if(t){var n=t;if(!qs(e,t)){if(!(t=Qr(n.nextSibling))||!qs(e,t))return e.flags=-1025&e.flags|2,zs=!1,void(Vs=e);Bs(Vs,n)}Vs=e,js=Qr(t.firstChild)}else e.flags=-1025&e.flags|2,zs=!1,Vs=e}}function Ks(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;Vs=e}function Ws(e){if(e!==Vs)return!1;if(!zs)return Ks(e),zs=!0,!1;var t=e.type;if(5!==e.tag||"head"!==t&&"body"!==t&&!Hr(t,e.memoizedProps))for(t=js;t;)Bs(e,t),t=Qr(t.nextSibling);if(Ks(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(o(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){js=Qr(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}js=null}}else js=Vs?Qr(e.stateNode.nextSibling):null;return!0}function Gs(){js=Vs=null,zs=!1}var Qs=[];function $s(){for(var e=0;e<Qs.length;e++)Qs[e]._workInProgressVersionPrimary=null;Qs.length=0}var Ys=E.ReactCurrentDispatcher,Xs=E.ReactCurrentBatchConfig,Js=0,Zs=null,eo=null,to=null,no=!1,ro=!1;function io(){throw Error(o(321))}function so(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!cr(e[n],t[n]))return!1;return!0}function oo(e,t,n,r,i,s){if(Js=s,Zs=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Ys.current=null===e||null===e.memoizedState?Po:Do,e=n(r,i),ro){s=0;do{if(ro=!1,!(25>s))throw Error(o(301));s+=1,to=eo=null,t.updateQueue=null,Ys.current=Lo,e=n(r,i)}while(ro)}if(Ys.current=Oo,t=null!==eo&&null!==eo.next,Js=0,to=eo=Zs=null,no=!1,t)throw Error(o(300));return e}function ao(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===to?Zs.memoizedState=to=e:to=to.next=e,to}function lo(){if(null===eo){var e=Zs.alternate;e=null!==e?e.memoizedState:null}else e=eo.next;var t=null===to?Zs.memoizedState:to.next;if(null!==t)to=t,eo=e;else{if(null===e)throw Error(o(310));e={memoizedState:(eo=e).memoizedState,baseState:eo.baseState,baseQueue:eo.baseQueue,queue:eo.queue,next:null},null===to?Zs.memoizedState=to=e:to=to.next=e}return to}function uo(e,t){return"function"===typeof t?t(e):t}function co(e){var t=lo(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=eo,i=r.baseQueue,s=n.pending;if(null!==s){if(null!==i){var a=i.next;i.next=s.next,s.next=a}r.baseQueue=i=s,n.pending=null}if(null!==i){i=i.next,r=r.baseState;var l=a=s=null,u=i;do{var c=u.lane;if((Js&c)===c)null!==l&&(l=l.next={lane:0,action:u.action,eagerReducer:u.eagerReducer,eagerState:u.eagerState,next:null}),r=u.eagerReducer===e?u.eagerState:e(r,u.action);else{var h={lane:c,action:u.action,eagerReducer:u.eagerReducer,eagerState:u.eagerState,next:null};null===l?(a=l=h,s=r):l=l.next=h,Zs.lanes|=c,Ba|=c}u=u.next}while(null!==u&&u!==i);null===l?s=r:l.next=a,cr(r,t.memoizedState)||(Uo=!0),t.memoizedState=r,t.baseState=s,t.baseQueue=l,n.lastRenderedState=r}return[t.memoizedState,n.dispatch]}function ho(e){var t=lo(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,s=t.memoizedState;if(null!==i){n.pending=null;var a=i=i.next;do{s=e(s,a.action),a=a.next}while(a!==i);cr(s,t.memoizedState)||(Uo=!0),t.memoizedState=s,null===t.baseQueue&&(t.baseState=s),n.lastRenderedState=s}return[s,r]}function fo(e,t,n){var r=t._getVersion;r=r(t._source);var i=t._workInProgressVersionPrimary;if(null!==i?e=i===r:(e=e.mutableReadLanes,(e=(Js&e)===e)&&(t._workInProgressVersionPrimary=r,Qs.push(t))),e)return n(t._source);throw Qs.push(t),Error(o(350))}function po(e,t,n,r){var i=Da;if(null===i)throw Error(o(349));var s=t._getVersion,a=s(t._source),l=Ys.current,u=l.useState(function(){return fo(i,t,n)}),c=u[1],h=u[0];u=to;var d=e.memoizedState,f=d.refs,p=f.getSnapshot,g=d.source;d=d.subscribe;var m=Zs;return e.memoizedState={refs:f,source:t,subscribe:r},l.useEffect(function(){f.getSnapshot=n,f.setSnapshot=c;var e=s(t._source);if(!cr(a,e)){e=n(t._source),cr(h,e)||(c(e),e=pl(m),i.mutableReadLanes|=e&i.pendingLanes),e=i.mutableReadLanes,i.entangledLanes|=e;for(var r=i.entanglements,o=e;0<o;){var l=31-Ht(o),u=1<<l;r[l]|=e,o&=~u}}},[n,t,r]),l.useEffect(function(){return r(t._source,function(){var e=f.getSnapshot,n=f.setSnapshot;try{n(e(t._source));var r=pl(m);i.mutableReadLanes|=r&i.pendingLanes}catch(s){n(function(){throw s})}})},[t,r]),cr(p,n)&&cr(g,t)&&cr(d,r)||((e={pending:null,dispatch:null,lastRenderedReducer:uo,lastRenderedState:h}).dispatch=c=xo.bind(null,Zs,e),u.queue=e,u.baseQueue=null,h=fo(i,t,n),u.memoizedState=u.baseState=h),h}function go(e,t,n){return po(lo(),e,t,n)}function mo(e){var t=ao();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e=(e=t.queue={pending:null,dispatch:null,lastRenderedReducer:uo,lastRenderedState:e}).dispatch=xo.bind(null,Zs,e),[t.memoizedState,e]}function yo(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=Zs.updateQueue)?(t={lastEffect:null},Zs.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function vo(e){return e={current:e},ao().memoizedState=e}function wo(){return lo().memoizedState}function bo(e,t,n,r){var i=ao();Zs.flags|=e,i.memoizedState=yo(1|t,n,void 0,void 0===r?null:r)}function Eo(e,t,n,r){var i=lo();r=void 0===r?null:r;var s=void 0;if(null!==eo){var o=eo.memoizedState;if(s=o.destroy,null!==r&&so(r,o.deps))return void yo(t,n,s,r)}Zs.flags|=e,i.memoizedState=yo(1|t,n,s,r)}function _o(e,t){return bo(516,4,e,t)}function ko(e,t){return Eo(516,4,e,t)}function To(e,t){return Eo(4,2,e,t)}function So(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Io(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Eo(4,2,So.bind(null,t,e),n)}function Co(){}function Ao(e,t){var n=lo();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&so(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function No(e,t){var n=lo();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&so(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Ro(e,t){var n=Hi();Wi(98>n?98:n,function(){e(!0)}),Wi(97<n?97:n,function(){var n=Xs.transition;Xs.transition=1;try{e(!1),t()}finally{Xs.transition=n}})}function xo(e,t,n){var r=fl(),i=pl(e),s={lane:i,action:n,eagerReducer:null,eagerState:null,next:null},o=t.pending;if(null===o?s.next=s:(s.next=o.next,o.next=s),t.pending=s,o=e.alternate,e===Zs||null!==o&&o===Zs)ro=no=!0;else{if(0===e.lanes&&(null===o||0===o.lanes)&&null!==(o=t.lastRenderedReducer))try{var a=t.lastRenderedState,l=o(a,n);if(s.eagerReducer=o,s.eagerState=l,cr(l,a))return}catch(u){}gl(e,i,r)}}var Oo={readContext:os,useCallback:io,useContext:io,useEffect:io,useImperativeHandle:io,useLayoutEffect:io,useMemo:io,useReducer:io,useRef:io,useState:io,useDebugValue:io,useDeferredValue:io,useTransition:io,useMutableSource:io,useOpaqueIdentifier:io,unstable_isNewReconciler:!1},Po={readContext:os,useCallback:function(e,t){return ao().memoizedState=[e,void 0===t?null:t],e},useContext:os,useEffect:_o,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,bo(4,2,So.bind(null,t,e),n)},useLayoutEffect:function(e,t){return bo(4,2,e,t)},useMemo:function(e,t){var n=ao();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=ao();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e=(e=r.queue={pending:null,dispatch:null,lastRenderedReducer:e,lastRenderedState:t}).dispatch=xo.bind(null,Zs,e),[r.memoizedState,e]},useRef:vo,useState:mo,useDebugValue:Co,useDeferredValue:function(e){var t=mo(e),n=t[0],r=t[1];return _o(function(){var t=Xs.transition;Xs.transition=1;try{r(e)}finally{Xs.transition=t}},[e]),n},useTransition:function(){var e=mo(!1),t=e[0];return vo(e=Ro.bind(null,e[1])),[e,t]},useMutableSource:function(e,t,n){var r=ao();return r.memoizedState={refs:{getSnapshot:t,setSnapshot:null},source:e,subscribe:n},po(r,e,t,n)},useOpaqueIdentifier:function(){if(zs){var e=!1,t=function(e){return{$$typeof:L,toString:e,valueOf:e}}(function(){throw e||(e=!0,n("r:"+(Yr++).toString(36))),Error(o(355))}),n=mo(t)[1];return 0===(2&Zs.mode)&&(Zs.flags|=516,yo(5,function(){n("r:"+(Yr++).toString(36))},void 0,null)),t}return mo(t="r:"+(Yr++).toString(36)),t},unstable_isNewReconciler:!1},Do={readContext:os,useCallback:Ao,useContext:os,useEffect:ko,useImperativeHandle:Io,useLayoutEffect:To,useMemo:No,useReducer:co,useRef:wo,useState:function(){return co(uo)},useDebugValue:Co,useDeferredValue:function(e){var t=co(uo),n=t[0],r=t[1];return ko(function(){var t=Xs.transition;Xs.transition=1;try{r(e)}finally{Xs.transition=t}},[e]),n},useTransition:function(){var e=co(uo)[0];return[wo().current,e]},useMutableSource:go,useOpaqueIdentifier:function(){return co(uo)[0]},unstable_isNewReconciler:!1},Lo={readContext:os,useCallback:Ao,useContext:os,useEffect:ko,useImperativeHandle:Io,useLayoutEffect:To,useMemo:No,useReducer:ho,useRef:wo,useState:function(){return ho(uo)},useDebugValue:Co,useDeferredValue:function(e){var t=ho(uo),n=t[0],r=t[1];return ko(function(){var t=Xs.transition;Xs.transition=1;try{r(e)}finally{Xs.transition=t}},[e]),n},useTransition:function(){var e=ho(uo)[0];return[wo().current,e]},useMutableSource:go,useOpaqueIdentifier:function(){return ho(uo)[0]},unstable_isNewReconciler:!1},Mo=E.ReactCurrentOwner,Uo=!1;function Fo(e,t,n,r){t.child=null===e?Cs(t,null,n,r):Is(t,e.child,n,r)}function Vo(e,t,n,r,i){n=n.render;var s=t.ref;return ss(t,i),r=oo(e,t,n,r,s,i),null===e||Uo?(t.flags|=1,Fo(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~i,oa(e,t,i))}function jo(e,t,n,r,i,s){if(null===e){var o=n.type;return"function"!==typeof o||Wl(o)||void 0!==o.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Ql(n.type,null,r,t,t.mode,s)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=o,zo(e,t,o,r,i,s))}return o=e.child,0===(i&s)&&(i=o.memoizedProps,(n=null!==(n=n.compare)?n:dr)(i,r)&&e.ref===t.ref)?oa(e,t,s):(t.flags|=1,(e=Gl(o,r)).ref=t.ref,e.return=t,t.child=e)}function zo(e,t,n,r,i,s){if(null!==e&&dr(e.memoizedProps,r)&&e.ref===t.ref){if(Uo=!1,0===(s&i))return t.lanes=e.lanes,oa(e,t,s);0!==(16384&e.flags)&&(Uo=!0)}return Ho(e,t,n,r,s)}function Bo(e,t,n){var r=t.pendingProps,i=r.children,s=null!==e?e.memoizedState:null;if("hidden"===r.mode||"unstable-defer-without-hiding"===r.mode)if(0===(4&t.mode))t.memoizedState={baseLanes:0},kl(t,n);else{if(0===(1073741824&n))return e=null!==s?s.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e},kl(t,e),null;t.memoizedState={baseLanes:0},kl(t,null!==s?s.baseLanes:n)}else null!==s?(r=s.baseLanes|n,t.memoizedState=null):r=n,kl(t,r);return Fo(e,t,i,n),t.child}function qo(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=128)}function Ho(e,t,n,r,i){var s=yi(n)?gi:fi.current;return s=mi(t,s),ss(t,i),n=oo(e,t,n,r,s,i),null===e||Uo?(t.flags|=1,Fo(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~i,oa(e,t,i))}function Ko(e,t,n,r,i){if(yi(n)){var s=!0;Ei(t)}else s=!1;if(ss(t,i),null===t.stateNode)null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),ws(t,n,r),Es(t,n,r,i),r=!0;else if(null===e){var o=t.stateNode,a=t.memoizedProps;o.props=a;var l=o.context,u=n.contextType;"object"===typeof u&&null!==u?u=os(u):u=mi(t,u=yi(n)?gi:fi.current);var c=n.getDerivedStateFromProps,h="function"===typeof c||"function"===typeof o.getSnapshotBeforeUpdate;h||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(a!==r||l!==u)&&bs(t,o,r,u),as=!1;var d=t.memoizedState;o.state=d,fs(t,r,o,i),l=t.memoizedState,a!==r||d!==l||pi.current||as?("function"===typeof c&&(ms(t,n,c,r),l=t.memoizedState),(a=as||vs(t,n,a,r,d,l,u))?(h||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.flags|=4)):("function"===typeof o.componentDidMount&&(t.flags|=4),t.memoizedProps=r,t.memoizedState=l),o.props=r,o.state=l,o.context=u,r=a):("function"===typeof o.componentDidMount&&(t.flags|=4),r=!1)}else{o=t.stateNode,us(e,t),a=t.memoizedProps,u=t.type===t.elementType?a:Xi(t.type,a),o.props=u,h=t.pendingProps,d=o.context,"object"===typeof(l=n.contextType)&&null!==l?l=os(l):l=mi(t,l=yi(n)?gi:fi.current);var f=n.getDerivedStateFromProps;(c="function"===typeof f||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(a!==h||d!==l)&&bs(t,o,r,l),as=!1,d=t.memoizedState,o.state=d,fs(t,r,o,i);var p=t.memoizedState;a!==h||d!==p||pi.current||as?("function"===typeof f&&(ms(t,n,f,r),p=t.memoizedState),(u=as||vs(t,n,u,r,d,p,l))?(c||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(r,p,l),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,p,l)),"function"===typeof o.componentDidUpdate&&(t.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.flags|=256)):("function"!==typeof o.componentDidUpdate||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=256),t.memoizedProps=r,t.memoizedState=p),o.props=r,o.state=p,o.context=l,r=u):("function"!==typeof o.componentDidUpdate||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=256),r=!1)}return Wo(e,t,n,r,s,i)}function Wo(e,t,n,r,i,s){qo(e,t);var o=0!==(64&t.flags);if(!r&&!o)return i&&_i(t,n,!1),oa(e,t,s);r=t.stateNode,Mo.current=t;var a=o&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&o?(t.child=Is(t,e.child,null,s),t.child=Is(t,null,a,s)):Fo(e,t,a,s),t.memoizedState=r.state,i&&_i(t,n,!0),t.child}function Go(e){var t=e.stateNode;t.pendingContext?wi(0,t.pendingContext,t.pendingContext!==t.context):t.context&&wi(0,t.context,!1),Ps(e,t.containerInfo)}var Qo,$o,Yo,Xo,Jo={dehydrated:null,retryLane:0};function Zo(e,t,n){var r,i=t.pendingProps,s=Us.current,o=!1;return(r=0!==(64&t.flags))||(r=(null===e||null!==e.memoizedState)&&0!==(2&s)),r?(o=!0,t.flags&=-65):null!==e&&null===e.memoizedState||void 0===i.fallback||!0===i.unstable_avoidThisFallback||(s|=1),hi(Us,1&s),null===e?(void 0!==i.fallback&&Hs(t),e=i.children,s=i.fallback,o?(e=ea(t,e,s,n),t.child.memoizedState={baseLanes:n},t.memoizedState=Jo,e):"number"===typeof i.unstable_expectedLoadTime?(e=ea(t,e,s,n),t.child.memoizedState={baseLanes:n},t.memoizedState=Jo,t.lanes=33554432,e):((n=Yl({mode:"visible",children:e},t.mode,n,null)).return=t,t.child=n)):(e.memoizedState,o?(i=na(e,t,i.children,i.fallback,n),o=t.child,s=e.child.memoizedState,o.memoizedState=null===s?{baseLanes:n}:{baseLanes:s.baseLanes|n},o.childLanes=e.childLanes&~n,t.memoizedState=Jo,i):(n=ta(e,t,i.children,n),t.memoizedState=null,n))}function ea(e,t,n,r){var i=e.mode,s=e.child;return t={mode:"hidden",children:t},0===(2&i)&&null!==s?(s.childLanes=0,s.pendingProps=t):s=Yl(t,i,0,null),n=$l(n,i,r,null),s.return=e,n.return=e,s.sibling=n,e.child=s,n}function ta(e,t,n,r){var i=e.child;return e=i.sibling,n=Gl(i,{mode:"visible",children:n}),0===(2&t.mode)&&(n.lanes=r),n.return=t,n.sibling=null,null!==e&&(e.nextEffect=null,e.flags=8,t.firstEffect=t.lastEffect=e),t.child=n}function na(e,t,n,r,i){var s=t.mode,o=e.child;e=o.sibling;var a={mode:"hidden",children:n};return 0===(2&s)&&t.child!==o?((n=t.child).childLanes=0,n.pendingProps=a,null!==(o=n.lastEffect)?(t.firstEffect=n.firstEffect,t.lastEffect=o,o.nextEffect=null):t.firstEffect=t.lastEffect=null):n=Gl(o,a),null!==e?r=Gl(e,r):(r=$l(r,s,i,null)).flags|=2,r.return=t,n.return=t,n.sibling=r,t.child=n,r}function ra(e,t){e.lanes|=t;var n=e.alternate;null!==n&&(n.lanes|=t),is(e.return,t)}function ia(e,t,n,r,i,s){var o=e.memoizedState;null===o?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i,lastEffect:s}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i,o.lastEffect=s)}function sa(e,t,n){var r=t.pendingProps,i=r.revealOrder,s=r.tail;if(Fo(e,t,r.children,n),0!==(2&(r=Us.current)))r=1&r|2,t.flags|=64;else{if(null!==e&&0!==(64&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&ra(e,n);else if(19===e.tag)ra(e,n);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(hi(Us,r),0===(2&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===Fs(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),ia(t,!1,i,n,s,t.lastEffect);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===Fs(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}ia(t,!0,n,null,s,t.lastEffect);break;case"together":ia(t,!1,null,null,void 0,t.lastEffect);break;default:t.memoizedState=null}return t.child}function oa(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Ba|=t.lanes,0!==(n&t.childLanes)){if(null!==e&&t.child!==e.child)throw Error(o(153));if(null!==t.child){for(n=Gl(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Gl(e,e.pendingProps)).return=t;n.sibling=null}return t.child}return null}function aa(e,t){if(!zs)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function la(e,t,n){var r=t.pendingProps;switch(t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:case 17:return yi(t.type)&&vi(),null;case 3:return Ds(),ci(pi),ci(fi),$s(),(r=t.stateNode).pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(Ws(t)?t.flags|=4:r.hydrate||(t.flags|=256)),$o(t),null;case 5:Ms(t);var s=Os(xs.current);if(n=t.type,null!==e&&null!=t.stateNode)Yo(e,t,n,r,s),e.ref!==t.ref&&(t.flags|=128);else{if(!r){if(null===t.stateNode)throw Error(o(166));return null}if(e=Os(Ns.current),Ws(t)){r=t.stateNode,n=t.type;var a=t.memoizedProps;switch(r[Jr]=t,r[Zr]=a,n){case"dialog":Rr("cancel",r),Rr("close",r);break;case"iframe":case"object":case"embed":Rr("load",r);break;case"video":case"audio":for(e=0;e<Ir.length;e++)Rr(Ir[e],r);break;case"source":Rr("error",r);break;case"img":case"image":case"link":Rr("error",r),Rr("load",r);break;case"details":Rr("toggle",r);break;case"input":ee(r,a),Rr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!a.multiple},Rr("invalid",r);break;case"textarea":le(r,a),Rr("invalid",r)}for(var u in Te(n,a),e=null,a)a.hasOwnProperty(u)&&(s=a[u],"children"===u?"string"===typeof s?r.textContent!==s&&(e=["children",s]):"number"===typeof s&&r.textContent!==""+s&&(e=["children",""+s]):l.hasOwnProperty(u)&&null!=s&&"onScroll"===u&&Rr("scroll",r));switch(n){case"input":Y(r),re(r,a,!0);break;case"textarea":Y(r),ce(r);break;case"select":case"option":break;default:"function"===typeof a.onClick&&(r.onclick=jr)}r=e,t.updateQueue=r,null!==r&&(t.flags|=4)}else{switch(u=9===s.nodeType?s:s.ownerDocument,e===he&&(e=fe(n)),e===he?"script"===n?((e=u.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=u.createElement(n,{is:r.is}):(e=u.createElement(n),"select"===n&&(u=e,r.multiple?u.multiple=!0:r.size&&(u.size=r.size))):e=u.createElementNS(e,n),e[Jr]=t,e[Zr]=r,Qo(e,t,!1,!1),t.stateNode=e,u=Se(n,r),n){case"dialog":Rr("cancel",e),Rr("close",e),s=r;break;case"iframe":case"object":case"embed":Rr("load",e),s=r;break;case"video":case"audio":for(s=0;s<Ir.length;s++)Rr(Ir[s],e);s=r;break;case"source":Rr("error",e),s=r;break;case"img":case"image":case"link":Rr("error",e),Rr("load",e),s=r;break;case"details":Rr("toggle",e),s=r;break;case"input":ee(e,r),s=Z(e,r),Rr("invalid",e);break;case"option":s=se(e,r);break;case"select":e._wrapperState={wasMultiple:!!r.multiple},s=i({},r,{value:void 0}),Rr("invalid",e);break;case"textarea":le(e,r),s=ae(e,r),Rr("invalid",e);break;default:s=r}Te(n,s);var c=s;for(a in c)if(c.hasOwnProperty(a)){var h=c[a];"style"===a?_e(e,h):"dangerouslySetInnerHTML"===a?null!=(h=h?h.__html:void 0)&&ye(e,h):"children"===a?"string"===typeof h?("textarea"!==n||""!==h)&&ve(e,h):"number"===typeof h&&ve(e,""+h):"suppressContentEditableWarning"!==a&&"suppressHydrationWarning"!==a&&"autoFocus"!==a&&(l.hasOwnProperty(a)?null!=h&&"onScroll"===a&&Rr("scroll",e):null!=h&&b(e,a,h,u))}switch(n){case"input":Y(e),re(e,r,!1);break;case"textarea":Y(e),ce(e);break;case"option":null!=r.value&&e.setAttribute("value",""+Q(r.value));break;case"select":e.multiple=!!r.multiple,null!=(a=r.value)?oe(e,!!r.multiple,a,!1):null!=r.defaultValue&&oe(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof s.onClick&&(e.onclick=jr)}qr(n,r)&&(t.flags|=4)}null!==t.ref&&(t.flags|=128)}return null;case 6:if(e&&null!=t.stateNode)Xo(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(o(166));n=Os(xs.current),Os(Ns.current),Ws(t)?(r=t.stateNode,n=t.memoizedProps,r[Jr]=t,r.nodeValue!==n&&(t.flags|=4)):((r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[Jr]=t,t.stateNode=r)}return null;case 13:return ci(Us),r=t.memoizedState,0!==(64&t.flags)?(t.lanes=n,t):(r=null!==r,n=!1,null===e?void 0!==t.memoizedProps.fallback&&Ws(t):n=null!==e.memoizedState,r&&!n&&0!==(2&t.mode)&&(null===e&&!0!==t.memoizedProps.unstable_avoidThisFallback||0!==(1&Us.current)?0===Va&&(Va=3):(0!==Va&&3!==Va||(Va=4),null===Da||0===(134217727&Ba)&&0===(134217727&qa)||wl(Da,Ma))),(r||n)&&(t.flags|=4),null);case 4:return Ds(),$o(t),null===e&&Or(t.stateNode.containerInfo),null;case 10:return rs(t),null;case 19:if(ci(Us),null===(r=t.memoizedState))return null;if(a=0!==(64&t.flags),null===(u=r.rendering))if(a)aa(r,!1);else{if(0!==Va||null!==e&&0!==(64&e.flags))for(e=t.child;null!==e;){if(null!==(u=Fs(e))){for(t.flags|=64,aa(r,!1),null!==(a=u.updateQueue)&&(t.updateQueue=a,t.flags|=4),null===r.lastEffect&&(t.firstEffect=null),t.lastEffect=r.lastEffect,r=n,n=t.child;null!==n;)e=r,(a=n).flags&=2,a.nextEffect=null,a.firstEffect=null,a.lastEffect=null,null===(u=a.alternate)?(a.childLanes=0,a.lanes=e,a.child=null,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=u.childLanes,a.lanes=u.lanes,a.child=u.child,a.memoizedProps=u.memoizedProps,a.memoizedState=u.memoizedState,a.updateQueue=u.updateQueue,a.type=u.type,e=u.dependencies,a.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return hi(Us,1&Us.current|2),t.child}e=e.sibling}null!==r.tail&&qi()>Ga&&(t.flags|=64,a=!0,aa(r,!1),t.lanes=33554432)}else{if(!a)if(null!==(e=Fs(u))){if(t.flags|=64,a=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),aa(r,!0),null===r.tail&&"hidden"===r.tailMode&&!u.alternate&&!zs)return null!==(t=t.lastEffect=r.lastEffect)&&(t.nextEffect=null),null}else 2*qi()-r.renderingStartTime>Ga&&1073741824!==n&&(t.flags|=64,a=!0,aa(r,!1),t.lanes=33554432);r.isBackwards?(u.sibling=t.child,t.child=u):(null!==(n=r.last)?n.sibling=u:t.child=u,r.last=u)}return null!==r.tail?(n=r.tail,r.rendering=n,r.tail=n.sibling,r.lastEffect=t.lastEffect,r.renderingStartTime=qi(),n.sibling=null,t=Us.current,hi(Us,a?1&t|2:1&t),n):null;case 23:case 24:return Tl(),null!==e&&null!==e.memoizedState!==(null!==t.memoizedState)&&"unstable-defer-without-hiding"!==r.mode&&(t.flags|=4),null}throw Error(o(156,t.tag))}function ua(e){switch(e.tag){case 1:yi(e.type)&&vi();var t=e.flags;return 4096&t?(e.flags=-4097&t|64,e):null;case 3:if(Ds(),ci(pi),ci(fi),$s(),0!==(64&(t=e.flags)))throw Error(o(285));return e.flags=-4097&t|64,e;case 5:return Ms(e),null;case 13:return ci(Us),4096&(t=e.flags)?(e.flags=-4097&t|64,e):null;case 19:return ci(Us),null;case 4:return Ds(),null;case 10:return rs(e),null;case 23:case 24:return Tl(),null;default:return null}}function ca(e,t){try{var n="",r=t;do{n+=W(r),r=r.return}while(r);var i=n}catch(s){i="\nError generating stack: "+s.message+"\n"+s.stack}return{value:e,source:t,stack:i}}function ha(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}Qo=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},$o=function(){},Yo=function(e,t,n,r){var s=e.memoizedProps;if(s!==r){e=t.stateNode,Os(Ns.current);var o,a=null;switch(n){case"input":s=Z(e,s),r=Z(e,r),a=[];break;case"option":s=se(e,s),r=se(e,r),a=[];break;case"select":s=i({},s,{value:void 0}),r=i({},r,{value:void 0}),a=[];break;case"textarea":s=ae(e,s),r=ae(e,r),a=[];break;default:"function"!==typeof s.onClick&&"function"===typeof r.onClick&&(e.onclick=jr)}for(h in Te(n,r),n=null,s)if(!r.hasOwnProperty(h)&&s.hasOwnProperty(h)&&null!=s[h])if("style"===h){var u=s[h];for(o in u)u.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else"dangerouslySetInnerHTML"!==h&&"children"!==h&&"suppressContentEditableWarning"!==h&&"suppressHydrationWarning"!==h&&"autoFocus"!==h&&(l.hasOwnProperty(h)?a||(a=[]):(a=a||[]).push(h,null));for(h in r){var c=r[h];if(u=null!=s?s[h]:void 0,r.hasOwnProperty(h)&&c!==u&&(null!=c||null!=u))if("style"===h)if(u){for(o in u)!u.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in c)c.hasOwnProperty(o)&&u[o]!==c[o]&&(n||(n={}),n[o]=c[o])}else n||(a||(a=[]),a.push(h,n)),n=c;else"dangerouslySetInnerHTML"===h?(c=c?c.__html:void 0,u=u?u.__html:void 0,null!=c&&u!==c&&(a=a||[]).push(h,c)):"children"===h?"string"!==typeof c&&"number"!==typeof c||(a=a||[]).push(h,""+c):"suppressContentEditableWarning"!==h&&"suppressHydrationWarning"!==h&&(l.hasOwnProperty(h)?(null!=c&&"onScroll"===h&&Rr("scroll",e),a||u===c||(a=[])):"object"===typeof c&&null!==c&&c.$$typeof===L?c.toString():(a=a||[]).push(h,c))}n&&(a=a||[]).push("style",n);var h=a;(t.updateQueue=h)&&(t.flags|=4)}},Xo=function(e,t,n,r){n!==r&&(t.flags|=4)};var da="function"===typeof WeakMap?WeakMap:Map;function fa(e,t,n){(n=cs(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Xa||(Xa=!0,Ja=r),ha(0,t)},n}function pa(e,t,n){(n=cs(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return ha(0,t),r(i)}}var s=e.stateNode;return null!==s&&"function"===typeof s.componentDidCatch&&(n.callback=function(){"function"!==typeof r&&(null===Za?Za=new Set([this]):Za.add(this),ha(0,t));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}var ga="function"===typeof WeakSet?WeakSet:Set;function ma(e){var t=e.ref;if(null!==t)if("function"===typeof t)try{t(null)}catch(n){zl(e,n)}else t.current=null}function ya(e,t){switch(t.tag){case 0:case 11:case 15:case 22:case 5:case 6:case 4:case 17:return;case 1:if(256&t.flags&&null!==e){var n=e.memoizedProps,r=e.memoizedState;t=(e=t.stateNode).getSnapshotBeforeUpdate(t.elementType===t.type?n:Xi(t.type,n),r),e.__reactInternalSnapshotBeforeUpdate=t}return;case 3:return void(256&t.flags&&Gr(t.stateNode.containerInfo))}throw Error(o(163))}function va(e,t,n){switch(n.tag){case 0:case 11:case 15:case 22:if(null!==(t=null!==(t=n.updateQueue)?t.lastEffect:null)){e=t=t.next;do{if(3===(3&e.tag)){var r=e.create;e.destroy=r()}e=e.next}while(e!==t)}if(null!==(t=null!==(t=n.updateQueue)?t.lastEffect:null)){e=t=t.next;do{var i=e;r=i.next,0!==(4&(i=i.tag))&&0!==(1&i)&&(Fl(n,e),Ul(n,e)),e=r}while(e!==t)}return;case 1:return e=n.stateNode,4&n.flags&&(null===t?e.componentDidMount():(r=n.elementType===n.type?t.memoizedProps:Xi(n.type,t.memoizedProps),e.componentDidUpdate(r,t.memoizedState,e.__reactInternalSnapshotBeforeUpdate))),void(null!==(t=n.updateQueue)&&ps(n,t,e));case 3:if(null!==(t=n.updateQueue)){if(e=null,null!==n.child)switch(n.child.tag){case 5:case 1:e=n.child.stateNode}ps(n,t,e)}return;case 5:return e=n.stateNode,void(null===t&&4&n.flags&&qr(n.type,n.memoizedProps)&&e.focus());case 6:case 4:case 12:case 19:case 17:case 20:case 21:case 23:case 24:return;case 13:return void(null===n.memoizedState&&(n=n.alternate,null!==n&&(n=n.memoizedState,null!==n&&(n=n.dehydrated,null!==n&&_t(n)))))}throw Error(o(163))}function wa(e,t){for(var n=e;;){if(5===n.tag){var r=n.stateNode;if(t)"function"===typeof(r=r.style).setProperty?r.setProperty("display","none","important"):r.display="none";else{r=n.stateNode;var i=n.memoizedProps.style;i=void 0!==i&&null!==i&&i.hasOwnProperty("display")?i.display:null,r.style.display=Ee("display",i)}}else if(6===n.tag)n.stateNode.nodeValue=t?"":n.memoizedProps;else if((23!==n.tag&&24!==n.tag||null===n.memoizedState||n===e)&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===e)break;for(;null===n.sibling;){if(null===n.return||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}}function ba(e,t){if(Ti&&"function"===typeof Ti.onCommitFiberUnmount)try{Ti.onCommitFiberUnmount(ki,t)}catch(s){}switch(t.tag){case 0:case 11:case 14:case 15:case 22:if(null!==(e=t.updateQueue)&&null!==(e=e.lastEffect)){var n=e=e.next;do{var r=n,i=r.destroy;if(r=r.tag,void 0!==i)if(0!==(4&r))Fl(t,n);else{r=t;try{i()}catch(s){zl(r,s)}}n=n.next}while(n!==e)}break;case 1:if(ma(t),"function"===typeof(e=t.stateNode).componentWillUnmount)try{e.props=t.memoizedProps,e.state=t.memoizedState,e.componentWillUnmount()}catch(s){zl(t,s)}break;case 5:ma(t);break;case 4:Ia(e,t)}}function Ea(e){e.alternate=null,e.child=null,e.dependencies=null,e.firstEffect=null,e.lastEffect=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.return=null,e.updateQueue=null}function _a(e){return 5===e.tag||3===e.tag||4===e.tag}function ka(e){e:{for(var t=e.return;null!==t;){if(_a(t))break e;t=t.return}throw Error(o(160))}var n=t;switch(t=n.stateNode,n.tag){case 5:var r=!1;break;case 3:case 4:t=t.containerInfo,r=!0;break;default:throw Error(o(161))}16&n.flags&&(ve(t,""),n.flags&=-17);e:t:for(n=e;;){for(;null===n.sibling;){if(null===n.return||_a(n.return)){n=null;break e}n=n.return}for(n.sibling.return=n.return,n=n.sibling;5!==n.tag&&6!==n.tag&&18!==n.tag;){if(2&n.flags)continue t;if(null===n.child||4===n.tag)continue t;n.child.return=n,n=n.child}if(!(2&n.flags)){n=n.stateNode;break e}}r?Ta(e,n,t):Sa(e,n,t)}function Ta(e,t,n){var r=e.tag,i=5===r||6===r;if(i)e=i?e.stateNode:e.stateNode.instance,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=jr));else if(4!==r&&null!==(e=e.child))for(Ta(e,t,n),e=e.sibling;null!==e;)Ta(e,t,n),e=e.sibling}function Sa(e,t,n){var r=e.tag,i=5===r||6===r;if(i)e=i?e.stateNode:e.stateNode.instance,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(Sa(e,t,n),e=e.sibling;null!==e;)Sa(e,t,n),e=e.sibling}function Ia(e,t){for(var n,r,i=t,s=!1;;){if(!s){s=i.return;e:for(;;){if(null===s)throw Error(o(160));switch(n=s.stateNode,s.tag){case 5:r=!1;break e;case 3:case 4:n=n.containerInfo,r=!0;break e}s=s.return}s=!0}if(5===i.tag||6===i.tag){e:for(var a=e,l=i,u=l;;)if(ba(a,u),null!==u.child&&4!==u.tag)u.child.return=u,u=u.child;else{if(u===l)break e;for(;null===u.sibling;){if(null===u.return||u.return===l)break e;u=u.return}u.sibling.return=u.return,u=u.sibling}r?(a=n,l=i.stateNode,8===a.nodeType?a.parentNode.removeChild(l):a.removeChild(l)):n.removeChild(i.stateNode)}else if(4===i.tag){if(null!==i.child){n=i.stateNode.containerInfo,r=!0,i.child.return=i,i=i.child;continue}}else if(ba(e,i),null!==i.child){i.child.return=i,i=i.child;continue}if(i===t)break;for(;null===i.sibling;){if(null===i.return||i.return===t)return;4===(i=i.return).tag&&(s=!1)}i.sibling.return=i.return,i=i.sibling}}function Ca(e,t){switch(t.tag){case 0:case 11:case 14:case 15:case 22:var n=t.updateQueue;if(null!==(n=null!==n?n.lastEffect:null)){var r=n=n.next;do{3===(3&r.tag)&&(e=r.destroy,r.destroy=void 0,void 0!==e&&e()),r=r.next}while(r!==n)}return;case 1:case 12:case 17:return;case 5:if(null!=(n=t.stateNode)){r=t.memoizedProps;var i=null!==e?e.memoizedProps:r;e=t.type;var s=t.updateQueue;if(t.updateQueue=null,null!==s){for(n[Zr]=r,"input"===e&&"radio"===r.type&&null!=r.name&&te(n,r),Se(e,i),t=Se(e,r),i=0;i<s.length;i+=2){var a=s[i],l=s[i+1];"style"===a?_e(n,l):"dangerouslySetInnerHTML"===a?ye(n,l):"children"===a?ve(n,l):b(n,a,l,t)}switch(e){case"input":ne(n,r);break;case"textarea":ue(n,r);break;case"select":e=n._wrapperState.wasMultiple,n._wrapperState.wasMultiple=!!r.multiple,null!=(s=r.value)?oe(n,!!r.multiple,s,!1):e!==!!r.multiple&&(null!=r.defaultValue?oe(n,!!r.multiple,r.defaultValue,!0):oe(n,!!r.multiple,r.multiple?[]:"",!1))}}}return;case 6:if(null===t.stateNode)throw Error(o(162));return void(t.stateNode.nodeValue=t.memoizedProps);case 3:return void((n=t.stateNode).hydrate&&(n.hydrate=!1,_t(n.containerInfo)));case 13:return null!==t.memoizedState&&(Wa=qi(),wa(t.child,!0)),void Aa(t);case 19:return void Aa(t);case 23:case 24:return void wa(t,null!==t.memoizedState)}throw Error(o(163))}function Aa(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new ga),t.forEach(function(t){var r=ql.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))})}}function Na(e,t){return null!==e&&(null===(e=e.memoizedState)||null!==e.dehydrated)&&(null!==(t=t.memoizedState)&&null===t.dehydrated)}var Ra=Math.ceil,xa=E.ReactCurrentDispatcher,Oa=E.ReactCurrentOwner,Pa=0,Da=null,La=null,Ma=0,Ua=0,Fa=ui(0),Va=0,ja=null,za=0,Ba=0,qa=0,Ha=0,Ka=null,Wa=0,Ga=1/0;function Qa(){Ga=qi()+500}var $a,Ya=null,Xa=!1,Ja=null,Za=null,el=!1,tl=null,nl=90,rl=[],il=[],sl=null,ol=0,al=null,ll=-1,ul=0,cl=0,hl=null,dl=!1;function fl(){return 0!==(48&Pa)?qi():-1!==ll?ll:ll=qi()}function pl(e){if(0===(2&(e=e.mode)))return 1;if(0===(4&e))return 99===Hi()?1:2;if(0===ul&&(ul=za),0!==Yi.transition){0!==cl&&(cl=null!==Ka?Ka.pendingLanes:0),e=ul;var t=4186112&~cl;return 0===(t&=-t)&&(0===(t=(e=4186112&~e)&-e)&&(t=8192)),t}return e=Hi(),0!==(4&Pa)&&98===e?e=jt(12,ul):e=jt(e=function(e){switch(e){case 99:return 15;case 98:return 10;case 97:case 96:return 8;case 95:return 2;default:return 0}}(e),ul),e}function gl(e,t,n){if(50<ol)throw ol=0,al=null,Error(o(185));if(null===(e=ml(e,t)))return null;qt(e,t,n),e===Da&&(qa|=t,4===Va&&wl(e,Ma));var r=Hi();1===t?0!==(8&Pa)&&0===(48&Pa)?bl(e):(yl(e,n),0===Pa&&(Qa(),Qi())):(0===(4&Pa)||98!==r&&99!==r||(null===sl?sl=new Set([e]):sl.add(e)),yl(e,n)),Ka=e}function ml(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}function yl(e,t){for(var n=e.callbackNode,r=e.suspendedLanes,i=e.pingedLanes,s=e.expirationTimes,a=e.pendingLanes;0<a;){var l=31-Ht(a),u=1<<l,c=s[l];if(-1===c){if(0===(u&r)||0!==(u&i)){c=t,Ut(u);var h=Mt;s[l]=10<=h?c+250:6<=h?c+5e3:-1}}else c<=t&&(e.expiredLanes|=u);a&=~u}if(r=Ft(e,e===Da?Ma:0),t=Mt,0===r)null!==n&&(n!==Ui&&Ci(n),e.callbackNode=null,e.callbackPriority=0);else{if(null!==n){if(e.callbackPriority===t)return;n!==Ui&&Ci(n)}15===t?(n=bl.bind(null,e),null===Vi?(Vi=[n],ji=Ii(Oi,$i)):Vi.push(n),n=Ui):14===t?n=Gi(99,bl.bind(null,e)):(n=function(e){switch(e){case 15:case 14:return 99;case 13:case 12:case 11:case 10:return 98;case 9:case 8:case 7:case 6:case 4:case 5:return 97;case 3:case 2:case 1:return 95;case 0:return 90;default:throw Error(o(358,e))}}(t),n=Gi(n,vl.bind(null,e))),e.callbackPriority=t,e.callbackNode=n}}function vl(e){if(ll=-1,cl=ul=0,0!==(48&Pa))throw Error(o(327));var t=e.callbackNode;if(Ml()&&e.callbackNode!==t)return null;var n=Ft(e,e===Da?Ma:0);if(0===n)return null;var r=n,i=Pa;Pa|=16;var s=Cl();for(Da===e&&Ma===r||(Qa(),Sl(e,r));;)try{Rl();break}catch(l){Il(e,l)}if(ns(),xa.current=s,Pa=i,null!==La?r=0:(Da=null,Ma=0,r=Va),0!==(za&qa))Sl(e,0);else if(0!==r){if(2===r&&(Pa|=64,e.hydrate&&(e.hydrate=!1,Gr(e.containerInfo)),0!==(n=Vt(e))&&(r=Al(e,n))),1===r)throw t=ja,Sl(e,0),wl(e,n),yl(e,qi()),t;switch(e.finishedWork=e.current.alternate,e.finishedLanes=n,r){case 0:case 1:throw Error(o(345));case 2:case 5:Pl(e);break;case 3:if(wl(e,n),(62914560&n)===n&&10<(r=Wa+500-qi())){if(0!==Ft(e,0))break;if(((i=e.suspendedLanes)&n)!==n){fl(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=Kr(Pl.bind(null,e),r);break}Pl(e);break;case 4:if(wl(e,n),(4186112&n)===n)break;for(r=e.eventTimes,i=-1;0<n;){var a=31-Ht(n);s=1<<a,(a=r[a])>i&&(i=a),n&=~s}if(n=i,10<(n=(120>(n=qi()-n)?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*Ra(n/1960))-n)){e.timeoutHandle=Kr(Pl.bind(null,e),n);break}Pl(e);break;default:throw Error(o(329))}}return yl(e,qi()),e.callbackNode===t?vl.bind(null,e):null}function wl(e,t){for(t&=~Ha,t&=~qa,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Ht(t),r=1<<n;e[n]=-1,t&=~r}}function bl(e){if(0!==(48&Pa))throw Error(o(327));if(Ml(),e===Da&&0!==(e.expiredLanes&Ma)){var t=Ma,n=Al(e,t);0!==(za&qa)&&(n=Al(e,t=Ft(e,t)))}else n=Al(e,t=Ft(e,0));if(0!==e.tag&&2===n&&(Pa|=64,e.hydrate&&(e.hydrate=!1,Gr(e.containerInfo)),0!==(t=Vt(e))&&(n=Al(e,t))),1===n)throw n=ja,Sl(e,0),wl(e,t),yl(e,qi()),n;return e.finishedWork=e.current.alternate,e.finishedLanes=t,Pl(e),yl(e,qi()),null}function El(e,t){var n=Pa;Pa|=1;try{return e(t)}finally{0===(Pa=n)&&(Qa(),Qi())}}function _l(e,t){var n=Pa;Pa&=-2,Pa|=8;try{return e(t)}finally{0===(Pa=n)&&(Qa(),Qi())}}function kl(e,t){hi(Fa,Ua),Ua|=t,za|=t}function Tl(){Ua=Fa.current,ci(Fa)}function Sl(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,Wr(n)),null!==La)for(n=La.return;null!==n;){var r=n;switch(r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&vi();break;case 3:Ds(),ci(pi),ci(fi),$s();break;case 5:Ms(r);break;case 4:Ds();break;case 13:case 19:ci(Us);break;case 10:rs(r);break;case 23:case 24:Tl()}n=n.return}Da=e,La=Gl(e.current,null),Ma=Ua=za=t,Va=0,ja=null,Ha=qa=Ba=0}function Il(e,t){for(;;){var n=La;try{if(ns(),Ys.current=Oo,no){for(var r=Zs.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}no=!1}if(Js=0,to=eo=Zs=null,ro=!1,Oa.current=null,null===n||null===n.return){Va=1,ja=t,La=null;break}e:{var s=e,o=n.return,a=n,l=t;if(t=Ma,a.flags|=2048,a.firstEffect=a.lastEffect=null,null!==l&&"object"===typeof l&&"function"===typeof l.then){var u=l;if(0===(2&a.mode)){var c=a.alternate;c?(a.updateQueue=c.updateQueue,a.memoizedState=c.memoizedState,a.lanes=c.lanes):(a.updateQueue=null,a.memoizedState=null)}var h=0!==(1&Us.current),d=o;do{var f;if(f=13===d.tag){var p=d.memoizedState;if(null!==p)f=null!==p.dehydrated;else{var g=d.memoizedProps;f=void 0!==g.fallback&&(!0!==g.unstable_avoidThisFallback||!h)}}if(f){var m=d.updateQueue;if(null===m){var y=new Set;y.add(u),d.updateQueue=y}else m.add(u);if(0===(2&d.mode)){if(d.flags|=64,a.flags|=16384,a.flags&=-2981,1===a.tag)if(null===a.alternate)a.tag=17;else{var v=cs(-1,1);v.tag=2,hs(a,v)}a.lanes|=1;break e}l=void 0,a=t;var w=s.pingCache;if(null===w?(w=s.pingCache=new da,l=new Set,w.set(u,l)):void 0===(l=w.get(u))&&(l=new Set,w.set(u,l)),!l.has(a)){l.add(a);var b=Bl.bind(null,s,u,a);u.then(b,b)}d.flags|=4096,d.lanes=t;break e}d=d.return}while(null!==d);l=Error((G(a.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display.")}5!==Va&&(Va=2),l=ca(l,a),d=o;do{switch(d.tag){case 3:s=l,d.flags|=4096,t&=-t,d.lanes|=t,ds(d,fa(0,s,t));break e;case 1:s=l;var E=d.type,_=d.stateNode;if(0===(64&d.flags)&&("function"===typeof E.getDerivedStateFromError||null!==_&&"function"===typeof _.componentDidCatch&&(null===Za||!Za.has(_)))){d.flags|=4096,t&=-t,d.lanes|=t,ds(d,pa(d,s,t));break e}}d=d.return}while(null!==d)}Ol(n)}catch(k){t=k,La===n&&null!==n&&(La=n=n.return);continue}break}}function Cl(){var e=xa.current;return xa.current=Oo,null===e?Oo:e}function Al(e,t){var n=Pa;Pa|=16;var r=Cl();for(Da===e&&Ma===t||Sl(e,t);;)try{Nl();break}catch(i){Il(e,i)}if(ns(),Pa=n,xa.current=r,null!==La)throw Error(o(261));return Da=null,Ma=0,Va}function Nl(){for(;null!==La;)xl(La)}function Rl(){for(;null!==La&&!Ai();)xl(La)}function xl(e){var t=$a(e.alternate,e,Ua);e.memoizedProps=e.pendingProps,null===t?Ol(e):La=t,Oa.current=null}function Ol(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(2048&t.flags)){if(null!==(n=la(n,t,Ua)))return void(La=n);if(24!==(n=t).tag&&23!==n.tag||null===n.memoizedState||0!==(1073741824&Ua)||0===(4&n.mode)){for(var r=0,i=n.child;null!==i;)r|=i.lanes|i.childLanes,i=i.sibling;n.childLanes=r}null!==e&&0===(2048&e.flags)&&(null===e.firstEffect&&(e.firstEffect=t.firstEffect),null!==t.lastEffect&&(null!==e.lastEffect&&(e.lastEffect.nextEffect=t.firstEffect),e.lastEffect=t.lastEffect),1<t.flags&&(null!==e.lastEffect?e.lastEffect.nextEffect=t:e.firstEffect=t,e.lastEffect=t))}else{if(null!==(n=ua(t)))return n.flags&=2047,void(La=n);null!==e&&(e.firstEffect=e.lastEffect=null,e.flags|=2048)}if(null!==(t=t.sibling))return void(La=t);La=t=e}while(null!==t);0===Va&&(Va=5)}function Pl(e){var t=Hi();return Wi(99,Dl.bind(null,e,t)),null}function Dl(e,t){do{Ml()}while(null!==tl);if(0!==(48&Pa))throw Error(o(327));var n=e.finishedWork;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(o(177));e.callbackNode=null;var r=n.lanes|n.childLanes,i=r,s=e.pendingLanes&~i;e.pendingLanes=i,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=i,e.mutableReadLanes&=i,e.entangledLanes&=i,i=e.entanglements;for(var a=e.eventTimes,l=e.expirationTimes;0<s;){var u=31-Ht(s),c=1<<u;i[u]=0,a[u]=-1,l[u]=-1,s&=~c}if(null!==sl&&0===(24&r)&&sl.has(e)&&sl.delete(e),e===Da&&(La=Da=null,Ma=0),1<n.flags?null!==n.lastEffect?(n.lastEffect.nextEffect=n,r=n.firstEffect):r=n:r=n.firstEffect,null!==r){if(i=Pa,Pa|=32,Oa.current=null,zr=$t,yr(a=mr())){if("selectionStart"in a)l={start:a.selectionStart,end:a.selectionEnd};else e:if(l=(l=a.ownerDocument)&&l.defaultView||window,(c=l.getSelection&&l.getSelection())&&0!==c.rangeCount){l=c.anchorNode,s=c.anchorOffset,u=c.focusNode,c=c.focusOffset;try{l.nodeType,u.nodeType}catch(I){l=null;break e}var h=0,d=-1,f=-1,p=0,g=0,m=a,y=null;t:for(;;){for(var v;m!==l||0!==s&&3!==m.nodeType||(d=h+s),m!==u||0!==c&&3!==m.nodeType||(f=h+c),3===m.nodeType&&(h+=m.nodeValue.length),null!==(v=m.firstChild);)y=m,m=v;for(;;){if(m===a)break t;if(y===l&&++p===s&&(d=h),y===u&&++g===c&&(f=h),null!==(v=m.nextSibling))break;y=(m=y).parentNode}m=v}l=-1===d||-1===f?null:{start:d,end:f}}else l=null;l=l||{start:0,end:0}}else l=null;Br={focusedElem:a,selectionRange:l},$t=!1,hl=null,dl=!1,Ya=r;do{try{Ll()}catch(I){if(null===Ya)throw Error(o(330));zl(Ya,I),Ya=Ya.nextEffect}}while(null!==Ya);hl=null,Ya=r;do{try{for(a=e;null!==Ya;){var w=Ya.flags;if(16&w&&ve(Ya.stateNode,""),128&w){var b=Ya.alternate;if(null!==b){var E=b.ref;null!==E&&("function"===typeof E?E(null):E.current=null)}}switch(1038&w){case 2:ka(Ya),Ya.flags&=-3;break;case 6:ka(Ya),Ya.flags&=-3,Ca(Ya.alternate,Ya);break;case 1024:Ya.flags&=-1025;break;case 1028:Ya.flags&=-1025,Ca(Ya.alternate,Ya);break;case 4:Ca(Ya.alternate,Ya);break;case 8:Ia(a,l=Ya);var _=l.alternate;Ea(l),null!==_&&Ea(_)}Ya=Ya.nextEffect}}catch(I){if(null===Ya)throw Error(o(330));zl(Ya,I),Ya=Ya.nextEffect}}while(null!==Ya);if(E=Br,b=mr(),w=E.focusedElem,a=E.selectionRange,b!==w&&w&&w.ownerDocument&&gr(w.ownerDocument.documentElement,w)){null!==a&&yr(w)&&(b=a.start,void 0===(E=a.end)&&(E=b),"selectionStart"in w?(w.selectionStart=b,w.selectionEnd=Math.min(E,w.value.length)):(E=(b=w.ownerDocument||document)&&b.defaultView||window).getSelection&&(E=E.getSelection(),l=w.textContent.length,_=Math.min(a.start,l),a=void 0===a.end?_:Math.min(a.end,l),!E.extend&&_>a&&(l=a,a=_,_=l),l=pr(w,_),s=pr(w,a),l&&s&&(1!==E.rangeCount||E.anchorNode!==l.node||E.anchorOffset!==l.offset||E.focusNode!==s.node||E.focusOffset!==s.offset)&&((b=b.createRange()).setStart(l.node,l.offset),E.removeAllRanges(),_>a?(E.addRange(b),E.extend(s.node,s.offset)):(b.setEnd(s.node,s.offset),E.addRange(b))))),b=[];for(E=w;E=E.parentNode;)1===E.nodeType&&b.push({element:E,left:E.scrollLeft,top:E.scrollTop});for("function"===typeof w.focus&&w.focus(),w=0;w<b.length;w++)(E=b[w]).element.scrollLeft=E.left,E.element.scrollTop=E.top}$t=!!zr,Br=zr=null,e.current=n,Ya=r;do{try{for(w=e;null!==Ya;){var k=Ya.flags;if(36&k&&va(w,Ya.alternate,Ya),128&k){b=void 0;var T=Ya.ref;if(null!==T){var S=Ya.stateNode;Ya.tag,b=S,"function"===typeof T?T(b):T.current=b}}Ya=Ya.nextEffect}}catch(I){if(null===Ya)throw Error(o(330));zl(Ya,I),Ya=Ya.nextEffect}}while(null!==Ya);Ya=null,Fi(),Pa=i}else e.current=n;if(el)el=!1,tl=e,nl=t;else for(Ya=r;null!==Ya;)t=Ya.nextEffect,Ya.nextEffect=null,8&Ya.flags&&((k=Ya).sibling=null,k.stateNode=null),Ya=t;if(0===(r=e.pendingLanes)&&(Za=null),1===r?e===al?ol++:(ol=0,al=e):ol=0,n=n.stateNode,Ti&&"function"===typeof Ti.onCommitFiberRoot)try{Ti.onCommitFiberRoot(ki,n,void 0,64===(64&n.current.flags))}catch(I){}if(yl(e,qi()),Xa)throw Xa=!1,e=Ja,Ja=null,e;return 0!==(8&Pa)||Qi(),null}function Ll(){for(;null!==Ya;){var e=Ya.alternate;dl||null===hl||(0!==(8&Ya.flags)?et(Ya,hl)&&(dl=!0):13===Ya.tag&&Na(e,Ya)&&et(Ya,hl)&&(dl=!0));var t=Ya.flags;0!==(256&t)&&ya(e,Ya),0===(512&t)||el||(el=!0,Gi(97,function(){return Ml(),null})),Ya=Ya.nextEffect}}function Ml(){if(90!==nl){var e=97<nl?97:nl;return nl=90,Wi(e,Vl)}return!1}function Ul(e,t){rl.push(t,e),el||(el=!0,Gi(97,function(){return Ml(),null}))}function Fl(e,t){il.push(t,e),el||(el=!0,Gi(97,function(){return Ml(),null}))}function Vl(){if(null===tl)return!1;var e=tl;if(tl=null,0!==(48&Pa))throw Error(o(331));var t=Pa;Pa|=32;var n=il;il=[];for(var r=0;r<n.length;r+=2){var i=n[r],s=n[r+1],a=i.destroy;if(i.destroy=void 0,"function"===typeof a)try{a()}catch(u){if(null===s)throw Error(o(330));zl(s,u)}}for(n=rl,rl=[],r=0;r<n.length;r+=2){i=n[r],s=n[r+1];try{var l=i.create;i.destroy=l()}catch(u){if(null===s)throw Error(o(330));zl(s,u)}}for(l=e.current.firstEffect;null!==l;)e=l.nextEffect,l.nextEffect=null,8&l.flags&&(l.sibling=null,l.stateNode=null),l=e;return Pa=t,Qi(),!0}function jl(e,t,n){hs(e,t=fa(0,t=ca(n,t),1)),t=fl(),null!==(e=ml(e,1))&&(qt(e,1,t),yl(e,t))}function zl(e,t){if(3===e.tag)jl(e,e,t);else for(var n=e.return;null!==n;){if(3===n.tag){jl(n,e,t);break}if(1===n.tag){var r=n.stateNode;if("function"===typeof n.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Za||!Za.has(r))){var i=pa(n,e=ca(t,e),1);if(hs(n,i),i=fl(),null!==(n=ml(n,1)))qt(n,1,i),yl(n,i);else if("function"===typeof r.componentDidCatch&&(null===Za||!Za.has(r)))try{r.componentDidCatch(t,e)}catch(s){}break}}n=n.return}}function Bl(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=fl(),e.pingedLanes|=e.suspendedLanes&n,Da===e&&(Ma&n)===n&&(4===Va||3===Va&&(62914560&Ma)===Ma&&500>qi()-Wa?Sl(e,0):Ha|=n),yl(e,t)}function ql(e,t){var n=e.stateNode;null!==n&&n.delete(t),0===(t=0)&&(0===(2&(t=e.mode))?t=1:0===(4&t)?t=99===Hi()?1:2:(0===ul&&(ul=za),0===(t=zt(62914560&~ul))&&(t=4194304))),n=fl(),null!==(e=ml(e,t))&&(qt(e,t,n),yl(e,n))}function Hl(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.flags=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childLanes=this.lanes=0,this.alternate=null}function Kl(e,t,n,r){return new Hl(e,t,n,r)}function Wl(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Gl(e,t){var n=e.alternate;return null===n?((n=Kl(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.nextEffect=null,n.firstEffect=null,n.lastEffect=null),n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Ql(e,t,n,r,i,s){var a=2;if(r=e,"function"===typeof e)Wl(e)&&(a=1);else if("string"===typeof e)a=5;else e:switch(e){case T:return $l(n.children,i,s,t);case M:a=8,i|=16;break;case S:a=8,i|=1;break;case I:return(e=Kl(12,n,t,8|i)).elementType=I,e.type=I,e.lanes=s,e;case R:return(e=Kl(13,n,t,i)).type=R,e.elementType=R,e.lanes=s,e;case x:return(e=Kl(19,n,t,i)).elementType=x,e.lanes=s,e;case U:return Yl(n,i,s,t);case F:return(e=Kl(24,n,t,i)).elementType=F,e.lanes=s,e;default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case C:a=10;break e;case A:a=9;break e;case N:a=11;break e;case O:a=14;break e;case P:a=16,r=null;break e;case D:a=22;break e}throw Error(o(130,null==e?e:typeof e,""))}return(t=Kl(a,n,t,i)).elementType=e,t.type=r,t.lanes=s,t}function $l(e,t,n,r){return(e=Kl(7,e,r,t)).lanes=n,e}function Yl(e,t,n,r){return(e=Kl(23,e,r,t)).elementType=U,e.lanes=n,e}function Xl(e,t,n){return(e=Kl(6,e,null,t)).lanes=n,e}function Jl(e,t,n){return(t=Kl(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Zl(e,t,n){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=n,this.callbackNode=null,this.callbackPriority=0,this.eventTimes=Bt(0),this.expirationTimes=Bt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Bt(0),this.mutableSourceEagerHydrationData=null}function eu(e,t,n,r){var i=t.current,s=fl(),a=pl(i);e:if(n){t:{if(Ye(n=n._reactInternals)!==n||1!==n.tag)throw Error(o(170));var l=n;do{switch(l.tag){case 3:l=l.stateNode.context;break t;case 1:if(yi(l.type)){l=l.stateNode.__reactInternalMemoizedMergedChildContext;break t}}l=l.return}while(null!==l);throw Error(o(171))}if(1===n.tag){var u=n.type;if(yi(u)){n=bi(n,u,l);break e}}n=l}else n=di;return null===t.context?t.context=n:t.pendingContext=n,(t=cs(s,a)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),hs(i,t),gl(i,a,s),a}function tu(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function nu(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function ru(e,t){nu(e,t),(e=e.alternate)&&nu(e,t)}function iu(e,t,n){var r=null!=n&&null!=n.hydrationOptions&&n.hydrationOptions.mutableSources||null;if(n=new Zl(e,t,null!=n&&!0===n.hydrate),t=Kl(3,null,null,2===t?7:1===t?3:0),n.current=t,t.stateNode=n,ls(t),e[ei]=n.current,Or(8===e.nodeType?e.parentNode:e),r)for(e=0;e<r.length;e++){var i=(t=r[e])._getVersion;i=i(t._source),null==n.mutableSourceEagerHydrationData?n.mutableSourceEagerHydrationData=[t,i]:n.mutableSourceEagerHydrationData.push(t,i)}this._internalRoot=n}function su(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function ou(e,t,n,r,i){var s=n._reactRootContainer;if(s){var o=s._internalRoot;if("function"===typeof i){var a=i;i=function(){var e=tu(o);a.call(e)}}eu(t,o,e,i)}else{if(s=n._reactRootContainer=function(e,t){if(t||(t=!(!(t=e?9===e.nodeType?e.documentElement:e.firstChild:null)||1!==t.nodeType||!t.hasAttribute("data-reactroot"))),!t)for(var n;n=e.lastChild;)e.removeChild(n);return new iu(e,0,t?{hydrate:!0}:void 0)}(n,r),o=s._internalRoot,"function"===typeof i){var l=i;i=function(){var e=tu(o);l.call(e)}}_l(function(){eu(t,o,e,i)})}return tu(o)}function au(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!su(t))throw Error(o(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:k,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)}$a=function(e,t,n){var r=t.lanes;if(null!==e)if(e.memoizedProps!==t.pendingProps||pi.current)Uo=!0;else{if(0===(n&r)){switch(Uo=!1,t.tag){case 3:Go(t),Gs();break;case 5:Ls(t);break;case 1:yi(t.type)&&Ei(t);break;case 4:Ps(t,t.stateNode.containerInfo);break;case 10:r=t.memoizedProps.value;var i=t.type._context;hi(Ji,i._currentValue),i._currentValue=r;break;case 13:if(null!==t.memoizedState)return 0!==(n&t.child.childLanes)?Zo(e,t,n):(hi(Us,1&Us.current),null!==(t=oa(e,t,n))?t.sibling:null);hi(Us,1&Us.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(64&e.flags)){if(r)return sa(e,t,n);t.flags|=64}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),hi(Us,Us.current),r)break;return null;case 23:case 24:return t.lanes=0,Bo(e,t,n)}return oa(e,t,n)}Uo=0!==(16384&e.flags)}else Uo=!1;switch(t.lanes=0,t.tag){case 2:if(r=t.type,null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,i=mi(t,fi.current),ss(t,n),i=oo(null,t,r,e,i,n),t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof){if(t.tag=1,t.memoizedState=null,t.updateQueue=null,yi(r)){var s=!0;Ei(t)}else s=!1;t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,ls(t);var a=r.getDerivedStateFromProps;"function"===typeof a&&ms(t,r,a,e),i.updater=ys,t.stateNode=i,i._reactInternals=t,Es(t,r,e,n),t=Wo(null,t,r,!0,s,n)}else t.tag=0,Fo(null,t,i,n),t=t.child;return t;case 16:i=t.elementType;e:{switch(null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,i=(s=i._init)(i._payload),t.type=i,s=t.tag=function(e){if("function"===typeof e)return Wl(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===N)return 11;if(e===O)return 14}return 2}(i),e=Xi(i,e),s){case 0:t=Ho(null,t,i,e,n);break e;case 1:t=Ko(null,t,i,e,n);break e;case 11:t=Vo(null,t,i,e,n);break e;case 14:t=jo(null,t,i,Xi(i.type,e),r,n);break e}throw Error(o(306,i,""))}return t;case 0:return r=t.type,i=t.pendingProps,Ho(e,t,r,i=t.elementType===r?i:Xi(r,i),n);case 1:return r=t.type,i=t.pendingProps,Ko(e,t,r,i=t.elementType===r?i:Xi(r,i),n);case 3:if(Go(t),r=t.updateQueue,null===e||null===r)throw Error(o(282));if(r=t.pendingProps,i=null!==(i=t.memoizedState)?i.element:null,us(e,t),fs(t,r,null,n),(r=t.memoizedState.element)===i)Gs(),t=oa(e,t,n);else{if((s=(i=t.stateNode).hydrate)&&(js=Qr(t.stateNode.containerInfo.firstChild),Vs=t,s=zs=!0),s){if(null!=(e=i.mutableSourceEagerHydrationData))for(i=0;i<e.length;i+=2)(s=e[i])._workInProgressVersionPrimary=e[i+1],Qs.push(s);for(n=Cs(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|1024,n=n.sibling}else Fo(e,t,r,n),Gs();t=t.child}return t;case 5:return Ls(t),null===e&&Hs(t),r=t.type,i=t.pendingProps,s=null!==e?e.memoizedProps:null,a=i.children,Hr(r,i)?a=null:null!==s&&Hr(r,s)&&(t.flags|=16),qo(e,t),Fo(e,t,a,n),t.child;case 6:return null===e&&Hs(t),null;case 13:return Zo(e,t,n);case 4:return Ps(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Is(t,null,r,n):Fo(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,Vo(e,t,r,i=t.elementType===r?i:Xi(r,i),n);case 7:return Fo(e,t,t.pendingProps,n),t.child;case 8:case 12:return Fo(e,t,t.pendingProps.children,n),t.child;case 10:e:{r=t.type._context,i=t.pendingProps,a=t.memoizedProps,s=i.value;var l=t.type._context;if(hi(Ji,l._currentValue),l._currentValue=s,null!==a)if(l=a.value,0===(s=cr(l,s)?0:0|("function"===typeof r._calculateChangedBits?r._calculateChangedBits(l,s):1073741823))){if(a.children===i.children&&!pi.current){t=oa(e,t,n);break e}}else for(null!==(l=t.child)&&(l.return=t);null!==l;){var u=l.dependencies;if(null!==u){a=l.child;for(var c=u.firstContext;null!==c;){if(c.context===r&&0!==(c.observedBits&s)){1===l.tag&&((c=cs(-1,n&-n)).tag=2,hs(l,c)),l.lanes|=n,null!==(c=l.alternate)&&(c.lanes|=n),is(l.return,n),u.lanes|=n;break}c=c.next}}else a=10===l.tag&&l.type===t.type?null:l.child;if(null!==a)a.return=l;else for(a=l;null!==a;){if(a===t){a=null;break}if(null!==(l=a.sibling)){l.return=a.return,a=l;break}a=a.return}l=a}Fo(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=(s=t.pendingProps).children,ss(t,n),r=r(i=os(i,s.unstable_observedBits)),t.flags|=1,Fo(e,t,r,n),t.child;case 14:return s=Xi(i=t.type,t.pendingProps),jo(e,t,i,s=Xi(i.type,s),r,n);case 15:return zo(e,t,t.type,t.pendingProps,r,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Xi(r,i),null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),t.tag=1,yi(r)?(e=!0,Ei(t)):e=!1,ss(t,n),ws(t,r,i),Es(t,r,i,n),Wo(null,t,r,!0,e,n);case 19:return sa(e,t,n);case 23:case 24:return Bo(e,t,n)}throw Error(o(156,t.tag))},iu.prototype.render=function(e){eu(e,this._internalRoot,null,null)},iu.prototype.unmount=function(){var e=this._internalRoot,t=e.containerInfo;eu(null,e,null,function(){t[ei]=null})},tt=function(e){13===e.tag&&(gl(e,4,fl()),ru(e,4))},nt=function(e){13===e.tag&&(gl(e,67108864,fl()),ru(e,67108864))},rt=function(e){if(13===e.tag){var t=fl(),n=pl(e);gl(e,n,t),ru(e,n)}},it=function(e,t){return t()},Ce=function(e,t,n){switch(t){case"input":if(ne(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=si(r);if(!i)throw Error(o(90));X(r),ne(r,i)}}}break;case"textarea":ue(e,n);break;case"select":null!=(t=n.value)&&oe(e,!!n.multiple,t,!1)}},Pe=El,De=function(e,t,n,r,i){var s=Pa;Pa|=4;try{return Wi(98,e.bind(null,t,n,r,i))}finally{0===(Pa=s)&&(Qa(),Qi())}},Le=function(){0===(49&Pa)&&(function(){if(null!==sl){var e=sl;sl=null,e.forEach(function(e){e.expiredLanes|=24&e.pendingLanes,yl(e,qi())})}Qi()}(),Ml())},Me=function(e,t){var n=Pa;Pa|=2;try{return e(t)}finally{0===(Pa=n)&&(Qa(),Qi())}};var lu={Events:[ri,ii,si,xe,Oe,Ml,{current:!1}]},uu={findFiberByHostInstance:ni,bundleType:0,version:"17.0.2",rendererPackageName:"react-dom"},cu={bundleType:uu.bundleType,version:uu.version,rendererPackageName:uu.rendererPackageName,rendererConfig:uu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:E.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Ze(e))?null:e.stateNode},findFiberByHostInstance:uu.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var hu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!hu.isDisabled&&hu.supportsFiber)try{ki=hu.inject(cu),Ti=hu}catch(me){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=lu,t.createPortal=au,t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(o(188));throw Error(o(268,Object.keys(e)))}return e=null===(e=Ze(t))?null:e.stateNode},t.flushSync=function(e,t){var n=Pa;if(0!==(48&n))return e(t);Pa|=1;try{if(e)return Wi(99,e.bind(null,t))}finally{Pa=n,Qi()}},t.hydrate=function(e,t,n){if(!su(t))throw Error(o(200));return ou(null,e,t,!0,n)},t.render=function(e,t,n){if(!su(t))throw Error(o(200));return ou(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!su(e))throw Error(o(40));return!!e._reactRootContainer&&(_l(function(){ou(null,null,e,!1,function(){e._reactRootContainer=null,e[ei]=null})}),!0)},t.unstable_batchedUpdates=El,t.unstable_createPortal=function(e,t){return au(e,t,2<arguments.length&&void 0!==arguments[2]?arguments[2]:null)},t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!su(n))throw Error(o(200));if(null==e||void 0===e._reactInternals)throw Error(o(38));return ou(e,t,n,!1,r)},t.version="17.0.2"},853:(e,t,n)=>{"use strict";e.exports=n(234)},950:(e,t,n)=>{"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(730)}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var s=t[r]={exports:{}};return e[r](s,s.exports,n),s.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{"use strict";var e=n(43),t=n(950);function r(e,t){return r=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},r(e,t)}function i(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,r(e,t)}var s=n(173),o=n.n(s);function a(){return a=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a.apply(null,arguments)}function l(e){return"/"===e.charAt(0)}function u(e,t){for(var n=t,r=n+1,i=e.length;r<i;n+=1,r+=1)e[n]=e[r];e.pop()}const c=function(e,t){void 0===t&&(t="");var n,r=e&&e.split("/")||[],i=t&&t.split("/")||[],s=e&&l(e),o=t&&l(t),a=s||o;if(e&&l(e)?i=r:r.length&&(i.pop(),i=i.concat(r)),!i.length)return"/";if(i.length){var c=i[i.length-1];n="."===c||".."===c||""===c}else n=!1;for(var h=0,d=i.length;d>=0;d--){var f=i[d];"."===f?u(i,d):".."===f?(u(i,d),h++):h&&(u(i,d),h--)}if(!a)for(;h--;h)i.unshift("..");!a||""===i[0]||i[0]&&l(i[0])||i.unshift("");var p=i.join("/");return n&&"/"!==p.substr(-1)&&(p+="/"),p};function h(e){return e.valueOf?e.valueOf():Object.prototype.valueOf.call(e)}const d=function e(t,n){if(t===n)return!0;if(null==t||null==n)return!1;if(Array.isArray(t))return Array.isArray(n)&&t.length===n.length&&t.every(function(t,r){return e(t,n[r])});if("object"===typeof t||"object"===typeof n){var r=h(t),i=h(n);return r!==t||i!==n?e(r,i):Object.keys(Object.assign({},t,n)).every(function(r){return e(t[r],n[r])})}return!1};var f="Invariant failed";function p(e,t){if(!e)throw new Error(f)}function g(e){return"/"===e.charAt(0)?e:"/"+e}function m(e){return"/"===e.charAt(0)?e.substr(1):e}function y(e,t){return function(e,t){return 0===e.toLowerCase().indexOf(t.toLowerCase())&&-1!=="/?#".indexOf(e.charAt(t.length))}(e,t)?e.substr(t.length):e}function v(e){return"/"===e.charAt(e.length-1)?e.slice(0,-1):e}function w(e){var t=e.pathname,n=e.search,r=e.hash,i=t||"/";return n&&"?"!==n&&(i+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(i+="#"===r.charAt(0)?r:"#"+r),i}function b(e,t,n,r){var i;"string"===typeof e?(i=function(e){var t=e||"/",n="",r="",i=t.indexOf("#");-1!==i&&(r=t.substr(i),t=t.substr(0,i));var s=t.indexOf("?");return-1!==s&&(n=t.substr(s),t=t.substr(0,s)),{pathname:t,search:"?"===n?"":n,hash:"#"===r?"":r}}(e),i.state=t):(void 0===(i=a({},e)).pathname&&(i.pathname=""),i.search?"?"!==i.search.charAt(0)&&(i.search="?"+i.search):i.search="",i.hash?"#"!==i.hash.charAt(0)&&(i.hash="#"+i.hash):i.hash="",void 0!==t&&void 0===i.state&&(i.state=t));try{i.pathname=decodeURI(i.pathname)}catch(s){throw s instanceof URIError?new URIError('Pathname "'+i.pathname+'" could not be decoded. This is likely caused by an invalid percent-encoding.'):s}return n&&(i.key=n),r?i.pathname?"/"!==i.pathname.charAt(0)&&(i.pathname=c(i.pathname,r.pathname)):i.pathname=r.pathname:i.pathname||(i.pathname="/"),i}function E(){var e=null;var t=[];return{setPrompt:function(t){return e=t,function(){e===t&&(e=null)}},confirmTransitionTo:function(t,n,r,i){if(null!=e){var s="function"===typeof e?e(t,n):e;"string"===typeof s?"function"===typeof r?r(s,i):i(!0):i(!1!==s)}else i(!0)},appendListener:function(e){var n=!0;function r(){n&&e.apply(void 0,arguments)}return t.push(r),function(){n=!1,t=t.filter(function(e){return e!==r})}},notifyListeners:function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];t.forEach(function(e){return e.apply(void 0,n)})}}}var _=!("undefined"===typeof window||!window.document||!window.document.createElement);function k(e,t){t(window.confirm(e))}var T="popstate",S="hashchange";function I(){try{return window.history.state||{}}catch(e){return{}}}function C(e){void 0===e&&(e={}),_||p(!1);var t=window.history,n=function(){var e=window.navigator.userAgent;return(-1===e.indexOf("Android 2.")&&-1===e.indexOf("Android 4.0")||-1===e.indexOf("Mobile Safari")||-1!==e.indexOf("Chrome")||-1!==e.indexOf("Windows Phone"))&&window.history&&"pushState"in window.history}(),r=!(-1===window.navigator.userAgent.indexOf("Trident")),i=e,s=i.forceRefresh,o=void 0!==s&&s,l=i.getUserConfirmation,u=void 0===l?k:l,c=i.keyLength,h=void 0===c?6:c,d=e.basename?v(g(e.basename)):"";function f(e){var t=e||{},n=t.key,r=t.state,i=window.location,s=i.pathname+i.search+i.hash;return d&&(s=y(s,d)),b(s,r,n)}function m(){return Math.random().toString(36).substr(2,h)}var C=E();function A(e){a(j,e),j.length=t.length,C.notifyListeners(j.location,j.action)}function N(e){(function(e){return void 0===e.state&&-1===navigator.userAgent.indexOf("CriOS")})(e)||O(f(e.state))}function R(){O(f(I()))}var x=!1;function O(e){if(x)x=!1,A();else{C.confirmTransitionTo(e,"POP",u,function(t){t?A({action:"POP",location:e}):function(e){var t=j.location,n=D.indexOf(t.key);-1===n&&(n=0);var r=D.indexOf(e.key);-1===r&&(r=0);var i=n-r;i&&(x=!0,M(i))}(e)})}}var P=f(I()),D=[P.key];function L(e){return d+w(e)}function M(e){t.go(e)}var U=0;function F(e){1===(U+=e)&&1===e?(window.addEventListener(T,N),r&&window.addEventListener(S,R)):0===U&&(window.removeEventListener(T,N),r&&window.removeEventListener(S,R))}var V=!1;var j={length:t.length,action:"POP",location:P,createHref:L,push:function(e,r){var i="PUSH",s=b(e,r,m(),j.location);C.confirmTransitionTo(s,i,u,function(e){if(e){var r=L(s),a=s.key,l=s.state;if(n)if(t.pushState({key:a,state:l},null,r),o)window.location.href=r;else{var u=D.indexOf(j.location.key),c=D.slice(0,u+1);c.push(s.key),D=c,A({action:i,location:s})}else window.location.href=r}})},replace:function(e,r){var i="REPLACE",s=b(e,r,m(),j.location);C.confirmTransitionTo(s,i,u,function(e){if(e){var r=L(s),a=s.key,l=s.state;if(n)if(t.replaceState({key:a,state:l},null,r),o)window.location.replace(r);else{var u=D.indexOf(j.location.key);-1!==u&&(D[u]=s.key),A({action:i,location:s})}else window.location.replace(r)}})},go:M,goBack:function(){M(-1)},goForward:function(){M(1)},block:function(e){void 0===e&&(e=!1);var t=C.setPrompt(e);return V||(F(1),V=!0),function(){return V&&(V=!1,F(-1)),t()}},listen:function(e){var t=C.appendListener(e);return F(1),function(){F(-1),t()}}};return j}var A="hashchange",N={hashbang:{encodePath:function(e){return"!"===e.charAt(0)?e:"!/"+m(e)},decodePath:function(e){return"!"===e.charAt(0)?e.substr(1):e}},noslash:{encodePath:m,decodePath:g},slash:{encodePath:g,decodePath:g}};function R(e){var t=e.indexOf("#");return-1===t?e:e.slice(0,t)}function x(){var e=window.location.href,t=e.indexOf("#");return-1===t?"":e.substring(t+1)}function O(e){window.location.replace(R(window.location.href)+"#"+e)}function P(e){void 0===e&&{},_||p(!1);var t=window.history,n=(window.navigator.userAgent.indexOf("Firefox"),e),r=n.getUserConfirmation,i=void 0===r?k:r,s=n.hashType,o=void 0===s?"slash":s,l=e.basename?v(g(e.basename)):"",u=N[o],c=u.encodePath,h=u.decodePath;function d(){var e=h(x());return l&&y(e,l),b(e)}var f=E();function m(e){a(j,e),j.length=t.length,f.notifyListeners(j.location,j.action)}var T=!1,S=null;function I(){var e=x(),t=c(e);if(e!==t)O(t);else{var n=d(),r=j.location;if(!T&&function(e,t){return e.pathname===t.pathname&&e.search===t.search&&e.hash===t.hash}(r,n))return;if(S===w(n))return;(function(e){if(T)m();else{var t="POP";f.confirmTransitionTo(e,t,i,function(n){n?m({action:t,location:e}):function(e){var t=j.location,n=L.lastIndexOf(w(t));-1===n&&0;var r=L.lastIndexOf(w(e));-1===r&&0;var i=n-r;i&&M(i)}(e)})}})(n)}}var C=x(),P=c(C);C!==P&&O(P);var D=d(),L=[w(D)];function M(e){t.go(e)}var U=0;function F(e){1===(U+=e)&&1===e?window.addEventListener(A,I):0===U&&window.removeEventListener(A,I)}var V=!1;var j={length:t.length,action:"POP",location:D,createHref:function(e){var t=document.querySelector("base"),n="";return t&&t.getAttribute("href")&&R(window.location.href),n+"#"+c(l+w(e))},push:function(e,t){var n="PUSH",r=b(e,void 0,void 0,j.location);f.confirmTransitionTo(r,n,i,function(e){if(e){var t=w(r),i=c(l+t);if(x()!==i){(function(e){window.location.hash=e})(i);var s=L.lastIndexOf(w(j.location)),o=L.slice(0,s+1);o.push(t),m({action:n,location:r})}else m()}})},replace:function(e,t){var n="REPLACE",r=b(e,void 0,void 0,j.location);f.confirmTransitionTo(r,n,i,function(e){if(e){var t=w(r),i=c(l+t);x()!==i&&O(i);var s=L.indexOf(w(j.location));-1!==s&&(L[s]=t),m({action:n,location:r})}})},go:M,goBack:function(){M(-1)},goForward:function(){M(1)},block:function(e){void 0===e&&!1;var t=f.setPrompt(e);return V||(F(1),!0),function(){return V&&F(-1),t()}},listen:function(e){var t=f.appendListener(e);return F(1),function(){F(-1),t()}}};return j}function D(e,t,n){return Math.min(Math.max(e,t),n)}var L=n(504),M=n.n(L);n(86);function U(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}n(219);var F=1073741823,V="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:{};var j=e.createContext||function(t,n){var r,s,a="__create-react-context-"+function(){var e="__global_unique_id__";return V[e]=(V[e]||0)+1}()+"__",l=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).emitter=function(e){var t=[];return{on:function(e){t.push(e)},off:function(e){t=t.filter(function(t){return t!==e})},get:function(){return e},set:function(n,r){e=n,t.forEach(function(t){return t(e,r)})}}}(t.props.value),t}i(t,e);var r=t.prototype;return r.getChildContext=function(){var e;return(e={})[a]=this.emitter,e},r.componentWillReceiveProps=function(e){if(this.props.value!==e.value){var t,r=this.props.value,i=e.value;!function(e,t){return e===t?0!==e||1/e===1/t:e!==e&&t!==t}(r,i)?(t="function"===typeof n?n(r,i):F,0!==(t|=0)&&this.emitter.set(e.value,t)):t=0}},r.render=function(){return this.props.children},t}(e.Component);l.childContextTypes=((r={})[a]=o().object.isRequired,r);var u=function(e){function n(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).observedBits=void 0,t.state={value:t.getValue()},t.onUpdate=function(e,n){0!==((0|t.observedBits)&n)&&t.setState({value:t.getValue()})},t}i(n,e);var r=n.prototype;return r.componentWillReceiveProps=function(e){var t=e.observedBits;this.observedBits=void 0===t||null===t?F:t},r.componentDidMount=function(){this.context[a]&&this.context[a].on(this.onUpdate);var e=this.props.observedBits;this.observedBits=void 0===e||null===e?F:e},r.componentWillUnmount=function(){this.context[a]&&this.context[a].off(this.onUpdate)},r.getValue=function(){return this.context[a]?this.context[a].get():t},r.render=function(){return(e=this.props.children,Array.isArray(e)?e[0]:e)(this.state.value);var e},n}(e.Component);return u.contextTypes=((s={})[a]=o().object,s),{Provider:l,Consumer:u}},z=function(e){var t=j();return t.displayName=e,t},B=z("Router-History"),q=z("Router"),H=function(t){function n(e){var n;return(n=t.call(this,e)||this).state={location:e.history.location},n._isMounted=!1,n._pendingLocation=null,e.staticContext||(n.unlisten=e.history.listen(function(e){n._pendingLocation=e})),n}i(n,t),n.computeRootMatch=function(e){return{path:"/",url:"/",params:{},isExact:"/"===e}};var r=n.prototype;return r.componentDidMount=function(){var e=this;this._isMounted=!0,this.unlisten&&this.unlisten(),this.props.staticContext||(this.unlisten=this.props.history.listen(function(t){e._isMounted&&e.setState({location:t})})),this._pendingLocation&&this.setState({location:this._pendingLocation})},r.componentWillUnmount=function(){this.unlisten&&(this.unlisten(),this._isMounted=!1,this._pendingLocation=null)},r.render=function(){return e.createElement(q.Provider,{value:{history:this.props.history,location:this.state.location,match:n.computeRootMatch(this.state.location.pathname),staticContext:this.props.staticContext}},e.createElement(B.Provider,{children:this.props.children||null,value:this.props.history}))},n}(e.Component);e.Component;var K=function(e){function t(){return e.apply(this,arguments)||this}i(t,e);var n=t.prototype;return n.componentDidMount=function(){this.props.onMount&&this.props.onMount.call(this,this)},n.componentDidUpdate=function(e){this.props.onUpdate&&this.props.onUpdate.call(this,this,e)},n.componentWillUnmount=function(){this.props.onUnmount&&this.props.onUnmount.call(this,this)},n.render=function(){return null},t}(e.Component);var W={},G=0;function Q(e,t){return void 0===e&&(e="/"),void 0===t&&(t={}),"/"===e?e:function(e){if(W[e])return W[e];var t=M().compile(e);return G<1e4&&(W[e]=t,G++),t}(e)(t,{pretty:!0})}function $(t){var n=t.computedMatch,r=t.to,i=t.push,s=void 0!==i&&i;return e.createElement(q.Consumer,null,function(t){t||p(!1);var i=t.history,o=t.staticContext,l=s?i.push:i.replace,u=b(n?"string"===typeof r?Q(r,n.params):a({},r,{pathname:Q(r.pathname,n.params)}):r);return o?(l(u),null):e.createElement(K,{onMount:function(){l(u)},onUpdate:function(e,t){var n=b(t.to);(function(e,t){return e.pathname===t.pathname&&e.search===t.search&&e.hash===t.hash&&e.key===t.key&&d(e.state,t.state)})(n,a({},u,{key:n.key}))||l(u)},to:r})})}var Y={},X=0;function J(e,t){void 0===t&&(t={}),("string"===typeof t||Array.isArray(t))&&(t={path:t});var n=t,r=n.path,i=n.exact,s=void 0!==i&&i,o=n.strict,a=void 0!==o&&o,l=n.sensitive,u=void 0!==l&&l;return[].concat(r).reduce(function(t,n){if(!n&&""!==n)return null;if(t)return t;var r=function(e,t){var n=""+t.end+t.strict+t.sensitive,r=Y[n]||(Y[n]={});if(r[e])return r[e];var i=[],s={regexp:M()(e,i,t),keys:i};return X<1e4&&(r[e]=s,X++),s}(n,{end:s,strict:a,sensitive:u}),i=r.regexp,o=r.keys,l=i.exec(e);if(!l)return null;var c=l[0],h=l.slice(1),d=e===c;return s&&!d?null:{path:n,url:"/"===n&&""===c?"/":c,isExact:d,params:o.reduce(function(e,t,n){return e[t.name]=h[n],e},{})}},null)}var Z=function(t){function n(){return t.apply(this,arguments)||this}return i(n,t),n.prototype.render=function(){var t=this;return e.createElement(q.Consumer,null,function(n){n||p(!1);var r=t.props.location||n.location,i=a({},n,{location:r,match:t.props.computedMatch?t.props.computedMatch:t.props.path?J(r.pathname,t.props):n.match}),s=t.props,o=s.children,l=s.component,u=s.render;return Array.isArray(o)&&function(t){return 0===e.Children.count(t)}(o)&&(o=null),e.createElement(q.Provider,{value:i},i.match?o?"function"===typeof o?o(i):o:l?e.createElement(l,i):u?u(i):null:"function"===typeof o?o(i):null)})},n}(e.Component);function ee(e){return"/"===e.charAt(0)?e:"/"+e}function te(e,t){if(!e)return t;var n=ee(e);return 0!==t.pathname.indexOf(n)?t:a({},t,{pathname:t.pathname.substr(n.length)})}function ne(e){return"string"===typeof e?e:w(e)}function re(e){return function(){p(!1)}}function ie(){}e.Component;var se=function(t){function n(){return t.apply(this,arguments)||this}return i(n,t),n.prototype.render=function(){var t=this;return e.createElement(q.Consumer,null,function(n){n||p(!1);var r,i,s=t.props.location||n.location;return e.Children.forEach(t.props.children,function(t){if(null==i&&e.isValidElement(t)){r=t;var o=t.props.path||t.props.from;i=o?J(s.pathname,a({},t.props,{path:o})):n.match}}),i?e.cloneElement(r,{location:s,computedMatch:i}):null})},n}(e.Component);var oe=e.useContext;function ae(){return oe(B)}var le=function(t){function n(){for(var e,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))||this).history=C(e.props),e}return i(n,t),n.prototype.render=function(){return e.createElement(H,{history:this.history,children:this.props.children})},n}(e.Component);e.Component;var ue=function(e,t){return"function"===typeof e?e(t):e},ce=function(e,t){return"string"===typeof e?b(e,null,null,t):e},he=function(e){return e},de=e.forwardRef;"undefined"===typeof de&&(de=he);var fe=de(function(t,n){var r=t.innerRef,i=t.navigate,s=t.onClick,o=U(t,["innerRef","navigate","onClick"]),l=o.target,u=a({},o,{onClick:function(e){try{s&&s(e)}catch(t){throw e.preventDefault(),t}e.defaultPrevented||0!==e.button||l&&"_self"!==l||function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)||(e.preventDefault(),i())}});return u.ref=he!==de&&n||r,e.createElement("a",u)});var pe=de(function(t,n){var r=t.component,i=void 0===r?fe:r,s=t.replace,o=t.to,l=t.innerRef,u=U(t,["component","replace","to","innerRef"]);return e.createElement(q.Consumer,null,function(t){t||p(!1);var r=t.history,c=ce(ue(o,t.location),t.location),h=c?r.createHref(c):"",d=a({},u,{href:h,navigate:function(){var e=ue(o,t.location),n=w(t.location)===w(ce(e));(s||n?r.replace:r.push)(e)}});return he!==de?d.ref=n||l:d.innerRef=l,e.createElement(i,d)})}),ge=function(e){return e},me=e.forwardRef;"undefined"===typeof me&&(me=ge);me(function(t,n){var r=t["aria-current"],i=void 0===r?"page":r,s=t.activeClassName,o=void 0===s?"active":s,l=t.activeStyle,u=t.className,c=t.exact,h=t.isActive,d=t.location,f=t.sensitive,g=t.strict,m=t.style,y=t.to,v=t.innerRef,w=U(t,["aria-current","activeClassName","activeStyle","className","exact","isActive","location","sensitive","strict","style","to","innerRef"]);return e.createElement(q.Consumer,null,function(t){t||p(!1);var r=d||t.location,s=ce(ue(y,r),r),b=s.pathname,E=b&&b.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1"),_=E?J(r.pathname,{path:E,exact:c,sensitive:f,strict:g}):null,k=!!(h?h(_,r):_),T="function"===typeof u?u(k):u,S="function"===typeof m?m(k):m;k&&(T=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter(function(e){return e}).join(" ")}(T,o),S=a({},S,l));var I=a({"aria-current":k&&i||null,className:T,style:S,to:s},w);return ge!==me?I.ref=n||v:I.innerRef=v,e.createElement(pe,I)})});const ye=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},ve={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<e.length;i+=3){const t=e[i],s=i+1<e.length,o=s?e[i+1]:0,a=i+2<e.length,l=a?e[i+2]:0,u=t>>2,c=(3&t)<<4|o>>4;let h=(15&o)<<2|l>>6,d=63&l;a||(d=64,s||(h=64)),r.push(n[u],n[c],n[h],n[d])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(ye(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){const t=[];let n=0,r=0;for(;n<e.length;){const i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&s)}else if(i>239&&i<365){const s=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(s>>10)),t[r++]=String.fromCharCode(56320+(1023&s))}else{const s=e[n++],o=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&o)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<e.length;){const t=n[e.charAt(i++)],s=i<e.length?n[e.charAt(i)]:0;++i;const o=i<e.length?n[e.charAt(i)]:64;++i;const a=i<e.length?n[e.charAt(i)]:64;if(++i,null==t||null==s||null==o||null==a)throw new we;const l=t<<2|s>>4;if(r.push(l),64!==o){const e=s<<4&240|o>>2;if(r.push(e),64!==a){const e=o<<6&192|a;r.push(e)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class we extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const be=function(e){return function(e){const t=ye(e);return ve.encodeByteArray(t,!0)}(e).replace(/\./g,"")},Ee=function(e){try{return ve.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};const _e=()=>function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__,ke=()=>{try{return _e()||(()=>{if("undefined"===typeof process)return;const e={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0})()||(()=>{if("undefined"===typeof document)return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(n){return}const t=e&&Ee(e[1]);return t&&JSON.parse(t)})()}catch(e){return void console.info("Unable to get __FIREBASE_DEFAULTS__ due to: ".concat(e))}},Te=e=>{var t,n;return null===(n=null===(t=ke())||void 0===t?void 0:t.emulatorHosts)||void 0===n?void 0:n[e]},Se=e=>{const t=Te(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error("Invalid host ".concat(t," with no separate hostname and port!"));const r=parseInt(t.substring(n+1),10);return"["===t[0]?[t.substring(1,n-1),r]:[t.substring(0,n),r]},Ie=()=>{var e;return null===(e=ke())||void 0===e?void 0:e.config},Ce=e=>{var t;return null===(t=ke())||void 0===t?void 0:t["_".concat(e)]};class Ae{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),"function"===typeof e&&(this.promise.catch(()=>{}),1===e.length?e(t):e(t,n))}}}function Ne(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s=Object.assign({iss:"https://securetoken.google.com/".concat(n),aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[be(JSON.stringify({alg:"none",type:"JWT"})),be(JSON.stringify(s)),""].join(".")}function Re(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function xe(){var e;const t=null===(e=ke())||void 0===e?void 0:e.forceEnvironment;if("node"===t)return!0;if("browser"===t)return!1;try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(r){return!1}}function Oe(){try{return"object"===typeof indexedDB}catch(e){return!1}}class Pe extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name="FirebaseError",Object.setPrototypeOf(this,Pe.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,De.prototype.create)}}class De{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e){const t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],i=r?function(e,t){return e.replace(Le,(e,n)=>{const r=t[n];return null!=r?String(r):"<".concat(n,"?>")})}(r,t):"Error",s="".concat(this.serviceName,": ").concat(i," (").concat(n,").");return new Pe(n,s,t)}}const Le=/\{\$([^}]+)}/g;function Me(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const i of n){if(!r.includes(i))return!1;const n=e[i],s=t[i];if(Ue(n)&&Ue(s)){if(!Me(n,s))return!1}else if(n!==s)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function Ue(e){return null!==e&&"object"===typeof e}function Fe(e){const t=[];for(const[n,r]of Object.entries(e))Array.isArray(r)?r.forEach(e=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function Ve(e){const t={};return e.replace(/^\?/,"").split("&").forEach(e=>{if(e){const[n,r]=e.split("=");t[decodeURIComponent(n)]=decodeURIComponent(r)}}),t}function je(e){const t=e.indexOf("?");if(!t)return"";const n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}class ze{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(e=>{this.error(e)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,n){let r;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");r=function(e,t){if("object"!==typeof e||null===e)return!1;for(const n of t)if(n in e&&"function"===typeof e[n])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n},void 0===r.next&&(r.next=Be),void 0===r.error&&(r.error=Be),void 0===r.complete&&(r.complete=Be);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch(e){}}),this.observers.push(r),i}unsubscribeOne(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{t(this.observers[e])}catch(n){"undefined"!==typeof console&&console.error&&console.error(n)}})}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Be(){}function qe(e){return e&&e._delegate?e._delegate:e}class He{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Ke="[DEFAULT]";class We{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const e=new Ae;if(this.instancesDeferred.set(t,e),this.isInitialized(t)||this.shouldAutoInitialize())try{const n=this.getOrInitializeService({instanceIdentifier:t});n&&e.resolve(n)}catch(n){}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:Ke})}catch(t){}for(const[e,n]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(e);try{const e=this.getOrInitializeService({instanceIdentifier:r});n.resolve(e)}catch(t){}}}}clearInstance(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ke;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(e=>"INTERNAL"in e).map(e=>e.INTERNAL.delete()),...e.filter(e=>"_delete"in e).map(e=>e._delete())])}isComponentSet(){return null!=this.component}isInitialized(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ke;return this.instances.has(e)}getOptions(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ke;return this.instancesOptions.get(e)||{}}initialize(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{options:t={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error("".concat(this.name,"(").concat(n,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));const r=this.getOrInitializeService({instanceIdentifier:n,options:t});for(const[i,s]of this.instancesDeferred.entries()){n===this.normalizeInstanceIdentifier(i)&&s.resolve(r)}return r}onInit(e,t){var n;const r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);const s=this.instances.get(r);return s&&e(s,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,t){const n=this.onInitCallbacks.get(t);if(n)for(const i of n)try{i(e,t)}catch(r){}}getOrInitializeService(e){let{instanceIdentifier:t,options:n={}}=e,r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(i=t,i===Ke?void 0:i),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch(s){}var i;return r||null}normalizeInstanceIdentifier(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ke;return this.component?this.component.multipleInstances?e:Ke:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Ge{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new We(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}const Qe=[];var $e;!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}($e||($e={}));const Ye={debug:$e.DEBUG,verbose:$e.VERBOSE,info:$e.INFO,warn:$e.WARN,error:$e.ERROR,silent:$e.SILENT},Xe=$e.INFO,Je={[$e.DEBUG]:"log",[$e.VERBOSE]:"log",[$e.INFO]:"info",[$e.WARN]:"warn",[$e.ERROR]:"error"},Ze=function(e,t){if(t<e.logLevel)return;const n=(new Date).toISOString(),r=Je[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var i=arguments.length,s=new Array(i>2?i-2:0),o=2;o<i;o++)s[o-2]=arguments[o];console[r]("[".concat(n,"]  ").concat(e.name,":"),...s)};class et{constructor(e){this.name=e,this._logLevel=Xe,this._logHandler=Ze,this._userLogHandler=null,Qe.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in $e))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}setLogLevel(e){this._logLevel="string"===typeof e?Ye[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,$e.DEBUG,...t),this._logHandler(this,$e.DEBUG,...t)}log(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,$e.VERBOSE,...t),this._logHandler(this,$e.VERBOSE,...t)}info(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,$e.INFO,...t),this._logHandler(this,$e.INFO,...t)}warn(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,$e.WARN,...t),this._logHandler(this,$e.WARN,...t)}error(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,$e.ERROR,...t),this._logHandler(this,$e.ERROR,...t)}}function tt(e){return tt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},tt(e)}function nt(e){var t=function(e,t){if("object"!=tt(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=tt(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==tt(t)?t:t+""}function rt(e,t,n){return(t=nt(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function it(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function st(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?it(Object(n),!0).forEach(function(t){rt(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):it(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}let ot,at;const lt=new WeakMap,ut=new WeakMap,ct=new WeakMap,ht=new WeakMap,dt=new WeakMap;let ft={get(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return ut.get(e);if("objectStoreNames"===t)return e.objectStoreNames||ct.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return mt(e[t])},set:(e,t,n)=>(e[t]=n,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function pt(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(at||(at=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(yt(this),n),mt(lt.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return mt(e.apply(yt(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];const s=e.call(yt(this),t,...r);return ct.set(s,t.sort?t.sort():[t]),mt(s)}}function gt(e){return"function"===typeof e?pt(e):(e instanceof IDBTransaction&&function(e){if(ut.has(e))return;const t=new Promise((t,n)=>{const r=()=>{e.removeEventListener("complete",i),e.removeEventListener("error",s),e.removeEventListener("abort",s)},i=()=>{t(),r()},s=()=>{n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",s),e.addEventListener("abort",s)});ut.set(e,t)}(e),t=e,(ot||(ot=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some(e=>t instanceof e)?new Proxy(e,ft):e);var t}function mt(e){if(e instanceof IDBRequest)return function(e){const t=new Promise((t,n)=>{const r=()=>{e.removeEventListener("success",i),e.removeEventListener("error",s)},i=()=>{t(mt(e.result)),r()},s=()=>{n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",s)});return t.then(t=>{t instanceof IDBCursor&&lt.set(t,e)}).catch(()=>{}),dt.set(t,e),t}(e);if(ht.has(e))return ht.get(e);const t=gt(e);return t!==e&&(ht.set(e,t),dt.set(t,e)),t}const yt=e=>dt.get(e);const vt=["get","getKey","getAll","getAllKeys","count"],wt=["put","add","delete","clear"],bt=new Map;function Et(e,t){if(!(e instanceof IDBDatabase)||t in e||"string"!==typeof t)return;if(bt.get(t))return bt.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,i=wt.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!vt.includes(n))return;const s=async function(e){const t=this.transaction(e,i?"readwrite":"readonly");let s=t.store;for(var o=arguments.length,a=new Array(o>1?o-1:0),l=1;l<o;l++)a[l-1]=arguments[l];return r&&(s=s.index(a.shift())),(await Promise.all([s[n](...a),i&&t.done]))[0]};return bt.set(t,s),s}ft=(e=>st(st({},e),{},{get:(t,n,r)=>Et(t,n)||e.get(t,n,r),has:(t,n)=>!!Et(t,n)||e.has(t,n)}))(ft);class _t{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(e=>{if(function(e){const t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){const t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null}).filter(e=>e).join(" ")}}const kt="@firebase/app",Tt="0.9.13",St=new et("@firebase/app"),It="@firebase/app-compat",Ct="@firebase/analytics-compat",At="@firebase/analytics",Nt="@firebase/app-check-compat",Rt="@firebase/app-check",xt="@firebase/auth",Ot="@firebase/auth-compat",Pt="@firebase/database",Dt="@firebase/database-compat",Lt="@firebase/functions",Mt="@firebase/functions-compat",Ut="@firebase/installations",Ft="@firebase/installations-compat",Vt="@firebase/messaging",jt="@firebase/messaging-compat",zt="@firebase/performance",Bt="@firebase/performance-compat",qt="@firebase/remote-config",Ht="@firebase/remote-config-compat",Kt="@firebase/storage",Wt="@firebase/storage-compat",Gt="@firebase/firestore",Qt="@firebase/firestore-compat",$t="firebase",Yt="[DEFAULT]",Xt={[kt]:"fire-core",[It]:"fire-core-compat",[At]:"fire-analytics",[Ct]:"fire-analytics-compat",[Rt]:"fire-app-check",[Nt]:"fire-app-check-compat",[xt]:"fire-auth",[Ot]:"fire-auth-compat",[Pt]:"fire-rtdb",[Dt]:"fire-rtdb-compat",[Lt]:"fire-fn",[Mt]:"fire-fn-compat",[Ut]:"fire-iid",[Ft]:"fire-iid-compat",[Vt]:"fire-fcm",[jt]:"fire-fcm-compat",[zt]:"fire-perf",[Bt]:"fire-perf-compat",[qt]:"fire-rc",[Ht]:"fire-rc-compat",[Kt]:"fire-gcs",[Wt]:"fire-gcs-compat",[Gt]:"fire-fst",[Qt]:"fire-fst-compat","fire-js":"fire-js",[$t]:"fire-js-all"},Jt=new Map,Zt=new Map;function en(e,t){try{e.container.addComponent(t)}catch(n){St.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),n)}}function tn(e){const t=e.name;if(Zt.has(t))return St.debug("There were multiple attempts to register component ".concat(t,".")),!1;Zt.set(t,e);for(const n of Jt.values())en(n,e);return!0}function nn(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}const rn=new De("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class sn{constructor(e,t,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new He("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw rn.create("app-deleted",{appName:this._name})}}const on="9.23.0";function an(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e;if("object"!==typeof t){t={name:t}}const r=Object.assign({name:Yt,automaticDataCollectionEnabled:!1},t),i=r.name;if("string"!==typeof i||!i)throw rn.create("bad-app-name",{appName:String(i)});if(n||(n=Ie()),!n)throw rn.create("no-options");const s=Jt.get(i);if(s){if(Me(n,s.options)&&Me(r,s.config))return s;throw rn.create("duplicate-app",{appName:i})}const o=new Ge(i);for(const l of Zt.values())o.addComponent(l);const a=new sn(n,r,o);return Jt.set(i,a),a}function ln(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Yt;const t=Jt.get(e);if(!t&&e===Yt&&Ie())return an();if(!t)throw rn.create("no-app",{appName:e});return t}function un(e,t,n){var r;let i=null!==(r=Xt[e])&&void 0!==r?r:e;n&&(i+="-".concat(n));const s=i.match(/\s|\//),o=t.match(/\s|\//);if(s||o){const e=['Unable to register library "'.concat(i,'" with version "').concat(t,'":')];return s&&e.push('library name "'.concat(i,'" contains illegal characters (whitespace or "/")')),s&&o&&e.push("and"),o&&e.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void St.warn(e.join(" "))}tn(new He("".concat(i,"-version"),()=>({library:i,version:t}),"VERSION"))}const cn="firebase-heartbeat-store";let hn=null;function dn(){return hn||(hn=function(e,t){let{blocked:n,upgrade:r,blocking:i,terminated:s}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const o=indexedDB.open(e,t),a=mt(o);return r&&o.addEventListener("upgradeneeded",e=>{r(mt(o.result),e.oldVersion,e.newVersion,mt(o.transaction),e)}),n&&o.addEventListener("blocked",e=>n(e.oldVersion,e.newVersion,e)),a.then(e=>{s&&e.addEventListener("close",()=>s()),i&&e.addEventListener("versionchange",e=>i(e.oldVersion,e.newVersion,e))}).catch(()=>{}),a}("firebase-heartbeat-database",1,{upgrade:(e,t)=>{if(0===t)e.createObjectStore(cn)}}).catch(e=>{throw rn.create("idb-open",{originalErrorMessage:e.message})})),hn}async function fn(e,t){try{const n=(await dn()).transaction(cn,"readwrite"),r=n.objectStore(cn);await r.put(t,pn(e)),await n.done}catch(n){if(n instanceof Pe)St.warn(n.message);else{const e=rn.create("idb-set",{originalErrorMessage:null===n||void 0===n?void 0:n.message});St.warn(e.message)}}}function pn(e){return"".concat(e.name,"!").concat(e.options.appId)}class gn{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new yn(t),this._heartbeatsCachePromise=this._storage.read().then(e=>(this._heartbeatsCache=e,e))}async triggerHeartbeat(){const e=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),t=mn();if(null===this._heartbeatsCache&&(this._heartbeatsCache=await this._heartbeatsCachePromise),this._heartbeatsCache.lastSentHeartbeatDate!==t&&!this._heartbeatsCache.heartbeats.some(e=>e.date===t))return this._heartbeatsCache.heartbeats.push({date:t,agent:e}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(e=>{const t=new Date(e.date).valueOf();return Date.now()-t<=2592e6}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null===this._heartbeatsCache||0===this._heartbeatsCache.heartbeats.length)return"";const e=mn(),{heartbeatsToSend:t,unsentEntries:n}=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024;const n=[];let r=e.slice();for(const i of e){const e=n.find(e=>e.agent===i.agent);if(e){if(e.dates.push(i.date),vn(n)>t){e.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),vn(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(this._heartbeatsCache.heartbeats),r=be(JSON.stringify({version:2,heartbeats:t}));return this._heartbeatsCache.lastSentHeartbeatDate=e,n.length>0?(this._heartbeatsCache.heartbeats=n,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),r}}function mn(){return(new Date).toISOString().substring(0,10)}class yn{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!Oe()&&new Promise((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(n){t(n)}}).then(()=>!0).catch(()=>!1)}async read(){if(await this._canUseIndexedDBPromise){const e=await async function(e){try{const t=await dn();return await t.transaction(cn).objectStore(cn).get(pn(e))}catch(t){if(t instanceof Pe)St.warn(t.message);else{const e=rn.create("idb-get",{originalErrorMessage:null===t||void 0===t?void 0:t.message});St.warn(e.message)}}}(this.app);return e||{heartbeats:[]}}return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return fn(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:e.heartbeats})}}async add(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return fn(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...e.heartbeats]})}}}function vn(e){return be(JSON.stringify({version:2,heartbeats:e})).length}var wn;wn="",tn(new He("platform-logger",e=>new _t(e),"PRIVATE")),tn(new He("heartbeat",e=>new gn(e),"PRIVATE")),un(kt,Tt,wn),un(kt,Tt,"esm2017"),un("fire-js","");un("firebase","9.23.0","app");function bn(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}Object.create;Object.create;"function"===typeof SuppressedError&&SuppressedError;function En(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const _n=En,kn=new De("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Tn=new et("@firebase/auth");function Sn(e){if(Tn.logLevel<=$e.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];Tn.error("Auth (".concat(on,"): ").concat(e),...n)}}function In(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw Nn(e,...n)}function Cn(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return Nn(e,...n)}function An(e,t,n){const r=Object.assign(Object.assign({},_n()),{[t]:n});return new De("auth","Firebase",r).create(t,{appName:e.name})}function Nn(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!==typeof e){const t=n[0],r=[...n.slice(1)];return r[0]&&(r[0].appName=e.name),e._errorFactory.create(t,...r)}return kn.create(e,...n)}function Rn(e,t){if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];throw Nn(t,...r)}}function xn(e){const t="INTERNAL ASSERTION FAILED: "+e;throw Sn(t),new Error(t)}function On(e,t){e||xn(t)}function Pn(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function Dn(){return"http:"===Ln()||"https:"===Ln()}function Ln(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}function Mn(){return!("undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(Dn()||function(){const e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}()||"connection"in navigator))||navigator.onLine}class Un{constructor(e,t){this.shortDelay=e,this.longDelay=t,On(t>e,"Short delay should be less than long delay!"),this.isMobile="undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Re())||"object"===typeof navigator&&"ReactNative"===navigator.product}get(){return Mn()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Fn(e,t){On(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?"".concat(n).concat(t.startsWith("/")?t.slice(1):t):n}class Vn{static initialize(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:void xn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:void xn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:void xn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const jn={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},zn=new Un(3e4,6e4);function Bn(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}async function qn(e,t,n,r){return Hn(e,arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},async()=>{let i={},s={};r&&("GET"===t?s=r:i={body:JSON.stringify(r)});const o=Fe(Object.assign({key:e.config.apiKey},s)).slice(1),a=await e._getAdditionalHeaders();return a["Content-Type"]="application/json",e.languageCode&&(a["X-Firebase-Locale"]=e.languageCode),Vn.fetch()(Wn(e,e.config.apiHost,n,o),Object.assign({method:t,headers:a,referrerPolicy:"no-referrer"},i))})}async function Hn(e,t,n){e._canInitEmulator=!1;const r=Object.assign(Object.assign({},jn),t);try{const t=new Gn(e),i=await Promise.race([n(),t.promise]);t.clearNetworkTimeout();const s=await i.json();if("needConfirmation"in s)throw Qn(e,"account-exists-with-different-credential",s);if(i.ok&&!("errorMessage"in s))return s;{const t=i.ok?s.errorMessage:s.error.message,[n,o]=t.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===n)throw Qn(e,"credential-already-in-use",s);if("EMAIL_EXISTS"===n)throw Qn(e,"email-already-in-use",s);if("USER_DISABLED"===n)throw Qn(e,"user-disabled",s);const a=r[n]||n.toLowerCase().replace(/[_\s]+/g,"-");if(o)throw An(e,a,o);In(e,a)}}catch(i){if(i instanceof Pe)throw i;In(e,"network-request-failed",{message:String(i)})}}async function Kn(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};const s=await qn(e,t,n,r,i);return"mfaPendingCredential"in s&&In(e,"multi-factor-auth-required",{_serverResponse:s}),s}function Wn(e,t,n,r){const i="".concat(t).concat(n,"?").concat(r);return e.config.emulator?Fn(e.config,i):"".concat(e.config.apiScheme,"://").concat(i)}class Gn{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((e,t)=>{this.timer=setTimeout(()=>t(Cn(this.auth,"network-request-failed")),zn.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Qn(e,t,n){const r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Cn(e,t,r);return i.customData._tokenResponse=n,i}function $n(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(t){}}function Yn(e){return 1e3*Number(e)}function Xn(e){const[t,n,r]=e.split(".");if(void 0===t||void 0===n||void 0===r)return Sn("JWT malformed, contained fewer than 3 sections"),null;try{const e=Ee(n);return e?JSON.parse(e):(Sn("Failed to decode base64 JWT payload"),null)}catch(i){return Sn("Caught error parsing JWT payload as JSON",null===i||void 0===i?void 0:i.toString()),null}}async function Jn(e,t){if(arguments.length>2&&void 0!==arguments[2]&&arguments[2])return t;try{return await t}catch(n){throw n instanceof Pe&&function(e){let{code:t}=e;return t==="auth/".concat("user-disabled")||t==="auth/".concat("user-token-expired")}(n)&&e.auth.currentUser===e&&await e.auth.signOut(),n}}class Zn{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const e=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),e}{this.errorBackoff=3e4;const e=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,e)}}schedule(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){return void((null===e||void 0===e?void 0:e.code)==="auth/".concat("network-request-failed")&&this.schedule(!0))}this.schedule()}}class er{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=$n(this.lastLoginAt),this.creationTime=$n(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function tr(e){var t;const n=e.auth,r=await e.getIdToken(),i=await Jn(e,async function(e,t){return qn(e,"POST","/v1/accounts:lookup",t)}(n,{idToken:r}));Rn(null===i||void 0===i?void 0:i.users.length,n,"internal-error");const s=i.users[0];e._notifyReloadListener(s);const o=(null===(t=s.providerUserInfo)||void 0===t?void 0:t.length)?s.providerUserInfo.map(e=>{var{providerId:t}=e,n=bn(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}}):[];const a=(l=e.providerData,u=o,[...l.filter(e=>!u.some(t=>t.providerId===e.providerId)),...u]);var l,u;const c=e.isAnonymous,h=!(e.email&&s.passwordHash)&&!(null===a||void 0===a?void 0:a.length),d=!!c&&h,f={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new er(s.createdAt,s.lastLoginAt),isAnonymous:d};Object.assign(e,f)}class nr{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Rn(e.idToken,"internal-error"),Rn("undefined"!==typeof e.idToken,"internal-error"),Rn("undefined"!==typeof e.refreshToken,"internal-error");const t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):function(e){const t=Xn(e);return Rn(t,"internal-error"),Rn("undefined"!==typeof t.exp,"internal-error"),Rn("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}async getToken(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return Rn(!this.accessToken||this.refreshToken,e,"user-token-expired"),t||!this.accessToken||this.isExpired?this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null:this.accessToken}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:n,refreshToken:r,expiresIn:i}=await async function(e,t){const n=await Hn(e,{},async()=>{const n=Fe({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:r,apiKey:i}=e.config,s=Wn(e,r,"/v1/token","key=".concat(i)),o=await e._getAdditionalHeaders();return o["Content-Type"]="application/x-www-form-urlencoded",Vn.fetch()(s,{method:"POST",headers:o,body:n})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}(e,t);this.updateTokensAndExpiration(n,r,Number(i))}updateTokensAndExpiration(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}static fromJSON(e,t){const{refreshToken:n,accessToken:r,expirationTime:i}=t,s=new nr;return n&&(Rn("string"===typeof n,"internal-error",{appName:e}),s.refreshToken=n),r&&(Rn("string"===typeof r,"internal-error",{appName:e}),s.accessToken=r),i&&(Rn("number"===typeof i,"internal-error",{appName:e}),s.expirationTime=i),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new nr,this.toJSON())}_performRefresh(){return xn("not implemented")}}function rr(e,t){Rn("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}class ir{constructor(e){var{uid:t,auth:n,stsTokenManager:r}=e,i=bn(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Zn(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new er(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const t=await Jn(this,this.stsTokenManager.getToken(this.auth,e));return Rn(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return async function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=qe(e),r=await n.getIdToken(t),i=Xn(r);Rn(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s="object"===typeof i.firebase?i.firebase:void 0,o=null===s||void 0===s?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:$n(Yn(i.auth_time)),issuedAtTime:$n(Yn(i.iat)),expirationTime:$n(Yn(i.exp)),signInProvider:o||null,signInSecondFactor:(null===s||void 0===s?void 0:s.sign_in_second_factor)||null}}(this,e)}reload(){return async function(e){const t=qe(e);await tr(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}(this)}_assign(e){this!==e&&(Rn(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(e=>Object.assign({},e)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new ir(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){Rn(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),t&&await tr(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){const e=await this.getIdToken();return await Jn(this,async function(e,t){return qn(e,"POST","/v1/accounts:delete",t)}(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var n,r,i,s,o,a,l,u;const c=null!==(n=t.displayName)&&void 0!==n?n:void 0,h=null!==(r=t.email)&&void 0!==r?r:void 0,d=null!==(i=t.phoneNumber)&&void 0!==i?i:void 0,f=null!==(s=t.photoURL)&&void 0!==s?s:void 0,p=null!==(o=t.tenantId)&&void 0!==o?o:void 0,g=null!==(a=t._redirectEventId)&&void 0!==a?a:void 0,m=null!==(l=t.createdAt)&&void 0!==l?l:void 0,y=null!==(u=t.lastLoginAt)&&void 0!==u?u:void 0,{uid:v,emailVerified:w,isAnonymous:b,providerData:E,stsTokenManager:_}=t;Rn(v&&_,e,"internal-error");const k=nr.fromJSON(this.name,_);Rn("string"===typeof v,e,"internal-error"),rr(c,e.name),rr(h,e.name),Rn("boolean"===typeof w,e,"internal-error"),Rn("boolean"===typeof b,e,"internal-error"),rr(d,e.name),rr(f,e.name),rr(p,e.name),rr(g,e.name),rr(m,e.name),rr(y,e.name);const T=new ir({uid:v,auth:e,email:h,emailVerified:w,displayName:c,isAnonymous:b,photoURL:f,phoneNumber:d,tenantId:p,stsTokenManager:k,createdAt:m,lastLoginAt:y});return E&&Array.isArray(E)&&(T.providerData=E.map(e=>Object.assign({},e))),g&&(T._redirectEventId=g),T}static async _fromIdTokenResponse(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=new nr;r.updateFromServerResponse(t);const i=new ir({uid:t.localId,auth:e,stsTokenManager:r,isAnonymous:n});return await tr(i),i}}const sr=new Map;function or(e){On(e instanceof Function,"Expected a class definition");let t=sr.get(e);return t?(On(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,sr.set(e,t),t)}class ar{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return void 0===t?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}ar.type="NONE";const lr=ar;function ur(e,t,n){return"firebase".concat(":",e,":").concat(t,":").concat(n)}class cr{constructor(e,t,n){this.persistence=e,this.auth=t,this.userKey=n;const{config:r,name:i}=this.auth;this.fullUserKey=ur(this.userKey,r.apiKey,i),this.fullPersistenceKey=ur("persistence",r.apiKey,i),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?ir._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();return await this.removeCurrentUser(),this.persistence=e,t?this.setCurrentUser(t):void 0}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"authUser";if(!t.length)return new cr(or(lr),e,n);const r=(await Promise.all(t.map(async e=>{if(await e._isAvailable())return e}))).filter(e=>e);let i=r[0]||or(lr);const s=ur(n,e.config.apiKey,e.name);let o=null;for(const u of t)try{const t=await u._get(s);if(t){const n=ir._fromJSON(e,t);u!==i&&(o=n),i=u;break}}catch(l){}const a=r.filter(e=>e._shouldAllowMigration);return i._shouldAllowMigration&&a.length?(i=a[0],o&&await i._set(s,o.toJSON()),await Promise.all(t.map(async e=>{if(e!==i)try{await e._remove(s)}catch(l){}})),new cr(i,e,n)):new cr(i,e,n)}}function hr(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(gr(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(dr(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(yr(t))return"Blackberry";if(vr(t))return"Webos";if(fr(t))return"Safari";if((t.includes("chrome/")||pr(t))&&!t.includes("edge/"))return"Chrome";if(mr(t))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=e.match(t);if(2===(null===n||void 0===n?void 0:n.length))return n[1]}return"Other"}function dr(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Re();return/firefox\//i.test(e)}function fr(){const e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:Re()).toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function pr(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Re();return/crios\//i.test(e)}function gr(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Re();return/iemobile/i.test(e)}function mr(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Re();return/android/i.test(e)}function yr(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Re();return/blackberry/i.test(e)}function vr(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Re();return/webos/i.test(e)}function wr(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Re();return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function br(){return function(){const e=Re();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}()&&10===document.documentMode}function Er(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Re();return wr(e)||mr(e)||vr(e)||yr(e)||/windows phone/i.test(e)||gr(e)}function _r(e){let t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=hr(Re());break;case"Worker":t="".concat(hr(Re()),"-").concat(e);break;default:t=e}const r=n.length?n.join(","):"FirebaseCore-web";return"".concat(t,"/","JsCore","/").concat(on,"/").concat(r)}async function kr(e,t){return qn(e,"GET","/v2/recaptchaConfig",Bn(e,t))}function Tr(e){return void 0!==e&&void 0!==e.enterprise}class Sr{constructor(e){if(this.siteKey="",this.emailPasswordEnabled=!1,void 0===e.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.emailPasswordEnabled=e.recaptchaEnforcementState.some(e=>"EMAIL_PASSWORD_PROVIDER"===e.provider&&"OFF"!==e.enforcementState)}}function Ir(e){return new Promise((t,n)=>{const r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=e=>{const t=Cn("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}().appendChild(r)})}function Cr(e){return"__".concat(e).concat(Math.floor(1e6*Math.random()))}class Ar{constructor(e){this.type="recaptcha-enterprise",this.auth=Or(e)}async verify(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"verify",t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];function n(t,n,r){const i=window.grecaptcha;Tr(i)?i.enterprise.ready(()=>{i.enterprise.execute(t,{action:e}).then(e=>{n(e)}).catch(()=>{n("NO_RECAPTCHA")})}):r(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((e,r)=>{(async function(e){if(!t){if(null==e.tenantId&&null!=e._agentRecaptchaConfig)return e._agentRecaptchaConfig.siteKey;if(null!=e.tenantId&&void 0!==e._tenantRecaptchaConfigs[e.tenantId])return e._tenantRecaptchaConfigs[e.tenantId].siteKey}return new Promise(async(t,n)=>{kr(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(r=>{if(void 0!==r.recaptchaKey){const n=new Sr(r);return null==e.tenantId?e._agentRecaptchaConfig=n:e._tenantRecaptchaConfigs[e.tenantId]=n,t(n.siteKey)}n(new Error("recaptcha Enterprise site key undefined"))}).catch(e=>{n(e)})})})(this.auth).then(i=>{if(!t&&Tr(window.grecaptcha))n(i,e,r);else{if("undefined"===typeof window)return void r(new Error("RecaptchaVerifier is only supported in browser"));Ir("https://www.google.com/recaptcha/enterprise.js?render="+i).then(()=>{n(i,e,r)}).catch(e=>{r(e)})}}).catch(e=>{r(e)})})}}async function Nr(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const i=new Ar(e);let s;try{s=await i.verify(n)}catch(a){s=await i.verify(n,!0)}const o=Object.assign({},t);return r?Object.assign(o,{captchaResp:s}):Object.assign(o,{captchaResponse:s}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}class Rr{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const n=t=>new Promise((n,r)=>{try{n(e(t))}catch(i){r(i)}});n.onAbort=t,this.queue.push(n);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const n of this.queue)await n(e),n.onAbort&&t.push(n.onAbort)}catch(n){t.reverse();for(const e of t)try{e()}catch(r){}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null===n||void 0===n?void 0:n.message})}}}class xr{constructor(e,t,n,r){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Pr(this),this.idTokenSubscription=new Pr(this),this.beforeStateQueue=new Rr(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=kn,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=or(t)),this._initializationPromise=this.queue(async()=>{var n,r;if(!this._deleted&&(this.persistenceManager=await cr.create(this,e),!this._deleted)){if(null===(n=this._popupRedirectResolver)||void 0===n?void 0:n._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch(i){}await this.initializeCurrentUser(t),this.lastNotifiedUid=(null===(r=this.currentUser)||void 0===r?void 0:r.uid)||null,this._deleted||(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();return this.currentUser||e?this.currentUser&&e&&this.currentUser.uid===e.uid?(this._currentUser._assign(e),void await this.currentUser.getIdToken()):void await this._updateCurrentUser(e,!0):void 0}async initializeCurrentUser(e){var t;const n=await this.assertedPersistence.getCurrentUser();let r=n,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const n=null===(t=this.redirectUser)||void 0===t?void 0:t._redirectEventId,s=null===r||void 0===r?void 0:r._redirectEventId,o=await this.tryRedirectSignIn(e);n&&n!==s||!(null===o||void 0===o?void 0:o.user)||(r=o.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(s){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Rn(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch(n){await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await tr(e)}catch(t){if((null===t||void 0===t?void 0:t.code)!=="auth/".concat("network-request-failed"))return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=function(){if("undefined"===typeof navigator)return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}()}async _delete(){this._deleted=!0}async updateCurrentUser(e){const t=e?qe(e):null;return t&&Rn(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!this._deleted)return e&&Rn(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(e){return this.queue(async()=>{await this.assertedPersistence.setPersistence(or(e))})}async initializeRecaptchaConfig(){const e=await kr(this,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),t=new Sr(e);if(null==this.tenantId?this._agentRecaptchaConfig=t:this._tenantRecaptchaConfigs[this.tenantId]=t,t.emailPasswordEnabled){new Ar(this).verify()}}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new De("auth","Firebase",e())}onAuthStateChanged(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}async _setRedirectUser(e,t){const n=await this.getOrInitRedirectPersistenceManager(t);return null===e?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&or(e)||this._popupRedirectResolver;Rn(t,this,"argument-error"),this.redirectPersistenceManager=await cr.create(this,[or(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,n;return this._isInitialized&&await this.queue(async()=>{}),(null===(t=this._currentUser)||void 0===t?void 0:t._redirectEventId)===e?this._currentUser:(null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return"".concat(this.config.authDomain,":").concat(this.config.apiKey,":").concat(this.name)}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,n,r){if(this._deleted)return()=>{};const i="function"===typeof t?t:t.next.bind(t),s=this._isInitialized?Promise.resolve():this._initializationPromise;return Rn(s,this,"internal-error"),s.then(()=>i(this.currentUser)),"function"===typeof t?e.addObserver(t,n,r):e.addObserver(t)}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Rn(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=_r(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await(null===(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getHeartbeatsHeader());n&&(t["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(t["X-Firebase-AppCheck"]=r),t}async _getAppCheckToken(){var e;const t=await(null===(e=this.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getToken());return(null===t||void 0===t?void 0:t.error)&&function(e){if(Tn.logLevel<=$e.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];Tn.warn("Auth (".concat(on,"): ").concat(e),...n)}}("Error while retrieving App Check token: ".concat(t.error)),null===t||void 0===t?void 0:t.token}}function Or(e){return qe(e)}class Pr{constructor(e){this.auth=e,this.observer=null,this.addObserver=function(e,t){const n=new ze(e,t);return n.subscribe.bind(n)}(e=>this.observer=e)}get next(){return Rn(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function Dr(e,t,n){const r=Or(e);Rn(r._canInitEmulator,r,"emulator-config-failed"),Rn(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const i=!!(null===n||void 0===n?void 0:n.disableWarnings),s=Lr(t),{host:o,port:a}=function(e){const t=Lr(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const e=i[1];return{host:e,port:Mr(r.substr(e.length+1))}}{const[e,t]=r.split(":");return{host:e,port:Mr(t)}}}(t),l=null===a?"":":".concat(a);r.config.emulator={url:"".concat(s,"//").concat(o).concat(l,"/")},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function(){function e(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function Lr(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function Mr(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}class Ur{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return xn("not implemented")}_getIdTokenResponse(e){return xn("not implemented")}_linkToIdToken(e,t){return xn("not implemented")}_getReauthenticationResolver(e){return xn("not implemented")}}async function Fr(e,t){return qn(e,"POST","/v1/accounts:update",t)}async function Vr(e,t){return Kn(e,"POST","/v1/accounts:signInWithPassword",Bn(e,t))}class jr extends Ur{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;super("password",n),this._email=e,this._password=t,this._tenantId=r}static _fromEmailAndPassword(e,t){return new jr(e,t,"password")}static _fromEmailAndCode(e,t){return new jr(e,t,"emailLink",arguments.length>2&&void 0!==arguments[2]?arguments[2]:null)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e;if((null===t||void 0===t?void 0:t.email)&&(null===t||void 0===t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){var t;switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};if(null===(t=e._getRecaptchaConfig())||void 0===t?void 0:t.emailPasswordEnabled){const t=await Nr(e,n,"signInWithPassword");return Vr(e,t)}return Vr(e,n).catch(async t=>{if(t.code==="auth/".concat("missing-recaptcha-token")){console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const t=await Nr(e,n,"signInWithPassword");return Vr(e,t)}return Promise.reject(t)});case"emailLink":return async function(e,t){return Kn(e,"POST","/v1/accounts:signInWithEmailLink",Bn(e,t))}(e,{email:this._email,oobCode:this._password});default:In(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":return Fr(e,{idToken:t,returnSecureToken:!0,email:this._email,password:this._password});case"emailLink":return async function(e,t){return Kn(e,"POST","/v1/accounts:signInWithEmailLink",Bn(e,t))}(e,{idToken:t,email:this._email,oobCode:this._password});default:In(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function zr(e,t){return Kn(e,"POST","/v1/accounts:signInWithIdp",Bn(e,t))}class Br extends Ur{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Br(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):In("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e,{providerId:n,signInMethod:r}=t,i=bn(t,["providerId","signInMethod"]);if(!n||!r)return null;const s=new Br(n,r);return s.idToken=i.idToken||void 0,s.accessToken=i.accessToken||void 0,s.secret=i.secret,s.nonce=i.nonce,s.pendingToken=i.pendingToken||null,s}_getIdTokenResponse(e){return zr(e,this.buildRequest())}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,zr(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,zr(e,t)}buildRequest(){const e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Fe(t)}return e}}const qr={USER_NOT_FOUND:"user-not-found"};class Hr extends Ur{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,t){return new Hr({verificationId:e,verificationCode:t})}static _fromTokenResponse(e,t){return new Hr({phoneNumber:e,temporaryProof:t})}_getIdTokenResponse(e){return async function(e,t){return Kn(e,"POST","/v1/accounts:signInWithPhoneNumber",Bn(e,t))}(e,this._makeVerificationRequest())}_linkToIdToken(e,t){return async function(e,t){const n=await Kn(e,"POST","/v1/accounts:signInWithPhoneNumber",Bn(e,t));if(n.temporaryProof)throw Qn(e,"account-exists-with-different-credential",n);return n}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return async function(e,t){return Kn(e,"POST","/v1/accounts:signInWithPhoneNumber",Bn(e,Object.assign(Object.assign({},t),{operation:"REAUTH"})),qr)}(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:t,verificationId:n,verificationCode:r}=this.params;return e&&t?{temporaryProof:e,phoneNumber:t}:{sessionInfo:n,code:r}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){"string"===typeof e&&(e=JSON.parse(e));const{verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}=e;return n||t||r||i?new Hr({verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}):null}}class Kr{constructor(e){var t,n,r,i,s,o;const a=Ve(je(e)),l=null!==(t=a.apiKey)&&void 0!==t?t:null,u=null!==(n=a.oobCode)&&void 0!==n?n:null,c=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(r=a.mode)&&void 0!==r?r:null);Rn(l&&u&&c,"argument-error"),this.apiKey=l,this.operation=c,this.code=u,this.continueUrl=null!==(i=a.continueUrl)&&void 0!==i?i:null,this.languageCode=null!==(s=a.languageCode)&&void 0!==s?s:null,this.tenantId=null!==(o=a.tenantId)&&void 0!==o?o:null}static parseLink(e){const t=function(e){const t=Ve(je(e)).link,n=t?Ve(je(t)).deep_link_id:null,r=Ve(je(e)).deep_link_id;return(r?Ve(je(r)).link:null)||r||n||t||e}(e);try{return new Kr(t)}catch(n){return null}}}class Wr{constructor(){this.providerId=Wr.PROVIDER_ID}static credential(e,t){return jr._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const n=Kr.parseLink(t);return Rn(n,"argument-error"),jr._fromEmailAndCode(e,n.code,n.tenantId)}}Wr.PROVIDER_ID="password",Wr.EMAIL_PASSWORD_SIGN_IN_METHOD="password",Wr.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class Gr{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class Qr extends Gr{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class $r extends Qr{constructor(){super("facebook.com")}static credential(e){return Br._fromParams({providerId:$r.PROVIDER_ID,signInMethod:$r.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return $r.credentialFromTaggedObject(e)}static credentialFromError(e){return $r.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return $r.credential(t.oauthAccessToken)}catch(n){return null}}}$r.FACEBOOK_SIGN_IN_METHOD="facebook.com",$r.PROVIDER_ID="facebook.com";class Yr extends Qr{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Br._fromParams({providerId:Yr.PROVIDER_ID,signInMethod:Yr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Yr.credentialFromTaggedObject(e)}static credentialFromError(e){return Yr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthIdToken:n,oauthAccessToken:r}=t;if(!n&&!r)return null;try{return Yr.credential(n,r)}catch(i){return null}}}Yr.GOOGLE_SIGN_IN_METHOD="google.com",Yr.PROVIDER_ID="google.com";class Xr extends Qr{constructor(){super("github.com")}static credential(e){return Br._fromParams({providerId:Xr.PROVIDER_ID,signInMethod:Xr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Xr.credentialFromTaggedObject(e)}static credentialFromError(e){return Xr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return Xr.credential(t.oauthAccessToken)}catch(n){return null}}}Xr.GITHUB_SIGN_IN_METHOD="github.com",Xr.PROVIDER_ID="github.com";class Jr extends Qr{constructor(){super("twitter.com")}static credential(e,t){return Br._fromParams({providerId:Jr.PROVIDER_ID,signInMethod:Jr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Jr.credentialFromTaggedObject(e)}static credentialFromError(e){return Jr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=t;if(!n||!r)return null;try{return Jr.credential(n,r)}catch(i){return null}}}async function Zr(e,t){return Kn(e,"POST","/v1/accounts:signUp",Bn(e,t))}Jr.TWITTER_SIGN_IN_METHOD="twitter.com",Jr.PROVIDER_ID="twitter.com";class ei{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const i=await ir._fromIdTokenResponse(e,n,r),s=ti(n);return new ei({user:i,providerId:s,_tokenResponse:n,operationType:t})}static async _forOperation(e,t,n){await e._updateTokensIfNecessary(n,!0);const r=ti(n);return new ei({user:e,providerId:r,_tokenResponse:n,operationType:t})}}function ti(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}class ni extends Pe{constructor(e,t,n,r){var i;super(t.code,t.message),this.operationType=n,this.user=r,Object.setPrototypeOf(this,ni.prototype),this.customData={appName:e.name,tenantId:null!==(i=e.tenantId)&&void 0!==i?i:void 0,_serverResponse:t.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,t,n,r){return new ni(e,t,n,r)}}function ri(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch(n=>{if(n.code==="auth/".concat("multi-factor-auth-required"))throw ni._fromErrorAndOperation(e,n,t,r);throw n})}async function ii(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=await Jn(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return ei._forOperation(e,"link",r)}async function si(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const{auth:r}=e,i="reauthenticate";try{const s=await Jn(e,ri(r,i,t,e),n);Rn(s.idToken,r,"internal-error");const o=Xn(s.idToken);Rn(o,r,"internal-error");const{sub:a}=o;return Rn(e.uid===a,r,"user-mismatch"),ei._forOperation(e,i,s)}catch(s){throw(null===s||void 0===s?void 0:s.code)==="auth/".concat("user-not-found")&&In(r,"user-mismatch"),s}}async function oi(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r="signIn",i=await ri(e,r,t),s=await ei._fromIdTokenResponse(e,r,i);return n||await e._updateCurrentUser(s.user),s}async function ai(e,t){return oi(Or(e),t)}async function li(e,t){let{displayName:n,photoURL:r}=t;if(void 0===n&&void 0===r)return;const i=qe(e),s={idToken:await i.getIdToken(),displayName:n,photoUrl:r,returnSecureToken:!0},o=await Jn(i,async function(e,t){return qn(e,"POST","/v1/accounts:update",t)}(i.auth,s));i.displayName=o.displayName||null,i.photoURL=o.photoUrl||null;const a=i.providerData.find(e=>{let{providerId:t}=e;return"password"===t});a&&(a.displayName=i.displayName,a.photoURL=i.photoURL),await i._updateTokensIfNecessary(o)}new WeakMap;const ui="__sak";class ci{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(ui,"1"),this.storage.removeItem(ui),Promise.resolve(!0)):Promise.resolve(!1)}catch(e){return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}class hi extends ci{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function(){const e=Re();return fr(e)||wr(e)}()&&function(){try{return!(!window||window===window.top)}catch(e){return!1}}(),this.fallbackToPolling=Er(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const n=this.storage.getItem(t),r=this.localCache[t];n!==r&&e(t,r,n)}}onStorageEvent(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!e.key)return void this.forAllChangedKeys((e,t,n)=>{this.notifyListeners(e,n)});const n=e.key;if(t?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const r=this.storage.getItem(n);if(e.newValue!==r)null!==e.newValue?this.storage.setItem(n,e.newValue):this.storage.removeItem(n);else if(this.localCache[n]===e.newValue&&!t)return}const r=()=>{const e=this.storage.getItem(n);(t||this.localCache[n]!==e)&&this.notifyListeners(n,e)},i=this.storage.getItem(n);br()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(r,10):r()}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t?JSON.parse(t):t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:n}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}hi.type="LOCAL";const di=hi;class fi extends ci{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}fi.type="SESSION";const pi=fi;class gi{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(t=>t.isListeningto(e));if(t)return t;const n=new gi(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:n,eventType:r,data:i}=t.data,s=this.handlersMap[r];if(!(null===s||void 0===s?void 0:s.size))return;t.ports[0].postMessage({status:"ack",eventId:n,eventType:r});const o=Array.from(s).map(async e=>e(t.origin,i)),a=await function(e){return Promise.all(e.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}(o);t.ports[0].postMessage({status:"done",eventId:n,eventType:r,response:a})}_subscribe(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}function mi(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="";for(let r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}gi.receivers=[];class yi{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:50;const r="undefined"!==typeof MessageChannel?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let i,s;return new Promise((o,a)=>{const l=mi("",20);r.port1.start();const u=setTimeout(()=>{a(new Error("unsupported_event"))},n);s={messageChannel:r,onMessage(e){const t=e;if(t.data.eventId===l)switch(t.data.status){case"ack":clearTimeout(u),i=setTimeout(()=>{a(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),o(t.data.response);break;default:clearTimeout(u),clearTimeout(i),a(new Error("invalid_response"))}}},this.handlers.add(s),r.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:l,data:t},[r.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})}}function vi(){return window}function wi(){return"undefined"!==typeof vi().WorkerGlobalScope&&"function"===typeof vi().importScripts}const bi="firebaseLocalStorageDb",Ei="firebaseLocalStorage",_i="fbase_key";class ki{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Ti(e,t){return e.transaction([Ei],t?"readwrite":"readonly").objectStore(Ei)}function Si(){const e=indexedDB.open(bi,1);return new Promise((t,n)=>{e.addEventListener("error",()=>{n(e.error)}),e.addEventListener("upgradeneeded",()=>{const t=e.result;try{t.createObjectStore(Ei,{keyPath:_i})}catch(r){n(r)}}),e.addEventListener("success",async()=>{const n=e.result;n.objectStoreNames.contains(Ei)?t(n):(n.close(),await function(){const e=indexedDB.deleteDatabase(bi);return new ki(e).toPromise()}(),t(await Si()))})})}async function Ii(e,t,n){const r=Ti(e,!0).put({[_i]:t,value:n});return new ki(r).toPromise()}function Ci(e,t){const n=Ti(e,!0).delete(t);return new ki(n).toPromise()}class Ai{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db||(this.db=await Si()),this.db}async _withRetries(e){let t=0;for(;;)try{const t=await this._openDb();return await e(t)}catch(n){if(t++>3)throw n;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return wi()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=gi._getInstance(wi()?self:null),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await async function(){if(!(null===navigator||void 0===navigator?void 0:navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch(e){return null}}(),!this.activeServiceWorker)return;this.sender=new yi(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);n&&(null===(e=n[0])||void 0===e?void 0:e.fulfilled)&&(null===(t=n[0])||void 0===t?void 0:t.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(this.sender&&this.activeServiceWorker&&function(){var e;return(null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}()===this.activeServiceWorker)try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch(t){}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Si();return await Ii(e,ui,"1"),await Ci(e,ui),!0}catch(e){}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(n=>Ii(n,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(t=>async function(e,t){const n=Ti(e,!1).get(t),r=await new ki(n).toPromise();return void 0===r?null:r.value}(t,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>Ci(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(e=>{const t=Ti(e,!1).getAll();return new ki(t).toPromise()});if(!e)return[];if(0!==this.pendingWrites)return[];const t=[],n=new Set;for(const{fbase_key:r,value:i}of e)n.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(i)&&(this.notifyListeners(r,i),t.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!n.has(r)&&(this.notifyListeners(r,null),t.push(r));return t}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}Ai.type="LOCAL";const Ni=Ai;Cr("rcb"),new Un(3e4,6e4);const Ri="recaptcha";async function xi(e,t,n){var r;const i=await n.verify();try{let s;if(Rn("string"===typeof i,e,"argument-error"),Rn(n.type===Ri,e,"argument-error"),s="string"===typeof t?{phoneNumber:t}:t,"session"in s){const t=s.session;if("phoneNumber"in s){Rn("enroll"===t.type,e,"internal-error");const n=await function(e,t){return qn(e,"POST","/v2/accounts/mfaEnrollment:start",Bn(e,t))}(e,{idToken:t.credential,phoneEnrollmentInfo:{phoneNumber:s.phoneNumber,recaptchaToken:i}});return n.phoneSessionInfo.sessionInfo}{Rn("signin"===t.type,e,"internal-error");const n=(null===(r=s.multiFactorHint)||void 0===r?void 0:r.uid)||s.multiFactorUid;Rn(n,e,"missing-multi-factor-info");const o=await function(e,t){return qn(e,"POST","/v2/accounts/mfaSignIn:start",Bn(e,t))}(e,{mfaPendingCredential:t.credential,mfaEnrollmentId:n,phoneSignInInfo:{recaptchaToken:i}});return o.phoneResponseInfo.sessionInfo}}{const{sessionInfo:t}=await async function(e,t){return qn(e,"POST","/v1/accounts:sendVerificationCode",Bn(e,t))}(e,{phoneNumber:s.phoneNumber,recaptchaToken:i});return t}}finally{n._reset()}}class Oi{constructor(e){this.providerId=Oi.PROVIDER_ID,this.auth=Or(e)}verifyPhoneNumber(e,t){return xi(this.auth,e,qe(t))}static credential(e,t){return Hr._fromVerification(e,t)}static credentialFromResult(e){const t=e;return Oi.credentialFromTaggedObject(t)}static credentialFromError(e){return Oi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{phoneNumber:n,temporaryProof:r}=t;return n&&r?Hr._fromTokenResponse(n,r):null}}function Pi(e,t){return t?or(t):(Rn(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}Oi.PROVIDER_ID="phone",Oi.PHONE_SIGN_IN_METHOD="phone";class Di extends Ur{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return zr(e,this._buildIdpRequest())}_linkToIdToken(e,t){return zr(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return zr(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function Li(e){return oi(e.auth,new Di(e),e.bypassAuthState)}function Mi(e){const{auth:t,user:n}=e;return Rn(n,t,"internal-error"),si(n,new Di(e),e.bypassAuthState)}async function Ui(e){const{auth:t,user:n}=e;return Rn(n,t,"internal-error"),ii(n,new Di(e),e.bypassAuthState)}class Fi{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];this.auth=e,this.resolver=n,this.user=r,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(n){this.reject(n)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:n,postBody:r,tenantId:i,error:s,type:o}=e;if(s)return void this.reject(s);const a={auth:this.auth,requestUri:t,sessionId:n,tenantId:i||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(o)(a))}catch(l){this.reject(l)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Li;case"linkViaPopup":case"linkViaRedirect":return Ui;case"reauthViaPopup":case"reauthViaRedirect":return Mi;default:In(this.auth,"internal-error")}}resolve(e){On(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){On(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Vi=new Un(2e3,1e4);class ji extends Fi{constructor(e,t,n,r,i){super(e,t,r,i),this.provider=n,this.authWindow=null,this.pollId=null,ji.currentPopupAction&&ji.currentPopupAction.cancel(),ji.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Rn(e,this.auth,"internal-error"),e}async onExecution(){On(1===this.filter.length,"Popup operations only handle one event");const e=mi();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(e=>{this.reject(e)}),this.resolver._isIframeWebStorageSupported(this.auth,e=>{e||this.reject(Cn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}cancel(){this.reject(Cn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ji.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,n;(null===(n=null===(t=this.authWindow)||void 0===t?void 0:t.window)||void 0===n?void 0:n.closed)?this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Cn(this.auth,"popup-closed-by-user"))},8e3):this.pollId=window.setTimeout(e,Vi.get())};e()}}ji.currentPopupAction=null;const zi=new Map;class Bi extends Fi{constructor(e,t){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,arguments.length>2&&void 0!==arguments[2]&&arguments[2]),this.eventId=null}async execute(){let e=zi.get(this.auth._key());if(!e){try{const t=await async function(e,t){const n=Ki(t),r=Hi(e);if(!await r._isAvailable())return!1;const i="true"===await r._get(n);return await r._remove(n),i}(this.resolver,this.auth),n=t?await super.execute():null;e=()=>Promise.resolve(n)}catch(t){e=()=>Promise.reject(t)}zi.set(this.auth._key(),e)}return this.bypassAuthState||zi.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if("signInViaRedirect"===e.type)return super.onAuthEvent(e);if("unknown"!==e.type){if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}else this.resolve(null)}async onExecution(){}cleanUp(){}}function qi(e,t){zi.set(e._key(),t)}function Hi(e){return or(e._redirectPersistence)}function Ki(e){return ur("pendingRedirect",e.config.apiKey,e.name)}async function Wi(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=Or(e),i=Pi(r,t),s=new Bi(r,i,n),o=await s.execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,t)),o}class Gi{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(n=>{this.isEventForConsumer(e,n)&&(t=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return $i(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var n;if(e.error&&!$i(e)){const r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(Cn(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Qi(e))}saveEventToCache(e){this.cachedEventUids.add(Qi(e)),this.lastProcessedEventTime=Date.now()}}function Qi(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter(e=>e).join("-")}function $i(e){let{type:t,error:n}=e;return"unknown"===t&&(null===n||void 0===n?void 0:n.code)==="auth/".concat("no-auth-event")}const Yi=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Xi=/^https?/;async function Ji(e){if(e.config.emulator)return;const{authorizedDomains:t}=await async function(e){return qn(e,"GET","/v1/projects",arguments.length>1&&void 0!==arguments[1]?arguments[1]:{})}(e);for(const r of t)try{if(Zi(r))return}catch(n){}In(e,"unauthorized-domain")}function Zi(e){const t=Pn(),{protocol:n,hostname:r}=new URL(t);if(e.startsWith("chrome-extension://")){const i=new URL(e);return""===i.hostname&&""===r?"chrome-extension:"===n&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===n&&i.hostname===r}if(!Xi.test(n))return!1;if(Yi.test(e))return r===e;const i=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const es=new Un(3e4,6e4);function ts(){const e=vi().___jsl;if(null===e||void 0===e?void 0:e.H)for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}let ns=null;function rs(e){return ns=ns||function(e){return new Promise((t,n)=>{var r,i,s;function o(){ts(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{ts(),n(Cn(e,"network-request-failed"))},timeout:es.get()})}if(null===(i=null===(r=vi().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)t(gapi.iframes.getContext());else{if(!(null===(s=vi().gapi)||void 0===s?void 0:s.load)){const t=Cr("iframefcb");return vi()[t]=()=>{gapi.load?o():n(Cn(e,"network-request-failed"))},Ir("https://apis.google.com/js/api.js?onload=".concat(t)).catch(e=>n(e))}o()}}).catch(e=>{throw ns=null,e})}(e),ns}const is=new Un(5e3,15e3),ss={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},os=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function as(e){const t=e.config;Rn(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?Fn(t,"emulator/auth/iframe"):"https://".concat(e.config.authDomain,"/").concat("__/auth/iframe"),r={apiKey:t.apiKey,appName:e.name,v:on},i=os.get(e.config.apiHost);i&&(r.eid=i);const s=e._getFrameworks();return s.length&&(r.fw=s.join(",")),"".concat(n,"?").concat(Fe(r).slice(1))}const ls={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class us{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(e){}}}function cs(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600;const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},ls),{width:r.toString(),height:i.toString(),top:s,left:o}),u=Re().toLowerCase();n&&(a=pr(u)?"_blank":n),dr(u)&&(t=t||"http://localhost",l.scrollbars="yes");const c=Object.entries(l).reduce((e,t)=>{let[n,r]=t;return"".concat(e).concat(n,"=").concat(r,",")},"");if(function(){var e;return wr(arguments.length>0&&void 0!==arguments[0]?arguments[0]:Re())&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}(u)&&"_self"!==a)return function(e,t){const n=document.createElement("a");n.href=e,n.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(t||"",a),new us(null);const h=window.open(t||"",a,c);Rn(h,e,"popup-blocked");try{h.focus()}catch(d){}return new us(h)}const hs="__/auth/handler",ds="emulator/auth/handler",fs=encodeURIComponent("fac");async function ps(e,t,n,r,i,s){Rn(e.config.authDomain,e,"auth-domain-config-required"),Rn(e.config.apiKey,e,"invalid-api-key");const o={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:on,eventId:i};if(t instanceof Gr){t.setDefaultLanguage(e.languageCode),o.providerId=t.providerId||"",function(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}(t.getCustomParameters())||(o.customParameters=JSON.stringify(t.getCustomParameters()));for(const[e,t]of Object.entries(s||{}))o[e]=t}if(t instanceof Qr){const e=t.getScopes().filter(e=>""!==e);e.length>0&&(o.scopes=e.join(","))}e.tenantId&&(o.tid=e.tenantId);const a=o;for(const c of Object.keys(a))void 0===a[c]&&delete a[c];const l=await e._getAppCheckToken(),u=l?"#".concat(fs,"=").concat(encodeURIComponent(l)):"";return"".concat(function(e){let{config:t}=e;if(!t.emulator)return"https://".concat(t.authDomain,"/").concat(hs);return Fn(t,ds)}(e),"?").concat(Fe(a).slice(1)).concat(u)}const gs="webStorageSupport";const ms=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=pi,this._completeRedirectFn=Wi,this._overrideRedirectResult=qi}async _openPopup(e,t,n,r){var i;On(null===(i=this.eventManagers[e._key()])||void 0===i?void 0:i.manager,"_initialize() not called before _openPopup()");return cs(e,await ps(e,t,n,Pn(),r),mi())}async _openRedirect(e,t,n,r){await this._originValidation(e);return function(e){vi().location.href=e}(await ps(e,t,n,Pn(),r)),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:e,promise:n}=this.eventManagers[t];return e?Promise.resolve(e):(On(n,"If manager is not set, promise should be"),n)}const n=this.initAndGetManager(e);return this.eventManagers[t]={promise:n},n.catch(()=>{delete this.eventManagers[t]}),n}async initAndGetManager(e){const t=await async function(e){const t=await rs(e),n=vi().gapi;return Rn(n,e,"internal-error"),t.open({where:document.body,url:as(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:ss,dontclear:!0},t=>new Promise(async(n,r)=>{await t.restyle({setHideOnLeave:!1});const i=Cn(e,"network-request-failed"),s=vi().setTimeout(()=>{r(i)},is.get());function o(){vi().clearTimeout(s),n(t)}t.ping(o).then(o,()=>{r(i)})}))}(e),n=new Gi(e);return t.register("authEvent",t=>{Rn(null===t||void 0===t?void 0:t.authEvent,e,"invalid-auth-event");return{status:n.onEvent(t.authEvent)?"ACK":"ERROR"}},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=t,n}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(gs,{type:gs},n=>{var r;const i=null===(r=null===n||void 0===n?void 0:n[0])||void 0===r?void 0:r[gs];void 0!==i&&t(!!i),In(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=Ji(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return Er()||fr()||wr()}};var ys="@firebase/auth",vs="0.23.2";class ws{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}async getToken(e){if(this.assertAuthConfigured(),await this.auth._initializationPromise,!this.auth.currentUser)return null;return{accessToken:await this.auth.currentUser.getIdToken(e)}}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(t=>{e((null===t||void 0===t?void 0:t.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Rn(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const bs=Ce("authIdTokenMaxAge")||300;let Es=null;var _s;_s="Browser",tn(new He("auth",(e,t)=>{let{options:n}=t;const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;Rn(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:_s,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:_r(_s)},u=new xr(r,i,s,l);return function(e,t){const n=(null===t||void 0===t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(or);(null===t||void 0===t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null===t||void 0===t?void 0:t.popupRedirectResolver)}(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,n)=>{e.getProvider("auth-internal").initialize()})),tn(new He("auth-internal",e=>(e=>new ws(e))(Or(e.getProvider("auth").getImmediate())),"PRIVATE").setInstantiationMode("EXPLICIT")),un(ys,vs,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(_s)),un(ys,vs,"esm2017");var ks,Ts="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},Ss={},Is=Is||{},Cs=Ts||self;function As(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function Ns(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var Rs="closure_uid_"+(1e9*Math.random()>>>0),xs=0;function Os(e,t,n){return e.call.apply(e.bind,arguments)}function Ps(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function Ds(e,t,n){return(Ds=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Os:Ps).apply(null,arguments)}function Ls(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function Ms(e,t){function n(){}n.prototype=t.prototype,e.$=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.ac=function(e,n,r){for(var i=Array(arguments.length-2),s=2;s<arguments.length;s++)i[s-2]=arguments[s];return t.prototype[n].apply(e,i)}}function Us(){this.s=this.s,this.o=this.o}Us.prototype.s=!1,Us.prototype.sa=function(){var e;!this.s&&(this.s=!0,this.N(),0)&&(e=this,Object.prototype.hasOwnProperty.call(e,Rs)&&e[Rs]||(e[Rs]=++xs))},Us.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const Fs=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"===typeof e)return"string"!==typeof t||1!=t.length?-1:e.indexOf(t,0);for(let n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1};function Vs(e){const t=e.length;if(0<t){const n=Array(t);for(let r=0;r<t;r++)n[r]=e[r];return n}return[]}function js(e,t){for(let n=1;n<arguments.length;n++){const t=arguments[n];if(As(t)){const n=e.length||0,r=t.length||0;e.length=n+r;for(let i=0;i<r;i++)e[n+i]=t[i]}else e.push(t)}}function zs(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}zs.prototype.h=function(){this.defaultPrevented=!0};var Bs=function(){if(!Cs.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{Cs.addEventListener("test",()=>{},t),Cs.removeEventListener("test",()=>{},t)}catch(n){}return e}();function qs(e){return/^[\s\xa0]*$/.test(e)}function Hs(){var e=Cs.navigator;return e&&(e=e.userAgent)?e:""}function Ks(e){return-1!=Hs().indexOf(e)}function Ws(e){return Ws[" "](e),e}Ws[" "]=function(){};var Gs,Qs,$s=Ks("Opera"),Ys=Ks("Trident")||Ks("MSIE"),Xs=Ks("Edge"),Js=Xs||Ys,Zs=Ks("Gecko")&&!(-1!=Hs().toLowerCase().indexOf("webkit")&&!Ks("Edge"))&&!(Ks("Trident")||Ks("MSIE"))&&!Ks("Edge"),eo=-1!=Hs().toLowerCase().indexOf("webkit")&&!Ks("Edge");function to(){var e=Cs.document;return e?e.documentMode:void 0}e:{var no="",ro=function(){var e=Hs();return Zs?/rv:([^\);]+)(\)|;)/.exec(e):Xs?/Edge\/([\d\.]+)/.exec(e):Ys?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):eo?/WebKit\/(\S+)/.exec(e):$s?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if(ro&&(no=ro?ro[1]:""),Ys){var io=to();if(null!=io&&io>parseFloat(no)){Gs=String(io);break e}}Gs=no}if(Cs.document&&Ys){var so=to();Qs=so||(parseInt(Gs,10)||void 0)}else Qs=void 0;var oo=Qs;function ao(e,t){if(zs.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(Zs){e:{try{Ws(t.nodeName);var i=!0;break e}catch(s){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:lo[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&ao.$.h.call(this)}}Ms(ao,zs);var lo={2:"touch",3:"pen",4:"mouse"};ao.prototype.h=function(){ao.$.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var uo="closure_listenable_"+(1e6*Math.random()|0),co=0;function ho(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.la=i,this.key=++co,this.fa=this.ia=!1}function fo(e){e.fa=!0,e.listener=null,e.proxy=null,e.src=null,e.la=null}function po(e,t,n){for(const r in e)t.call(n,e[r],r,e)}function go(e){const t={};for(const n in e)t[n]=e[n];return t}const mo="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function yo(e,t){let n,r;for(let i=1;i<arguments.length;i++){for(n in r=arguments[i],r)e[n]=r[n];for(let t=0;t<mo.length;t++)n=mo[t],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function vo(e){this.src=e,this.g={},this.h=0}function wo(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],s=Fs(i,t);(r=0<=s)&&Array.prototype.splice.call(i,s,1),r&&(fo(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function bo(e,t,n,r){for(var i=0;i<e.length;++i){var s=e[i];if(!s.fa&&s.listener==t&&s.capture==!!n&&s.la==r)return i}return-1}vo.prototype.add=function(e,t,n,r,i){var s=e.toString();(e=this.g[s])||(e=this.g[s]=[],this.h++);var o=bo(e,t,r,i);return-1<o?(t=e[o],n||(t.ia=!1)):((t=new ho(t,this.src,s,!!r,i)).ia=n,e.push(t)),t};var Eo="closure_lm_"+(1e6*Math.random()|0),_o={};function ko(e,t,n,r,i){if(r&&r.once)return So(e,t,n,r,i);if(Array.isArray(t)){for(var s=0;s<t.length;s++)ko(e,t[s],n,r,i);return null}return n=Oo(n),e&&e[uo]?e.O(t,n,Ns(r)?!!r.capture:!!r,i):To(e,t,n,!1,r,i)}function To(e,t,n,r,i,s){if(!t)throw Error("Invalid event type");var o=Ns(i)?!!i.capture:!!i,a=Ro(e);if(a||(e[Eo]=a=new vo(e)),(n=a.add(t,n,r,o,s)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}const t=No;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)Bs||(i=o),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(Ao(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function So(e,t,n,r,i){if(Array.isArray(t)){for(var s=0;s<t.length;s++)So(e,t[s],n,r,i);return null}return n=Oo(n),e&&e[uo]?e.P(t,n,Ns(r)?!!r.capture:!!r,i):To(e,t,n,!0,r,i)}function Io(e,t,n,r,i){if(Array.isArray(t))for(var s=0;s<t.length;s++)Io(e,t[s],n,r,i);else r=Ns(r)?!!r.capture:!!r,n=Oo(n),e&&e[uo]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=bo(s=e.g[t],n,r,i))&&(fo(s[n]),Array.prototype.splice.call(s,n,1),0==s.length&&(delete e.g[t],e.h--)))):e&&(e=Ro(e))&&(t=e.g[t.toString()],e=-1,t&&(e=bo(t,n,r,i)),(n=-1<e?t[e]:null)&&Co(n))}function Co(e){if("number"!==typeof e&&e&&!e.fa){var t=e.src;if(t&&t[uo])wo(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(Ao(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=Ro(t))?(wo(n,e),0==n.h&&(n.src=null,t[Eo]=null)):fo(e)}}}function Ao(e){return e in _o?_o[e]:_o[e]="on"+e}function No(e,t){if(e.fa)e=!0;else{t=new ao(t,this);var n=e.listener,r=e.la||e.src;e.ia&&Co(e),e=n.call(r,t)}return e}function Ro(e){return(e=e[Eo])instanceof vo?e:null}var xo="__closure_events_fn_"+(1e9*Math.random()>>>0);function Oo(e){return"function"===typeof e?e:(e[xo]||(e[xo]=function(t){return e.handleEvent(t)}),e[xo])}function Po(){Us.call(this),this.i=new vo(this),this.S=this,this.J=null}function Do(e,t){var n,r=e.J;if(r)for(n=[];r;r=r.J)n.push(r);if(e=e.S,r=t.type||t,"string"===typeof t)t=new zs(t,e);else if(t instanceof zs)t.target=t.target||e;else{var i=t;yo(t=new zs(r,e),i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=t.g=n[s];i=Lo(o,r,!0,t)&&i}if(i=Lo(o=t.g=e,r,!0,t)&&i,i=Lo(o,r,!1,t)&&i,n)for(s=0;s<n.length;s++)i=Lo(o=t.g=n[s],r,!1,t)&&i}function Lo(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,s=0;s<t.length;++s){var o=t[s];if(o&&!o.fa&&o.capture==n){var a=o.listener,l=o.la||o.src;o.ia&&wo(e.i,o),i=!1!==a.call(l,r)&&i}}return i&&!r.defaultPrevented}Ms(Po,Us),Po.prototype[uo]=!0,Po.prototype.removeEventListener=function(e,t,n,r){Io(this,e,t,n,r)},Po.prototype.N=function(){if(Po.$.N.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)fo(n[r]);delete t.g[e],t.h--}}this.J=null},Po.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},Po.prototype.P=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};var Mo=Cs.JSON.stringify;function Uo(){var e=Ho;let t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var Fo=new class{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new Vo,e=>e.reset());class Vo{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function jo(e){var t=1;e=e.split(":");const n=[];for(;0<t&&e.length;)n.push(e.shift()),t--;return e.length&&n.push(e.join(":")),n}function zo(e){Cs.setTimeout(()=>{throw e},0)}let Bo,qo=!1,Ho=new class{constructor(){this.h=this.g=null}add(e,t){const n=Fo.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}},Ko=()=>{const e=Cs.Promise.resolve(void 0);Bo=()=>{e.then(Wo)}};var Wo=()=>{for(var e;e=Uo();){try{e.h.call(e.g)}catch(n){zo(n)}var t=Fo;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}qo=!1};function Go(e,t){Po.call(this),this.h=e||1,this.g=t||Cs,this.j=Ds(this.qb,this),this.l=Date.now()}function Qo(e){e.ga=!1,e.T&&(e.g.clearTimeout(e.T),e.T=null)}function $o(e,t,n){if("function"===typeof e)n&&(e=Ds(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=Ds(e.handleEvent,e)}return 2147483647<Number(t)?-1:Cs.setTimeout(e,t||0)}function Yo(e){e.g=$o(()=>{e.g=null,e.i&&(e.i=!1,Yo(e))},e.j);const t=e.h;e.h=null,e.m.apply(null,t)}Ms(Go,Po),(ks=Go.prototype).ga=!1,ks.T=null,ks.qb=function(){if(this.ga){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-e):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Do(this,"tick"),this.ga&&(Qo(this),this.start()))}},ks.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},ks.N=function(){Go.$.N.call(this),Qo(this),delete this.g};class Xo extends Us{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:Yo(this)}N(){super.N(),this.g&&(Cs.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Jo(e){Us.call(this),this.h=e,this.g={}}Ms(Jo,Us);var Zo=[];function ea(e,t,n,r){Array.isArray(n)||(n&&(Zo[0]=n.toString()),n=Zo);for(var i=0;i<n.length;i++){var s=ko(t,n[i],r||e.handleEvent,!1,e.h||e);if(!s)break;e.g[s.key]=s}}function ta(e){po(e.g,function(e,t){this.g.hasOwnProperty(t)&&Co(e)},e),e.g={}}function na(){this.g=!0}function ra(e,t,n,r){e.info(function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var o=1;o<i.length;o++)i[o]=""}}}return Mo(n)}catch(a){return t}}(e,n)+(r?" "+r:"")})}Jo.prototype.N=function(){Jo.$.N.call(this),ta(this)},Jo.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},na.prototype.Ea=function(){this.g=!1},na.prototype.info=function(){};var ia={},sa=null;function oa(){return sa=sa||new Po}function aa(e){zs.call(this,ia.Ta,e)}function la(e){const t=oa();Do(t,new aa(t))}function ua(e,t){zs.call(this,ia.STAT_EVENT,e),this.stat=t}function ca(e){const t=oa();Do(t,new ua(t,e))}function ha(e,t){zs.call(this,ia.Ua,e),this.size=t}function da(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return Cs.setTimeout(function(){e()},t)}ia.Ta="serverreachability",Ms(aa,zs),ia.STAT_EVENT="statevent",Ms(ua,zs),ia.Ua="timingevent",Ms(ha,zs);var fa={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},pa={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function ga(){}function ma(e){return e.h||(e.h=e.i())}function ya(){}ga.prototype.h=null;var va,wa={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function ba(){zs.call(this,"d")}function Ea(){zs.call(this,"c")}function _a(){}function ka(e,t,n,r){this.l=e,this.j=t,this.m=n,this.W=r||1,this.U=new Jo(this),this.P=Sa,e=Js?125:void 0,this.V=new Go(e),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new Ta}function Ta(){this.i=null,this.g="",this.h=!1}Ms(ba,zs),Ms(Ea,zs),Ms(_a,ga),_a.prototype.g=function(){return new XMLHttpRequest},_a.prototype.i=function(){return{}},va=new _a;var Sa=45e3,Ia={},Ca={};function Aa(e,t,n){e.L=1,e.v=Ga(Ba(t)),e.s=n,e.S=!0,Na(e,null)}function Na(e,t){e.G=Date.now(),Pa(e),e.A=Ba(e.v);var n=e.A,r=e.W;Array.isArray(r)||(r=[String(r)]),ol(n.i,"t",r),e.C=0,n=e.l.J,e.h=new Ta,e.g=au(e.l,n?t:null,!e.s),0<e.O&&(e.M=new Xo(Ds(e.Pa,e,e.g),e.O)),ea(e.U,e.g,"readystatechange",e.nb),t=e.I?go(e.I):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ha(e.A,e.u,e.s,t)):(e.u="GET",e.g.ha(e.A,e.u,null,t)),la(),function(e,t,n,r,i,s){e.info(function(){if(e.g)if(s)for(var o="",a=s.split("&"),l=0;l<a.length;l++){var u=a[l].split("=");if(1<u.length){var c=u[0];u=u[1];var h=c.split("_");o=2<=h.length&&"type"==h[1]?o+(c+"=")+u+"&":o+(c+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+o})}(e.j,e.u,e.A,e.m,e.W,e.s)}function Ra(e){return!!e.g&&("GET"==e.u&&2!=e.L&&e.l.Ha)}function xa(e,t,n){let r,i=!0;for(;!e.J&&e.C<n.length;){if(r=Oa(e,n),r==Ca){4==t&&(e.o=4,ca(14),i=!1),ra(e.j,e.m,null,"[Incomplete Response]");break}if(r==Ia){e.o=4,ca(15),ra(e.j,e.m,n,"[Invalid Chunk]"),i=!1;break}ra(e.j,e.m,r,null),Fa(e,r)}Ra(e)&&r!=Ca&&r!=Ia&&(e.h.g="",e.C=0),4!=t||0!=n.length||e.h.h||(e.o=1,ca(16),i=!1),e.i=e.i&&i,i?0<n.length&&!e.ba&&(e.ba=!0,(t=e.l).g==e&&t.ca&&!t.M&&(t.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),Zl(t),t.M=!0,ca(11))):(ra(e.j,e.m,n,"[Invalid Chunked Response]"),Ua(e),Ma(e))}function Oa(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?Ca:(n=Number(t.substring(n,r)),isNaN(n)?Ia:(r+=1)+n>t.length?Ca:(t=t.slice(r,r+n),e.C=r+n,t))}function Pa(e){e.Y=Date.now()+e.P,Da(e,e.P)}function Da(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=da(Ds(e.lb,e),t)}function La(e){e.B&&(Cs.clearTimeout(e.B),e.B=null)}function Ma(e){0==e.l.H||e.J||nu(e.l,e)}function Ua(e){La(e);var t=e.M;t&&"function"==typeof t.sa&&t.sa(),e.M=null,Qo(e.V),ta(e.U),e.g&&(t=e.g,e.g=null,t.abort(),t.sa())}function Fa(e,t){try{var n=e.l;if(0!=n.H&&(n.g==e||fl(n.i,e)))if(!e.K&&fl(n.i,e)&&3==n.H){try{var r=n.Ja.g.parse(t)}catch(u){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.G+3e3<e.G))break e;tu(n),Kl(n)}Jl(n),ca(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&0==n.A&&!n.v&&(n.v=da(Ds(n.ib,n),6e3));if(1>=dl(n.i)&&n.oa){try{n.oa()}catch(u){}n.oa=void 0}}else iu(n,11)}else if((e.K||n.g==e)&&tu(n),!qs(t))for(i=n.Ja.g.parse(t),t=0;t<i.length;t++){let u=i[t];if(n.V=u[0],u=u[1],2==n.H)if("c"==u[0]){n.K=u[1],n.pa=u[2];const t=u[3];null!=t&&(n.ra=t,n.l.info("VER="+n.ra));const i=u[4];null!=i&&(n.Ga=i,n.l.info("SVER="+n.Ga));const c=u[5];null!=c&&"number"===typeof c&&0<c&&(r=1.5*c,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;const h=e.g;if(h){const e=h.g?h.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(e){var s=r.i;s.g||-1==e.indexOf("spdy")&&-1==e.indexOf("quic")&&-1==e.indexOf("h2")||(s.j=s.l,s.g=new Set,s.h&&(pl(s,s.h),s.h=null))}if(r.F){const e=h.g?h.g.getResponseHeader("X-HTTP-Session-Id"):null;e&&(r.Da=e,Wa(r.I,r.F,e))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-e.G,n.l.info("Handshake RTT: "+n.S+"ms"));var o=e;if((r=n).wa=ou(r,r.J?r.pa:null,r.Y),o.K){gl(r.i,o);var a=o,l=r.L;l&&a.setTimeout(l),a.B&&(La(a),Pa(a)),r.g=o}else Xl(r);0<n.j.length&&Gl(n)}else"stop"!=u[0]&&"close"!=u[0]||iu(n,7);else 3==n.H&&("stop"==u[0]||"close"==u[0]?"stop"==u[0]?iu(n,7):Hl(n):"noop"!=u[0]&&n.h&&n.h.Aa(u),n.A=0)}la()}catch(u){}}function Va(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(As(e)||"string"===typeof e)Array.prototype.forEach.call(e,t,void 0);else for(var n=function(e){if(e.ta&&"function"==typeof e.ta)return e.ta();if(!e.Z||"function"!=typeof e.Z){if("undefined"!==typeof Map&&e instanceof Map)return Array.from(e.keys());if(!("undefined"!==typeof Set&&e instanceof Set)){if(As(e)||"string"===typeof e){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}t=[],n=0;for(const r in e)t[n++]=r;return t}}}(e),r=function(e){if(e.Z&&"function"==typeof e.Z)return e.Z();if("undefined"!==typeof Map&&e instanceof Map||"undefined"!==typeof Set&&e instanceof Set)return Array.from(e.values());if("string"===typeof e)return e.split("");if(As(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length,s=0;s<i;s++)t.call(void 0,r[s],n&&n[s],e)}(ks=ka.prototype).setTimeout=function(e){this.P=e},ks.nb=function(e){e=e.target;const t=this.M;t&&3==Fl(e)?t.l():this.Pa(e)},ks.Pa=function(e){try{if(e==this.g)e:{const c=Fl(this.g);var t=this.g.Ia();this.g.da();if(!(3>c)&&(3!=c||Js||this.g&&(this.h.h||this.g.ja()||Vl(this.g)))){this.J||4!=c||7==t||la(),La(this);var n=this.g.da();this.ca=n;t:if(Ra(this)){var r=Vl(this.g);e="";var i=r.length,s=4==Fl(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){Ua(this),Ma(this);var o="";break t}this.h.i=new Cs.TextDecoder}for(t=0;t<i;t++)this.h.h=!0,e+=this.h.i.decode(r[t],{stream:s&&t==i-1});r.splice(0,i),this.h.g+=e,this.C=0,o=this.h.g}else o=this.g.ja();if(this.i=200==n,function(e,t,n,r,i,s,o){e.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+s+" "+o})}(this.j,this.u,this.A,this.m,this.W,c,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,l=this.g;if((a=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!qs(a)){var u=a;break t}}u=null}if(!(n=u)){this.i=!1,this.o=3,ca(12),Ua(this),Ma(this);break e}ra(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Fa(this,n)}this.S?(xa(this,c,o),Js&&this.i&&3==c&&(ea(this.U,this.V,"tick",this.mb),this.V.start())):(ra(this.j,this.m,o,null),Fa(this,o)),4==c&&Ua(this),this.i&&!this.J&&(4==c?nu(this.l,this):(this.i=!1,Pa(this)))}else(function(e){const t={};e=(e.g&&2<=Fl(e)&&e.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<e.length;r++){if(qs(e[r]))continue;var n=jo(e[r]);const i=n[0];if("string"!==typeof(n=n[1]))continue;n=n.trim();const s=t[i]||[];t[i]=s,s.push(n)}!function(e,t){for(const n in e)t.call(void 0,e[n],n,e)}(t,function(e){return e.join(", ")})})(this.g),400==n&&0<o.indexOf("Unknown SID")?(this.o=3,ca(12)):(this.o=0,ca(13)),Ua(this),Ma(this)}}}catch(c){}},ks.mb=function(){if(this.g){var e=Fl(this.g),t=this.g.ja();this.C<t.length&&(La(this),xa(this,e,t),this.i&&4!=e&&Pa(this))}},ks.cancel=function(){this.J=!0,Ua(this)},ks.lb=function(){this.B=null;const e=Date.now();0<=e-this.Y?(function(e,t){e.info(function(){return"TIMEOUT: "+t})}(this.j,this.A),2!=this.L&&(la(),ca(17)),Ua(this),this.o=2,Ma(this)):Da(this,this.Y-e)};var ja=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function za(e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,e instanceof za){this.h=e.h,qa(this,e.j),this.s=e.s,this.g=e.g,Ha(this,e.m),this.l=e.l;var t=e.i,n=new nl;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),Ka(this,n),this.o=e.o}else e&&(t=String(e).match(ja))?(this.h=!1,qa(this,t[1]||"",!0),this.s=Qa(t[2]||""),this.g=Qa(t[3]||"",!0),Ha(this,t[4]),this.l=Qa(t[5]||"",!0),Ka(this,t[6]||"",!0),this.o=Qa(t[7]||"")):(this.h=!1,this.i=new nl(null,this.h))}function Ba(e){return new za(e)}function qa(e,t,n){e.j=n?Qa(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function Ha(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function Ka(e,t,n){t instanceof nl?(e.i=t,function(e,t){t&&!e.j&&(rl(e),e.i=null,e.g.forEach(function(e,t){var n=t.toLowerCase();t!=n&&(il(this,t),ol(this,n,e))},e)),e.j=t}(e.i,e.h)):(n||(t=$a(t,el)),e.i=new nl(t,e.h))}function Wa(e,t,n){e.i.set(t,n)}function Ga(e){return Wa(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function Qa(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function $a(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,Ya),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function Ya(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}za.prototype.toString=function(){var e=[],t=this.j;t&&e.push($a(t,Xa,!0),":");var n=this.g;return(n||"file"==t)&&(e.push("//"),(t=this.s)&&e.push($a(t,Xa,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&e.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&e.push("/"),e.push($a(n,"/"==n.charAt(0)?Za:Ja,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.o)&&e.push("#",$a(n,tl)),e.join("")};var Xa=/[#\/\?@]/g,Ja=/[#\?:]/g,Za=/[#\?]/g,el=/[#\?@]/g,tl=/#/g;function nl(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function rl(e){e.g||(e.g=new Map,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var s=e[n].substring(0,r);i=e[n].substring(r+1)}else s=e[n];t(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)}))}function il(e,t){rl(e),t=al(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function sl(e,t){return rl(e),t=al(e,t),e.g.has(t)}function ol(e,t,n){il(e,t),0<n.length&&(e.i=null,e.g.set(al(e,t),Vs(n)),e.h+=n.length)}function al(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}(ks=nl.prototype).add=function(e,t){rl(this),this.i=null,e=al(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},ks.forEach=function(e,t){rl(this),this.g.forEach(function(n,r){n.forEach(function(n){e.call(t,n,r,this)},this)},this)},ks.ta=function(){rl(this);const e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[];for(let r=0;r<t.length;r++){const i=e[r];for(let e=0;e<i.length;e++)n.push(t[r])}return n},ks.Z=function(e){rl(this);let t=[];if("string"===typeof e)sl(this,e)&&(t=t.concat(this.g.get(al(this,e))));else{e=Array.from(this.g.values());for(let n=0;n<e.length;n++)t=t.concat(e[n])}return t},ks.set=function(e,t){return rl(this),this.i=null,sl(this,e=al(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},ks.get=function(e,t){return e&&0<(e=this.Z(e)).length?String(e[0]):t},ks.toString=function(){if(this.i)return this.i;if(!this.g)return"";const e=[],t=Array.from(this.g.keys());for(var n=0;n<t.length;n++){var r=t[n];const s=encodeURIComponent(String(r)),o=this.Z(r);for(r=0;r<o.length;r++){var i=s;""!==o[r]&&(i+="="+encodeURIComponent(String(o[r]))),e.push(i)}}return this.i=e.join("&")};var ll=class{constructor(e,t){this.g=e,this.map=t}};function ul(e){this.l=e||cl,Cs.PerformanceNavigationTiming?e=0<(e=Cs.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(Cs.g&&Cs.g.Ka&&Cs.g.Ka()&&Cs.g.Ka().ec),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var cl=10;function hl(e){return!!e.h||!!e.g&&e.g.size>=e.j}function dl(e){return e.h?1:e.g?e.g.size:0}function fl(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function pl(e,t){e.g?e.g.add(t):e.h=t}function gl(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function ml(e){if(null!=e.h)return e.i.concat(e.h.F);if(null!=e.g&&0!==e.g.size){let t=e.i;for(const n of e.g.values())t=t.concat(n.F);return t}return Vs(e.i)}ul.prototype.cancel=function(){if(this.i=ml(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const e of this.g.values())e.cancel();this.g.clear()}};var yl,vl=class{stringify(e){return Cs.JSON.stringify(e,void 0)}parse(e){return Cs.JSON.parse(e,void 0)}};function wl(){this.g=new vl}function bl(e,t,n){const r=n||"";try{Va(e,function(e,n){let i=e;Ns(e)&&(i=Mo(e)),t.push(r+n+"="+encodeURIComponent(i))})}catch(i){throw t.push(r+"type="+encodeURIComponent("_badmap")),i}}function El(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(s){}}function _l(e){this.l=e.fc||null,this.j=e.ob||!1}function kl(e,t){Po.call(this),this.F=e,this.u=t,this.m=void 0,this.readyState=Tl,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Ms(_l,ga),_l.prototype.g=function(){return new kl(this.l,this.j)},_l.prototype.i=(yl={},function(){return yl}),Ms(kl,Po);var Tl=0;function Sl(e){e.j.read().then(e.Xa.bind(e)).catch(e.ka.bind(e))}function Il(e){e.readyState=4,e.l=null,e.j=null,e.A=null,Cl(e)}function Cl(e){e.onreadystatechange&&e.onreadystatechange.call(e)}(ks=kl.prototype).open=function(e,t){if(this.readyState!=Tl)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,Cl(this)},ks.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.F||Cs).fetch(new Request(this.B,t)).then(this.$a.bind(this),this.ka.bind(this))},ks.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Il(this)),this.readyState=Tl},ks.$a=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,Cl(this)),this.g&&(this.readyState=3,Cl(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if("undefined"!==typeof Cs.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Sl(this)}else e.text().then(this.Za.bind(this),this.ka.bind(this))},ks.Xa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?Il(this):Cl(this),3==this.readyState&&Sl(this)}},ks.Za=function(e){this.g&&(this.response=this.responseText=e,Il(this))},ks.Ya=function(e){this.g&&(this.response=e,Il(this))},ks.ka=function(){this.g&&Il(this)},ks.setRequestHeader=function(e,t){this.v.append(e,t)},ks.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},ks.getAllResponseHeaders=function(){if(!this.h)return"";const e=[],t=this.h.entries();for(var n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(kl.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var Al=Cs.JSON.parse;function Nl(e){Po.call(this),this.headers=new Map,this.u=e||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=Rl,this.L=this.M=!1}Ms(Nl,Po);var Rl="",xl=/^https?$/i,Ol=["POST","PUT"];function Pl(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,Dl(e),Ml(e)}function Dl(e){e.F||(e.F=!0,Do(e,"complete"),Do(e,"error"))}function Ll(e){if(e.h&&"undefined"!=typeof Is&&(!e.C[1]||4!=Fl(e)||2!=e.da()))if(e.v&&4==Fl(e))$o(e.La,0,e);else if(Do(e,"readystatechange"),4==Fl(e)){e.h=!1;try{const a=e.da();e:switch(a){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var n;if(!(n=t)){var r;if(r=0===a){var i=String(e.I).match(ja)[1]||null;!i&&Cs.self&&Cs.self.location&&(i=Cs.self.location.protocol.slice(0,-1)),r=!xl.test(i?i.toLowerCase():"")}n=r}if(n)Do(e,"complete"),Do(e,"success");else{e.m=6;try{var s=2<Fl(e)?e.g.statusText:""}catch(o){s=""}e.j=s+" ["+e.da()+"]",Dl(e)}}finally{Ml(e)}}}function Ml(e,t){if(e.g){Ul(e);const r=e.g,i=e.C[0]?()=>{}:null;e.g=null,e.C=null,t||Do(e,"ready");try{r.onreadystatechange=i}catch(n){}}}function Ul(e){e.g&&e.L&&(e.g.ontimeout=null),e.A&&(Cs.clearTimeout(e.A),e.A=null)}function Fl(e){return e.g?e.g.readyState:0}function Vl(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.K){case Rl:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(Hu){return null}}function jl(e){let t="";return po(e,function(e,n){t+=n,t+=":",t+=e,t+="\r\n"}),t}function zl(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=jl(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):Wa(e,t,n))}function Bl(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function ql(e){this.Ga=0,this.j=[],this.l=new na,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Bl("failFast",!1,e),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Bl("baseRetryDelayMs",5e3,e),this.hb=Bl("retryDelaySeedMs",1e4,e),this.eb=Bl("forwardChannelMaxRetries",2,e),this.xa=Bl("forwardChannelRequestTimeoutMs",2e4,e),this.va=e&&e.xmlHttpFactory||void 0,this.Ha=e&&e.dc||!1,this.L=void 0,this.J=e&&e.supportsCrossDomainXhr||!1,this.K="",this.i=new ul(e&&e.concurrentRequestLimit),this.Ja=new wl,this.P=e&&e.fastHandshake||!1,this.O=e&&e.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=e&&e.bc||!1,e&&e.Ea&&this.l.Ea(),e&&e.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&e&&e.detectBufferingProxy||!1,this.qa=void 0,e&&e.longPollingTimeout&&0<e.longPollingTimeout&&(this.qa=e.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function Hl(e){if(Wl(e),3==e.H){var t=e.W++,n=Ba(e.I);if(Wa(n,"SID",e.K),Wa(n,"RID",t),Wa(n,"TYPE","terminate"),$l(e,n),(t=new ka(e,e.l,t)).L=2,t.v=Ga(Ba(n)),n=!1,Cs.navigator&&Cs.navigator.sendBeacon)try{n=Cs.navigator.sendBeacon(t.v.toString(),"")}catch(r){}!n&&Cs.Image&&((new Image).src=t.v,n=!0),n||(t.g=au(t.l,null),t.g.ha(t.v)),t.G=Date.now(),Pa(t)}su(e)}function Kl(e){e.g&&(Zl(e),e.g.cancel(),e.g=null)}function Wl(e){Kl(e),e.u&&(Cs.clearTimeout(e.u),e.u=null),tu(e),e.i.cancel(),e.m&&("number"===typeof e.m&&Cs.clearTimeout(e.m),e.m=null)}function Gl(e){if(!hl(e.i)&&!e.m){e.m=!0;var t=e.Na;Bo||Ko(),qo||(Bo(),qo=!0),Ho.add(t,e),e.C=0}}function Ql(e,t){var n;n=t?t.m:e.W++;const r=Ba(e.I);Wa(r,"SID",e.K),Wa(r,"RID",n),Wa(r,"AID",e.V),$l(e,r),e.o&&e.s&&zl(r,e.o,e.s),n=new ka(e,e.l,n,e.C+1),null===e.o&&(n.I=e.s),t&&(e.j=t.F.concat(e.j)),t=Yl(e,n,1e3),n.setTimeout(Math.round(.5*e.xa)+Math.round(.5*e.xa*Math.random())),pl(e.i,n),Aa(n,r,t)}function $l(e,t){e.na&&po(e.na,function(e,n){Wa(t,n,e)}),e.h&&Va({},function(e,n){Wa(t,n,e)})}function Yl(e,t,n){n=Math.min(e.j.length,n);var r=e.h?Ds(e.h.Va,e.h,e):null;e:{var i=e.j;let t=-1;for(;;){const e=["count="+n];-1==t?0<n?(t=i[0].g,e.push("ofs="+t)):t=0:e.push("ofs="+t);let s=!0;for(let o=0;o<n;o++){let n=i[o].g;const a=i[o].map;if(n-=t,0>n)t=Math.max(0,i[o].g-100),s=!1;else try{bl(a,e,"req"+n+"_")}catch(tc){r&&r(a)}}if(s){r=e.join("&");break e}}}return e=e.j.splice(0,n),t.F=e,r}function Xl(e){if(!e.g&&!e.u){e.ba=1;var t=e.Ma;Bo||Ko(),qo||(Bo(),qo=!0),Ho.add(t,e),e.A=0}}function Jl(e){return!(e.g||e.u||3<=e.A)&&(e.ba++,e.u=da(Ds(e.Ma,e),ru(e,e.A)),e.A++,!0)}function Zl(e){null!=e.B&&(Cs.clearTimeout(e.B),e.B=null)}function eu(e){e.g=new ka(e,e.l,"rpc",e.ba),null===e.o&&(e.g.I=e.s),e.g.O=0;var t=Ba(e.wa);Wa(t,"RID","rpc"),Wa(t,"SID",e.K),Wa(t,"AID",e.V),Wa(t,"CI",e.G?"0":"1"),!e.G&&e.qa&&Wa(t,"TO",e.qa),Wa(t,"TYPE","xmlhttp"),$l(e,t),e.o&&e.s&&zl(t,e.o,e.s),e.L&&e.g.setTimeout(e.L);var n=e.g;e=e.pa,n.L=1,n.v=Ga(Ba(t)),n.s=null,n.S=!0,Na(n,e)}function tu(e){null!=e.v&&(Cs.clearTimeout(e.v),e.v=null)}function nu(e,t){var n=null;if(e.g==t){tu(e),Zl(e),e.g=null;var r=2}else{if(!fl(e.i,t))return;n=t.F,gl(e.i,t),r=1}if(0!=e.H)if(t.i)if(1==r){n=t.s?t.s.length:0,t=Date.now()-t.G;var i=e.C;Do(r=oa(),new ha(r,n)),Gl(e)}else Xl(e);else if(3==(i=t.o)||0==i&&0<t.ca||!(1==r&&function(e,t){return!(dl(e.i)>=e.i.j-(e.m?1:0))&&(e.m?(e.j=t.F.concat(e.j),!0):!(1==e.H||2==e.H||e.C>=(e.cb?0:e.eb))&&(e.m=da(Ds(e.Na,e,t),ru(e,e.C)),e.C++,!0))}(e,t)||2==r&&Jl(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),i){case 1:iu(e,5);break;case 4:iu(e,10);break;case 3:iu(e,6);break;default:iu(e,2)}}function ru(e,t){let n=e.ab+Math.floor(Math.random()*e.hb);return e.isActive()||(n*=2),n*t}function iu(e,t){if(e.l.info("Error code "+t),2==t){var n=null;e.h&&(n=null);var r=Ds(e.pb,e);n||(n=new za("//www.google.com/images/cleardot.gif"),Cs.location&&"http"==Cs.location.protocol||qa(n,"https"),Ga(n)),function(e,t){const n=new na;if(Cs.Image){const r=new Image;r.onload=Ls(El,n,r,"TestLoadImage: loaded",!0,t),r.onerror=Ls(El,n,r,"TestLoadImage: error",!1,t),r.onabort=Ls(El,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=Ls(El,n,r,"TestLoadImage: timeout",!1,t),Cs.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=e}else t(!1)}(n.toString(),r)}else ca(2);e.H=0,e.h&&e.h.za(t),su(e),Wl(e)}function su(e){if(e.H=0,e.ma=[],e.h){const t=ml(e.i);0==t.length&&0==e.j.length||(js(e.ma,t),js(e.ma,e.j),e.i.i.length=0,Vs(e.j),e.j.length=0),e.h.ya()}}function ou(e,t,n){var r=n instanceof za?Ba(n):new za(n);if(""!=r.g)t&&(r.g=t+"."+r.g),Ha(r,r.m);else{var i=Cs.location;r=i.protocol,t=t?t+"."+i.hostname:i.hostname,i=+i.port;var s=new za(null);r&&qa(s,r),t&&(s.g=t),i&&Ha(s,i),n&&(s.l=n),r=s}return n=e.F,t=e.Da,n&&t&&Wa(r,n,t),Wa(r,"VER",e.ra),$l(e,r),r}function au(e,t,n){if(t&&!e.J)throw Error("Can't create secondary domain capable XhrIo object.");return(t=n&&e.Ha&&!e.va?new Nl(new _l({ob:!0})):new Nl(e.va)).Oa(e.J),t}function lu(){}function uu(){if(Ys&&!(10<=Number(oo)))throw Error("Environmental error: no available transport.")}function cu(e,t){Po.call(this),this.g=new ql(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.Ca&&(e?e["X-WebChannel-Client-Profile"]=t.Ca:e={"X-WebChannel-Client-Profile":t.Ca}),this.g.U=e,(e=t&&t.cc)&&!qs(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!qs(t)&&(this.g.F=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new fu(this)}function hu(e){ba.call(this),e.__headers__&&(this.headers=e.__headers__,this.statusCode=e.__status__,delete e.__headers__,delete e.__status__);var t=e.__sm__;if(t){e:{for(const n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function du(){Ea.call(this),this.status=1}function fu(e){this.g=e}function pu(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function gu(e,t,n){n||(n=0);var r=Array(16);if("string"===typeof t)for(var i=0;16>i;++i)r[i]=t.charCodeAt(n++)|t.charCodeAt(n++)<<8|t.charCodeAt(n++)<<16|t.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=t[n++]|t[n++]<<8|t[n++]<<16|t[n++]<<24;t=e.g[0],n=e.g[1],i=e.g[2];var s=e.g[3],o=t+(s^n&(i^s))+r[0]+3614090360&4294967295;o=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=n+(o<<7&4294967295|o>>>25))+((o=s+(i^t&(n^i))+r[1]+3905402710&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(t^n))+r[2]+606105819&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(s^t))+r[3]+3250441966&4294967295)<<22&4294967295|o>>>10))+((o=t+(s^n&(i^s))+r[4]+4118548399&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^t&(n^i))+r[5]+1200080426&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(t^n))+r[6]+2821735955&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(s^t))+r[7]+4249261313&4294967295)<<22&4294967295|o>>>10))+((o=t+(s^n&(i^s))+r[8]+1770035416&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^t&(n^i))+r[9]+2336552879&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(t^n))+r[10]+4294925233&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(s^t))+r[11]+2304563134&4294967295)<<22&4294967295|o>>>10))+((o=t+(s^n&(i^s))+r[12]+1804603682&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^t&(n^i))+r[13]+4254626195&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(t^n))+r[14]+2792965006&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(s^t))+r[15]+1236535329&4294967295)<<22&4294967295|o>>>10))+((o=t+(i^s&(n^i))+r[1]+4129170786&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(t^n))+r[6]+3225465664&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(s^t))+r[11]+643717713&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^t&(i^s))+r[0]+3921069994&4294967295)<<20&4294967295|o>>>12))+((o=t+(i^s&(n^i))+r[5]+3593408605&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(t^n))+r[10]+38016083&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(s^t))+r[15]+3634488961&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^t&(i^s))+r[4]+3889429448&4294967295)<<20&4294967295|o>>>12))+((o=t+(i^s&(n^i))+r[9]+568446438&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(t^n))+r[14]+3275163606&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(s^t))+r[3]+4107603335&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^t&(i^s))+r[8]+1163531501&4294967295)<<20&4294967295|o>>>12))+((o=t+(i^s&(n^i))+r[13]+2850285829&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(t^n))+r[2]+4243563512&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(s^t))+r[7]+1735328473&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^t&(i^s))+r[12]+2368359562&4294967295)<<20&4294967295|o>>>12))+((o=t+(n^i^s)+r[5]+4294588738&4294967295)<<4&4294967295|o>>>28))+((o=s+(t^n^i)+r[8]+2272392833&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^t^n)+r[11]+1839030562&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^t)+r[14]+4259657740&4294967295)<<23&4294967295|o>>>9))+((o=t+(n^i^s)+r[1]+2763975236&4294967295)<<4&4294967295|o>>>28))+((o=s+(t^n^i)+r[4]+1272893353&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^t^n)+r[7]+4139469664&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^t)+r[10]+3200236656&4294967295)<<23&4294967295|o>>>9))+((o=t+(n^i^s)+r[13]+681279174&4294967295)<<4&4294967295|o>>>28))+((o=s+(t^n^i)+r[0]+3936430074&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^t^n)+r[3]+3572445317&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^t)+r[6]+76029189&4294967295)<<23&4294967295|o>>>9))+((o=t+(n^i^s)+r[9]+3654602809&4294967295)<<4&4294967295|o>>>28))+((o=s+(t^n^i)+r[12]+3873151461&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^t^n)+r[15]+530742520&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^t)+r[2]+3299628645&4294967295)<<23&4294967295|o>>>9))+((o=t+(i^(n|~s))+r[0]+4096336452&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(t|~i))+r[7]+1126891415&4294967295)<<10&4294967295|o>>>22))+((o=i+(t^(s|~n))+r[14]+2878612391&4294967295)<<15&4294967295|o>>>17))+((o=n+(s^(i|~t))+r[5]+4237533241&4294967295)<<21&4294967295|o>>>11))+((o=t+(i^(n|~s))+r[12]+1700485571&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(t|~i))+r[3]+2399980690&4294967295)<<10&4294967295|o>>>22))+((o=i+(t^(s|~n))+r[10]+4293915773&4294967295)<<15&4294967295|o>>>17))+((o=n+(s^(i|~t))+r[1]+2240044497&4294967295)<<21&4294967295|o>>>11))+((o=t+(i^(n|~s))+r[8]+1873313359&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(t|~i))+r[15]+4264355552&4294967295)<<10&4294967295|o>>>22))+((o=i+(t^(s|~n))+r[6]+2734768916&4294967295)<<15&4294967295|o>>>17))+((o=n+(s^(i|~t))+r[13]+1309151649&4294967295)<<21&4294967295|o>>>11))+((s=(t=n+((o=t+(i^(n|~s))+r[4]+4149444226&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(t|~i))+r[11]+3174756917&4294967295)<<10&4294967295|o>>>22))^((i=s+((o=i+(t^(s|~n))+r[2]+718787259&4294967295)<<15&4294967295|o>>>17))|~t))+r[9]+3951481745&4294967295,e.g[0]=e.g[0]+t&4294967295,e.g[1]=e.g[1]+(i+(o<<21&4294967295|o>>>11))&4294967295,e.g[2]=e.g[2]+i&4294967295,e.g[3]=e.g[3]+s&4294967295}function mu(e,t){this.h=t;for(var n=[],r=!0,i=e.length-1;0<=i;i--){var s=0|e[i];r&&s==t||(n[i]=s,r=!1)}this.g=n}(ks=Nl.prototype).Oa=function(e){this.M=e},ks.ha=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+e);t=t?t.toUpperCase():"GET",this.I=e,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():va.g(),this.C=this.u?ma(this.u):ma(va),this.g.onreadystatechange=Ds(this.La,this);try{this.G=!0,this.g.open(t,String(e),!0),this.G=!1}catch(s){return void Pl(this,s)}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else{if("function"!==typeof r.keys||"function"!==typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const e of r.keys())n.set(e,r.get(e))}r=Array.from(n.keys()).find(e=>"content-type"==e.toLowerCase()),i=Cs.FormData&&e instanceof Cs.FormData,!(0<=Fs(Ol,t))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[o,a]of n)this.g.setRequestHeader(o,a);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{Ul(this),0<this.B&&((this.L=function(e){return Ys&&"number"===typeof e.timeout&&void 0!==e.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Ds(this.ua,this)):this.A=$o(this.ua,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(s){Pl(this,s)}},ks.ua=function(){"undefined"!=typeof Is&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Do(this,"timeout"),this.abort(8))},ks.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,Do(this,"complete"),Do(this,"abort"),Ml(this))},ks.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Ml(this,!0)),Nl.$.N.call(this)},ks.La=function(){this.s||(this.G||this.v||this.l?Ll(this):this.kb())},ks.kb=function(){Ll(this)},ks.isActive=function(){return!!this.g},ks.da=function(){try{return 2<Fl(this)?this.g.status:-1}catch(yl){return-1}},ks.ja=function(){try{return this.g?this.g.responseText:""}catch(yl){return""}},ks.Wa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),Al(t)}},ks.Ia=function(){return this.m},ks.Sa=function(){return"string"===typeof this.j?this.j:String(this.j)},(ks=ql.prototype).ra=8,ks.H=1,ks.Na=function(e){if(this.m)if(this.m=null,1==this.H){if(!e){this.W=Math.floor(1e5*Math.random()),e=this.W++;const i=new ka(this,this.l,e);let s=this.s;if(this.U&&(s?(s=go(s),yo(s,this.U)):s=this.U),null!==this.o||this.O||(i.I=s,s=null),this.P)e:{for(var t=0,n=0;n<this.j.length;n++){var r=this.j[n];if(void 0===(r="__data__"in r.map&&"string"===typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(t+=r)){t=n;break e}if(4096===t||n===this.j.length-1){t=n+1;break e}}t=1e3}else t=1e3;t=Yl(this,i,t),Wa(n=Ba(this.I),"RID",e),Wa(n,"CVER",22),this.F&&Wa(n,"X-HTTP-Session-Id",this.F),$l(this,n),s&&(this.O?t="headers="+encodeURIComponent(String(jl(s)))+"&"+t:this.o&&zl(n,this.o,s)),pl(this.i,i),this.bb&&Wa(n,"TYPE","init"),this.P?(Wa(n,"$req",t),Wa(n,"SID","null"),i.aa=!0,Aa(i,n,null)):Aa(i,n,t),this.H=2}}else 3==this.H&&(e?Ql(this,e):0==this.j.length||hl(this.i)||Ql(this))},ks.Ma=function(){if(this.u=null,eu(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var e=2*this.S;this.l.info("BP detection timer enabled: "+e),this.B=da(Ds(this.jb,this),e)}},ks.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,ca(10),Kl(this),eu(this))},ks.ib=function(){null!=this.v&&(this.v=null,Kl(this),Jl(this),ca(19))},ks.pb=function(e){e?(this.l.info("Successfully pinged google.com"),ca(2)):(this.l.info("Failed to ping google.com"),ca(1))},ks.isActive=function(){return!!this.h&&this.h.isActive(this)},(ks=lu.prototype).Ba=function(){},ks.Aa=function(){},ks.za=function(){},ks.ya=function(){},ks.isActive=function(){return!0},ks.Va=function(){},uu.prototype.g=function(e,t){return new cu(e,t)},Ms(cu,Po),cu.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var e=this.g,t=this.l,n=this.h||void 0;ca(0),e.Y=t,e.na=n||{},e.G=e.aa,e.I=ou(e,null,e.Y),Gl(e)},cu.prototype.close=function(){Hl(this.g)},cu.prototype.u=function(e){var t=this.g;if("string"===typeof e){var n={};n.__data__=e,e=n}else this.v&&((n={}).__data__=Mo(e),e=n);t.j.push(new ll(t.fb++,e)),3==t.H&&Gl(t)},cu.prototype.N=function(){this.g.h=null,delete this.j,Hl(this.g),delete this.g,cu.$.N.call(this)},Ms(hu,ba),Ms(du,Ea),Ms(fu,lu),fu.prototype.Ba=function(){Do(this.g,"a")},fu.prototype.Aa=function(e){Do(this.g,new hu(e))},fu.prototype.za=function(e){Do(this.g,new du)},fu.prototype.ya=function(){Do(this.g,"b")},Ms(pu,function(){this.blockSize=-1}),pu.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},pu.prototype.j=function(e,t){void 0===t&&(t=e.length);for(var n=t-this.blockSize,r=this.m,i=this.h,s=0;s<t;){if(0==i)for(;s<=n;)gu(this,e,s),s+=this.blockSize;if("string"===typeof e){for(;s<t;)if(r[i++]=e.charCodeAt(s++),i==this.blockSize){gu(this,r),i=0;break}}else for(;s<t;)if(r[i++]=e[s++],i==this.blockSize){gu(this,r),i=0;break}}this.h=i,this.i+=t},pu.prototype.l=function(){var e=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);e[0]=128;for(var t=1;t<e.length-8;++t)e[t]=0;var n=8*this.i;for(t=e.length-8;t<e.length;++t)e[t]=255&n,n/=256;for(this.j(e),e=Array(16),t=n=0;4>t;++t)for(var r=0;32>r;r+=8)e[n++]=this.g[t]>>>r&255;return e};var yu={};function vu(e){return-128<=e&&128>e?function(e,t){var n=yu;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}(e,function(e){return new mu([0|e],0>e?-1:0)}):new mu([0|e],0>e?-1:0)}function wu(e){if(isNaN(e)||!isFinite(e))return Eu;if(0>e)return Iu(wu(-e));for(var t=[],n=1,r=0;e>=n;r++)t[r]=e/n|0,n*=bu;return new mu(t,0)}var bu=4294967296,Eu=vu(0),_u=vu(1),ku=vu(16777216);function Tu(e){if(0!=e.h)return!1;for(var t=0;t<e.g.length;t++)if(0!=e.g[t])return!1;return!0}function Su(e){return-1==e.h}function Iu(e){for(var t=e.g.length,n=[],r=0;r<t;r++)n[r]=~e.g[r];return new mu(n,~e.h).add(_u)}function Cu(e,t){return e.add(Iu(t))}function Au(e,t){for(;(65535&e[t])!=e[t];)e[t+1]+=e[t]>>>16,e[t]&=65535,t++}function Nu(e,t){this.g=e,this.h=t}function Ru(e,t){if(Tu(t))throw Error("division by zero");if(Tu(e))return new Nu(Eu,Eu);if(Su(e))return t=Ru(Iu(e),t),new Nu(Iu(t.g),Iu(t.h));if(Su(t))return t=Ru(e,Iu(t)),new Nu(Iu(t.g),t.h);if(30<e.g.length){if(Su(e)||Su(t))throw Error("slowDivide_ only works with positive integers.");for(var n=_u,r=t;0>=r.X(e);)n=xu(n),r=xu(r);var i=Ou(n,1),s=Ou(r,1);for(r=Ou(r,2),n=Ou(n,2);!Tu(r);){var o=s.add(r);0>=o.X(e)&&(i=i.add(n),s=o),r=Ou(r,1),n=Ou(n,1)}return t=Cu(e,i.R(t)),new Nu(i,t)}for(i=Eu;0<=e.X(t);){for(n=Math.max(1,Math.floor(e.ea()/t.ea())),r=48>=(r=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,r-48),o=(s=wu(n)).R(t);Su(o)||0<o.X(e);)o=(s=wu(n-=r)).R(t);Tu(s)&&(s=_u),i=i.add(s),e=Cu(e,o)}return new Nu(i,e)}function xu(e){for(var t=e.g.length+1,n=[],r=0;r<t;r++)n[r]=e.D(r)<<1|e.D(r-1)>>>31;return new mu(n,e.h)}function Ou(e,t){var n=t>>5;t%=32;for(var r=e.g.length-n,i=[],s=0;s<r;s++)i[s]=0<t?e.D(s+n)>>>t|e.D(s+n+1)<<32-t:e.D(s+n);return new mu(i,e.h)}(ks=mu.prototype).ea=function(){if(Su(this))return-Iu(this).ea();for(var e=0,t=1,n=0;n<this.g.length;n++){var r=this.D(n);e+=(0<=r?r:bu+r)*t,t*=bu}return e},ks.toString=function(e){if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if(Tu(this))return"0";if(Su(this))return"-"+Iu(this).toString(e);for(var t=wu(Math.pow(e,6)),n=this,r="";;){var i=Ru(n,t).g,s=((0<(n=Cu(n,i.R(t))).g.length?n.g[0]:n.h)>>>0).toString(e);if(Tu(n=i))return s+r;for(;6>s.length;)s="0"+s;r=s+r}},ks.D=function(e){return 0>e?0:e<this.g.length?this.g[e]:this.h},ks.X=function(e){return Su(e=Cu(this,e))?-1:Tu(e)?0:1},ks.abs=function(){return Su(this)?Iu(this):this},ks.add=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0,i=0;i<=t;i++){var s=r+(65535&this.D(i))+(65535&e.D(i)),o=(s>>>16)+(this.D(i)>>>16)+(e.D(i)>>>16);r=o>>>16,s&=65535,o&=65535,n[i]=o<<16|s}return new mu(n,-2147483648&n[n.length-1]?-1:0)},ks.R=function(e){if(Tu(this)||Tu(e))return Eu;if(Su(this))return Su(e)?Iu(this).R(Iu(e)):Iu(Iu(this).R(e));if(Su(e))return Iu(this.R(Iu(e)));if(0>this.X(ku)&&0>e.X(ku))return wu(this.ea()*e.ea());for(var t=this.g.length+e.g.length,n=[],r=0;r<2*t;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<e.g.length;i++){var s=this.D(r)>>>16,o=65535&this.D(r),a=e.D(i)>>>16,l=65535&e.D(i);n[2*r+2*i]+=o*l,Au(n,2*r+2*i),n[2*r+2*i+1]+=s*l,Au(n,2*r+2*i+1),n[2*r+2*i+1]+=o*a,Au(n,2*r+2*i+1),n[2*r+2*i+2]+=s*a,Au(n,2*r+2*i+2)}for(r=0;r<t;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=t;r<2*t;r++)n[r]=0;return new mu(n,0)},ks.gb=function(e){return Ru(this,e).h},ks.and=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)&e.D(r);return new mu(n,this.h&e.h)},ks.or=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)|e.D(r);return new mu(n,this.h|e.h)},ks.xor=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)^e.D(r);return new mu(n,this.h^e.h)},uu.prototype.createWebChannel=uu.prototype.g,cu.prototype.send=cu.prototype.u,cu.prototype.open=cu.prototype.m,cu.prototype.close=cu.prototype.close,fa.NO_ERROR=0,fa.TIMEOUT=8,fa.HTTP_ERROR=6,pa.COMPLETE="complete",ya.EventType=wa,wa.OPEN="a",wa.CLOSE="b",wa.ERROR="c",wa.MESSAGE="d",Po.prototype.listen=Po.prototype.O,Nl.prototype.listenOnce=Nl.prototype.P,Nl.prototype.getLastError=Nl.prototype.Sa,Nl.prototype.getLastErrorCode=Nl.prototype.Ia,Nl.prototype.getStatus=Nl.prototype.da,Nl.prototype.getResponseJson=Nl.prototype.Wa,Nl.prototype.getResponseText=Nl.prototype.ja,Nl.prototype.send=Nl.prototype.ha,Nl.prototype.setWithCredentials=Nl.prototype.Oa,pu.prototype.digest=pu.prototype.l,pu.prototype.reset=pu.prototype.reset,pu.prototype.update=pu.prototype.j,mu.prototype.add=mu.prototype.add,mu.prototype.multiply=mu.prototype.R,mu.prototype.modulo=mu.prototype.gb,mu.prototype.compare=mu.prototype.X,mu.prototype.toNumber=mu.prototype.ea,mu.prototype.toString=mu.prototype.toString,mu.prototype.getBits=mu.prototype.D,mu.fromNumber=wu,mu.fromString=function e(t,n){if(0==t.length)throw Error("number format error: empty string");if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if("-"==t.charAt(0))return Iu(e(t.substring(1),n));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var r=wu(Math.pow(n,8)),i=Eu,s=0;s<t.length;s+=8){var o=Math.min(8,t.length-s),a=parseInt(t.substring(s,s+o),n);8>o?(o=wu(Math.pow(n,o)),i=i.R(o).add(wu(a))):i=(i=i.R(r)).add(wu(a))}return i};var Pu=Ss.createWebChannelTransport=function(){return new uu},Du=Ss.getStatEventTarget=function(){return oa()},Lu=Ss.ErrorCode=fa,Mu=Ss.EventType=pa,Uu=Ss.Event=ia,Fu=Ss.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},Vu=Ss.FetchXmlHttpFactory=_l,ju=Ss.WebChannel=ya,zu=Ss.XhrIo=Nl,Bu=Ss.Md5=pu,qu=Ss.Integer=mu;const Hu="@firebase/firestore";class Ku{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Ku.UNAUTHENTICATED=new Ku(null),Ku.GOOGLE_CREDENTIALS=new Ku("google-credentials-uid"),Ku.FIRST_PARTY=new Ku("first-party-uid"),Ku.MOCK_USER=new Ku("mock-user");let Wu="9.23.0";const Gu=new et("@firebase/firestore");function Qu(){return Gu.logLevel}function $u(e){if(Gu.logLevel<=$e.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(Ju);Gu.debug("Firestore (".concat(Wu,"): ").concat(e),...i)}}function Yu(e){if(Gu.logLevel<=$e.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(Ju);Gu.error("Firestore (".concat(Wu,"): ").concat(e),...i)}}function Xu(e){if(Gu.logLevel<=$e.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(Ju);Gu.warn("Firestore (".concat(Wu,"): ").concat(e),...i)}}function Ju(e){if("string"==typeof e)return e;try{return t=e,JSON.stringify(t)}catch(t){return e}var t}function Zu(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unexpected state";const t="FIRESTORE (".concat(Wu,") INTERNAL ASSERTION FAILED: ")+e;throw Yu(t),new Error(t)}function ec(e,t){e||Zu()}function tc(e,t){return e}const nc={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class rc extends Pe{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>"".concat(this.name,": [code=").concat(this.code,"]: ").concat(this.message)}}class ic{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class sc{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(e))}}class oc{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Ku.UNAUTHENTICATED))}shutdown(){}}class ac{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class lc{constructor(e){this.t=e,this.currentUser=Ku.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){let n=this.i;const r=e=>this.i!==n?(n=this.i,t(e)):Promise.resolve();let i=new ic;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new ic,e.enqueueRetryable(()=>r(this.currentUser))};const s=()=>{const t=i;e.enqueueRetryable(async()=>{await t.promise,await r(this.currentUser)})},o=e=>{$u("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=e,this.auth.addAuthTokenListener(this.o),s()};this.t.onInit(e=>o(e)),setTimeout(()=>{if(!this.auth){const e=this.t.getImmediate({optional:!0});e?o(e):($u("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new ic)}},0),s()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(t=>this.i!==e?($u("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):t?(ec("string"==typeof t.accessToken),new sc(t.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return ec(null===e||"string"==typeof e),new Ku(e)}}class uc{constructor(e,t,n){this.h=e,this.l=t,this.m=n,this.type="FirstParty",this.user=Ku.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class cc{constructor(e,t,n){this.h=e,this.l=t,this.m=n}getToken(){return Promise.resolve(new uc(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable(()=>t(Ku.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class hc{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class dc{constructor(e){this.I=e,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(e,t){const n=e=>{null!=e.error&&$u("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(e.error.message));const n=e.token!==this.T;return this.T=e.token,$u("FirebaseAppCheckTokenProvider","Received ".concat(n?"new":"existing"," token.")),n?t(e.token):Promise.resolve()};this.o=t=>{e.enqueueRetryable(()=>n(t))};const r=e=>{$u("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=e,this.appCheck.addTokenListener(this.o)};this.I.onInit(e=>r(e)),setTimeout(()=>{if(!this.appCheck){const e=this.I.getImmediate({optional:!0});e?r(e):$u("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(e=>e?(ec("string"==typeof e.token),this.T=e.token,new hc(e.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function fc(e){const t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(let r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}class pc{static A(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(256/62);let n="";for(;n.length<20;){const r=fc(40);for(let i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%62))}return n}}function gc(e,t){return e<t?-1:e>t?1:0}function mc(e,t,n){return e.length===t.length&&e.every((e,r)=>n(e,t[r]))}class yc{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new rc(nc.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new rc(nc.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new rc(nc.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new rc(nc.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return yc.fromMillis(Date.now())}static fromDate(e){return yc.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),n=Math.floor(1e6*(e-1e3*t));return new yc(t,n)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?gc(this.nanoseconds,e.nanoseconds):gc(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class vc{constructor(e){this.timestamp=e}static fromTimestamp(e){return new vc(e)}static min(){return new vc(new yc(0,0))}static max(){return new vc(new yc(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class wc{constructor(e,t,n){void 0===t?t=0:t>e.length&&Zu(),void 0===n?n=e.length-t:n>e.length-t&&Zu(),this.segments=e,this.offset=t,this.len=n}get length(){return this.len}isEqual(e){return 0===wc.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof wc?e.forEach(e=>{t.push(e)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const n=Math.min(e.length,t.length);for(let r=0;r<n;r++){const n=e.get(r),i=t.get(r);if(n<i)return-1;if(n>i)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class bc extends wc{construct(e,t,n){return new bc(e,t,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(){const e=[];for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n){if(i.indexOf("//")>=0)throw new rc(nc.INVALID_ARGUMENT,"Invalid segment (".concat(i,"). Paths must not contain // in them."));e.push(...i.split("/").filter(e=>e.length>0))}return new bc(e)}static emptyPath(){return new bc([])}}const Ec=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class _c extends wc{construct(e,t,n){return new _c(e,t,n)}static isValidIdentifier(e){return Ec.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),_c.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new _c(["__name__"])}static fromServerFormat(e){const t=[];let n="",r=0;const i=()=>{if(0===n.length)throw new rc(nc.INVALID_ARGUMENT,"Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));t.push(n),n=""};let s=!1;for(;r<e.length;){const t=e[r];if("\\"===t){if(r+1===e.length)throw new rc(nc.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const t=e[r+1];if("\\"!==t&&"."!==t&&"`"!==t)throw new rc(nc.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=t,r+=2}else"`"===t?(s=!s,r++):"."!==t||s?(n+=t,r++):(i(),r++)}if(i(),s)throw new rc(nc.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new _c(t)}static emptyPath(){return new _c([])}}class kc{constructor(e){this.path=e}static fromPath(e){return new kc(bc.fromString(e))}static fromName(e){return new kc(bc.fromString(e).popFirst(5))}static empty(){return new kc(bc.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===bc.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return bc.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new kc(new bc(e.slice()))}}class Tc{constructor(e,t,n,r){this.indexId=e,this.collectionGroup=t,this.fields=n,this.indexState=r}}Tc.UNKNOWN_ID=-1;function Sc(e,t){const n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=vc.fromTimestamp(1e9===r?new yc(n+1,0):new yc(n,r));return new Cc(i,kc.empty(),t)}function Ic(e){return new Cc(e.readTime,e.key,-1)}class Cc{constructor(e,t,n){this.readTime=e,this.documentKey=t,this.largestBatchId=n}static min(){return new Cc(vc.min(),kc.empty(),-1)}static max(){return new Cc(vc.max(),kc.empty(),-1)}}function Ac(e,t){let n=e.readTime.compareTo(t.readTime);return 0!==n?n:(n=kc.comparator(e.documentKey,t.documentKey),0!==n?n:gc(e.largestBatchId,t.largestBatchId))}const Nc="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Rc{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}async function xc(e){if(e.code!==nc.FAILED_PRECONDITION||e.message!==Nc)throw e;$u("LocalStore","Unexpectedly lost primary lease")}class Oc{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)},e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Zu(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Oc((n,r)=>{this.nextCallback=t=>{this.wrapSuccess(e,t).next(n,r)},this.catchCallback=e=>{this.wrapFailure(t,e).next(n,r)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof Oc?t:Oc.resolve(t)}catch(e){return Oc.reject(e)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):Oc.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):Oc.reject(t)}static resolve(e){return new Oc((t,n)=>{t(e)})}static reject(e){return new Oc((t,n)=>{n(e)})}static waitFor(e){return new Oc((t,n)=>{let r=0,i=0,s=!1;e.forEach(e=>{++r,e.next(()=>{++i,s&&i===r&&t()},e=>n(e))}),s=!0,i===r&&t()})}static or(e){let t=Oc.resolve(!1);for(const n of e)t=t.next(e=>e?Oc.resolve(e):n());return t}static forEach(e,t){const n=[];return e.forEach((e,r)=>{n.push(t.call(this,e,r))}),this.waitFor(n)}static mapArray(e,t){return new Oc((n,r)=>{const i=e.length,s=new Array(i);let o=0;for(let a=0;a<i;a++){const l=a;t(e[l]).next(e=>{s[l]=e,++o,o===i&&n(s)},e=>r(e))}})}static doWhile(e,t){return new Oc((n,r)=>{const i=()=>{!0===e()?t().next(()=>{i()},r):n()};i()})}}function Pc(e){return"IndexedDbTransactionError"===e.name}class Dc{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=e=>this.ot(e),this.ut=e=>t.writeSequenceNumber(e))}ot(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ut&&this.ut(e),e}}function Lc(e){return null==e}function Mc(e){return 0===e&&1/e==-1/0}function Uc(e){return"number"==typeof e&&Number.isInteger(e)&&!Mc(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}Dc.ct=-1;const Fc=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],Vc=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],jc=Vc;function zc(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function Bc(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function qc(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}class Hc{constructor(e,t){this.comparator=e,this.root=t||Wc.EMPTY}insert(e,t){return new Hc(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Wc.BLACK,null,null))}remove(e){return new Hc(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Wc.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}indexOf(e){let t=0,n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,n)=>(e(t,n),!1))}toString(){const e=[];return this.inorderTraversal((t,n)=>(e.push("".concat(t,":").concat(n)),!1)),"{".concat(e.join(", "),"}")}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Kc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Kc(this.root,e,this.comparator,!1)}getReverseIterator(){return new Kc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Kc(this.root,e,this.comparator,!0)}}class Kc{constructor(e,t,n,r){this.isReverse=r,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=t?n(e.key,t):1,t&&r&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(0===i){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Wc{constructor(e,t,n,r,i){this.key=e,this.value=t,this.color=null!=n?n:Wc.RED,this.left=null!=r?r:Wc.EMPTY,this.right=null!=i?i:Wc.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,n,r,i){return new Wc(null!=e?e:this.key,null!=t?t:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=i?i:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let r=this;const i=n(e,r.key);return r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n)),r.fixUp()}removeMin(){if(this.left.isEmpty())return Wc.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let n,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===t(e,r.key)){if(r.right.isEmpty())return Wc.EMPTY;n=r.right.min(),r=r.copy(n.key,n.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Wc.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Wc.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Zu();if(this.right.isRed())throw Zu();const e=this.left.check();if(e!==this.right.check())throw Zu();return e+(this.isRed()?0:1)}}Wc.EMPTY=null,Wc.RED=!0,Wc.BLACK=!1,Wc.EMPTY=new class{constructor(){this.size=0}get key(){throw Zu()}get value(){throw Zu()}get color(){throw Zu()}get left(){throw Zu()}get right(){throw Zu()}copy(e,t,n,r,i){return this}insert(e,t,n){return new Wc(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Gc{constructor(e){this.comparator=e,this.data=new Hc(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,n)=>(e(t),!1))}forEachInRange(e,t){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Qc(this.data.getIterator())}getIteratorFrom(e){return new Qc(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(e=>{t=t.add(e)}),t}isEqual(e){if(!(e instanceof Gc))return!1;if(this.size!==e.size)return!1;const t=this.data.getIterator(),n=e.data.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(0!==this.comparator(e,r))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Gc(this.comparator);return t.data=e,t}}class Qc{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class $c{constructor(e){this.fields=e,e.sort(_c.comparator)}static empty(){return new $c([])}unionWith(e){let t=new Gc(_c.comparator);for(const n of this.fields)t=t.add(n);for(const n of e)t=t.add(n);return new $c(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return mc(this.fields,e.fields,(e,t)=>e.isEqual(t))}}class Yc extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Xc{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(e){try{return atob(e)}catch(e){throw"undefined"!=typeof DOMException&&e instanceof DOMException?new Yc("Invalid base64 string: "+e):e}}(e);return new Xc(t)}static fromUint8Array(e){const t=function(e){let t="";for(let n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new Xc(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return e=this.binaryString,btoa(e);var e}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return gc(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Xc.EMPTY_BYTE_STRING=new Xc("");const Jc=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Zc(e){if(ec(!!e),"string"==typeof e){let t=0;const n=Jc.exec(e);if(ec(!!n),n[1]){let e=n[1];e=(e+"000000000").substr(0,9),t=Number(e)}const r=new Date(e);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:eh(e.seconds),nanos:eh(e.nanos)}}function eh(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function th(e){return"string"==typeof e?Xc.fromBase64String(e):Xc.fromUint8Array(e)}function nh(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function rh(e){const t=e.mapValue.fields.__previous_value__;return nh(t)?rh(t):t}function ih(e){const t=Zc(e.mapValue.fields.__local_write_time__.timestampValue);return new yc(t.seconds,t.nanos)}class sh{constructor(e,t,n,r,i,s,o,a,l){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=s,this.autoDetectLongPolling=o,this.longPollingOptions=a,this.useFetchStreams=l}}class oh{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new oh("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof oh&&e.projectId===this.projectId&&e.database===this.database}}const ah={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function lh(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?nh(e)?4:_h(e)?9007199254740991:10:Zu()}function uh(e,t){if(e===t)return!0;const n=lh(e);if(n!==lh(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return ih(e).isEqual(ih(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;const n=Zc(e.timestampValue),r=Zc(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return th(e.bytesValue).isEqual(th(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return eh(e.geoPointValue.latitude)===eh(t.geoPointValue.latitude)&&eh(e.geoPointValue.longitude)===eh(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return eh(e.integerValue)===eh(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){const n=eh(e.doubleValue),r=eh(t.doubleValue);return n===r?Mc(n)===Mc(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return mc(e.arrayValue.values||[],t.arrayValue.values||[],uh);case 10:return function(e,t){const n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(zc(n)!==zc(r))return!1;for(const i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!uh(n[i],r[i])))return!1;return!0}(e,t);default:return Zu()}}function ch(e,t){return void 0!==(e.values||[]).find(e=>uh(e,t))}function hh(e,t){if(e===t)return 0;const n=lh(e),r=lh(t);if(n!==r)return gc(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return gc(e.booleanValue,t.booleanValue);case 2:return function(e,t){const n=eh(e.integerValue||e.doubleValue),r=eh(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return dh(e.timestampValue,t.timestampValue);case 4:return dh(ih(e),ih(t));case 5:return gc(e.stringValue,t.stringValue);case 6:return function(e,t){const n=th(e),r=th(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){const n=e.split("/"),r=t.split("/");for(let i=0;i<n.length&&i<r.length;i++){const e=gc(n[i],r[i]);if(0!==e)return e}return gc(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){const n=gc(eh(e.latitude),eh(t.latitude));return 0!==n?n:gc(eh(e.longitude),eh(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){const n=e.values||[],r=t.values||[];for(let i=0;i<n.length&&i<r.length;++i){const e=hh(n[i],r[i]);if(e)return e}return gc(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){if(e===ah.mapValue&&t===ah.mapValue)return 0;if(e===ah.mapValue)return 1;if(t===ah.mapValue)return-1;const n=e.fields||{},r=Object.keys(n),i=t.fields||{},s=Object.keys(i);r.sort(),s.sort();for(let o=0;o<r.length&&o<s.length;++o){const e=gc(r[o],s[o]);if(0!==e)return e;const t=hh(n[r[o]],i[s[o]]);if(0!==t)return t}return gc(r.length,s.length)}(e.mapValue,t.mapValue);default:throw Zu()}}function dh(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return gc(e,t);const n=Zc(e),r=Zc(t),i=gc(n.seconds,r.seconds);return 0!==i?i:gc(n.nanos,r.nanos)}function fh(e){return ph(e)}function ph(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){const t=Zc(e);return"time(".concat(t.seconds,",").concat(t.nanos,")")}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?th(e.bytesValue).toBase64():"referenceValue"in e?(n=e.referenceValue,kc.fromName(n).toString()):"geoPointValue"in e?"geo(".concat((t=e.geoPointValue).latitude,",").concat(t.longitude,")"):"arrayValue"in e?function(e){let t="[",n=!0;for(const r of e.values||[])n?n=!1:t+=",",t+=ph(r);return t+"]"}(e.arrayValue):"mapValue"in e?function(e){const t=Object.keys(e.fields||{}).sort();let n="{",r=!0;for(const i of t)r?r=!1:n+=",",n+="".concat(i,":").concat(ph(e.fields[i]));return n+"}"}(e.mapValue):Zu();var t,n}function gh(e,t){return{referenceValue:"projects/".concat(e.projectId,"/databases/").concat(e.database,"/documents/").concat(t.path.canonicalString())}}function mh(e){return!!e&&"integerValue"in e}function yh(e){return!!e&&"arrayValue"in e}function vh(e){return!!e&&"nullValue"in e}function wh(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function bh(e){return!!e&&"mapValue"in e}function Eh(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return Bc(e.mapValue.fields,(e,n)=>t.mapValue.fields[e]=Eh(n)),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=Eh(e.arrayValue.values[n]);return t}return Object.assign({},e)}function _h(e){return"__max__"===(((e.mapValue||{}).fields||{}).__type__||{}).stringValue}class kh{constructor(e){this.value=e}static empty(){return new kh({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let n=0;n<e.length-1;++n)if(t=(t.mapValue.fields||{})[e.get(n)],!bh(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Eh(t)}setAll(e){let t=_c.emptyPath(),n={},r=[];e.forEach((e,i)=>{if(!t.isImmediateParentOf(i)){const e=this.getFieldsMap(t);this.applyChanges(e,n,r),n={},r=[],t=i.popLast()}e?n[i.lastSegment()]=Eh(e):r.push(i.lastSegment())});const i=this.getFieldsMap(t);this.applyChanges(i,n,r)}delete(e){const t=this.field(e.popLast());bh(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return uh(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let n=0;n<e.length;++n){let r=t.mapValue.fields[e.get(n)];bh(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,n){Bc(t,(t,n)=>e[t]=n);for(const r of n)delete e[r]}clone(){return new kh(Eh(this.value))}}function Th(e){const t=[];return Bc(e.fields,(e,n)=>{const r=new _c([e]);if(bh(n)){const e=Th(n.mapValue).fields;if(0===e.length)t.push(r);else for(const n of e)t.push(r.child(n))}else t.push(r)}),new $c(t)}class Sh{constructor(e,t,n,r,i,s,o){this.key=e,this.documentType=t,this.version=n,this.readTime=r,this.createTime=i,this.data=s,this.documentState=o}static newInvalidDocument(e){return new Sh(e,0,vc.min(),vc.min(),vc.min(),kh.empty(),0)}static newFoundDocument(e,t,n,r){return new Sh(e,1,t,vc.min(),n,r,0)}static newNoDocument(e,t){return new Sh(e,2,t,vc.min(),vc.min(),kh.empty(),0)}static newUnknownDocument(e,t){return new Sh(e,3,t,vc.min(),vc.min(),kh.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(vc.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=kh.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=kh.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=vc.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Sh&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Sh(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {createTime: ").concat(this.createTime,"}), {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}class Ih{constructor(e,t){this.position=e,this.inclusive=t}}function Ch(e,t,n){let r=0;for(let i=0;i<e.position.length;i++){const s=t[i],o=e.position[i];if(r=s.field.isKeyField()?kc.comparator(kc.fromName(o.referenceValue),n.key):hh(o,n.data.field(s.field)),"desc"===s.dir&&(r*=-1),0!==r)break}return r}function Ah(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!uh(e.position[n],t.position[n]))return!1;return!0}class Nh{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";this.field=e,this.dir=t}}function Rh(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}class xh{}class Oh extends xh{constructor(e,t,n){super(),this.field=e,this.op=t,this.value=n}static create(e,t,n){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,n):new jh(e,t,n):"array-contains"===t?new Hh(e,n):"in"===t?new Kh(e,n):"not-in"===t?new Wh(e,n):"array-contains-any"===t?new Gh(e,n):new Oh(e,t,n)}static createKeyFieldInFilter(e,t,n){return"in"===t?new zh(e,n):new Bh(e,n)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(hh(t,this.value)):null!==t&&lh(this.value)===lh(t)&&this.matchesComparison(hh(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Zu()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class Ph extends xh{constructor(e,t){super(),this.filters=e,this.op=t,this.lt=null}static create(e,t){return new Ph(e,t)}matches(e){return Dh(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.lt||(this.lt=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.lt}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.ft(e=>e.isInequality());return null!==e?e.field:null}ft(e){for(const t of this.getFlattenedFilters())if(e(t))return t;return null}}function Dh(e){return"and"===e.op}function Lh(e){return Mh(e)&&Dh(e)}function Mh(e){for(const t of e.filters)if(t instanceof Ph)return!1;return!0}function Uh(e){if(e instanceof Oh)return e.field.canonicalString()+e.op.toString()+fh(e.value);if(Lh(e))return e.filters.map(e=>Uh(e)).join(",");{const t=e.filters.map(e=>Uh(e)).join(",");return"".concat(e.op,"(").concat(t,")")}}function Fh(e,t){return e instanceof Oh?function(e,t){return t instanceof Oh&&e.op===t.op&&e.field.isEqual(t.field)&&uh(e.value,t.value)}(e,t):e instanceof Ph?function(e,t){return t instanceof Ph&&e.op===t.op&&e.filters.length===t.filters.length&&e.filters.reduce((e,n,r)=>e&&Fh(n,t.filters[r]),!0)}(e,t):void Zu()}function Vh(e){return e instanceof Oh?function(e){return"".concat(e.field.canonicalString()," ").concat(e.op," ").concat(fh(e.value))}(e):e instanceof Ph?function(e){return e.op.toString()+" {"+e.getFilters().map(Vh).join(" ,")+"}"}(e):"Filter"}class jh extends Oh{constructor(e,t,n){super(e,t,n),this.key=kc.fromName(n.referenceValue)}matches(e){const t=kc.comparator(e.key,this.key);return this.matchesComparison(t)}}class zh extends Oh{constructor(e,t){super(e,"in",t),this.keys=qh("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class Bh extends Oh{constructor(e,t){super(e,"not-in",t),this.keys=qh("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function qh(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map(e=>kc.fromName(e.referenceValue))}class Hh extends Oh{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return yh(t)&&ch(t.arrayValue,this.value)}}class Kh extends Oh{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&ch(this.value.arrayValue,t)}}class Wh extends Oh{constructor(e,t){super(e,"not-in",t)}matches(e){if(ch(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!ch(this.value.arrayValue,t)}}class Gh extends Oh{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!yh(t)||!t.arrayValue.values)&&t.arrayValue.values.some(e=>ch(this.value.arrayValue,e))}}class Qh{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=s,this.endAt=o,this.dt=null}}function $h(e){return new Qh(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,arguments.length>6&&void 0!==arguments[6]?arguments[6]:null)}function Yh(e){const t=tc(e);if(null===t.dt){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map(e=>Uh(e)).join(","),e+="|ob:",e+=t.orderBy.map(e=>function(e){return e.field.canonicalString()+e.dir}(e)).join(","),Lc(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map(e=>fh(e)).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map(e=>fh(e)).join(",")),t.dt=e}return t.dt}function Xh(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!Rh(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!Fh(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!Ah(e.startAt,t.startAt)&&Ah(e.endAt,t.endAt)}function Jh(e){return kc.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}class Zh{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,a=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=s,this.startAt=o,this.endAt=a,this.wt=null,this._t=null,this.startAt,this.endAt}}function ed(e,t,n,r,i,s,o,a){return new Zh(e,t,n,r,i,s,o,a)}function td(e){return new Zh(e)}function nd(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function rd(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function id(e){for(const t of e.filters){const e=t.getFirstInequalityField();if(null!==e)return e}return null}function sd(e){return null!==e.collectionGroup}function od(e){const t=tc(e);if(null===t.wt){t.wt=[];const e=id(t),n=rd(t);if(null!==e&&null===n)e.isKeyField()||t.wt.push(new Nh(e)),t.wt.push(new Nh(_c.keyField(),"asc"));else{let e=!1;for(const n of t.explicitOrderBy)t.wt.push(n),n.field.isKeyField()&&(e=!0);if(!e){const e=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.wt.push(new Nh(_c.keyField(),e))}}}return t.wt}function ad(e){const t=tc(e);if(!t._t)if("F"===t.limitType)t._t=$h(t.path,t.collectionGroup,od(t),t.filters,t.limit,t.startAt,t.endAt);else{const e=[];for(const i of od(t)){const t="desc"===i.dir?"asc":"desc";e.push(new Nh(i.field,t))}const n=t.endAt?new Ih(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Ih(t.startAt.position,t.startAt.inclusive):null;t._t=$h(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}return t._t}function ld(e,t){t.getFirstInequalityField(),id(e);const n=e.filters.concat([t]);return new Zh(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function ud(e,t,n){return new Zh(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function cd(e,t){return Xh(ad(e),ad(t))&&e.limitType===t.limitType}function hd(e){return"".concat(Yh(ad(e)),"|lt:").concat(e.limitType)}function dd(e){return"Query(target=".concat(function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: [".concat(e.filters.map(e=>Vh(e)).join(", "),"]")),Lc(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: [".concat(e.orderBy.map(e=>function(e){return"".concat(e.field.canonicalString()," (").concat(e.dir,")")}(e)).join(", "),"]")),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(e=>fh(e)).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(e=>fh(e)).join(",")),"Target(".concat(t,")")}(ad(e)),"; limitType=").concat(e.limitType,")")}function fd(e,t){return t.isFoundDocument()&&function(e,t){const n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):kc.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){for(const n of od(e))if(!n.field.isKeyField()&&null===t.data.field(n.field))return!1;return!0}(e,t)&&function(e,t){for(const n of e.filters)if(!n.matches(t))return!1;return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){const r=Ch(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,od(e),t))&&!(e.endAt&&!function(e,t,n){const r=Ch(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,od(e),t))}(e,t)}function pd(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function gd(e){return(t,n)=>{let r=!1;for(const i of od(e)){const e=md(i,t,n);if(0!==e)return e;r=r||i.field.isKeyField()}return 0}}function md(e,t,n){const r=e.field.isKeyField()?kc.comparator(t.key,n.key):function(e,t,n){const r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?hh(r,i):Zu()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return Zu()}}class yd{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n)for(const[r,i]of n)if(this.equalsFn(r,e))return i}has(e){return void 0!==this.get(e)}set(e,t){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(let r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}forEach(e){Bc(this.inner,(t,n)=>{for(const[r,i]of n)e(r,i)})}isEmpty(){return qc(this.inner)}size(){return this.innerSize}}const vd=new Hc(kc.comparator);function wd(){return vd}const bd=new Hc(kc.comparator);function Ed(){let e=bd;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n)e=e.insert(i.key,i);return e}function _d(e){let t=bd;return e.forEach((e,n)=>t=t.insert(e,n.overlayedDocument)),t}function kd(){return Sd()}function Td(){return Sd()}function Sd(){return new yd(e=>e.toString(),(e,t)=>e.isEqual(t))}const Id=new Hc(kc.comparator),Cd=new Gc(kc.comparator);function Ad(){let e=Cd;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n)e=e.add(i);return e}const Nd=new Gc(gc);function Rd(){return Nd}function xd(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Mc(t)?"-0":t}}function Od(e){return{integerValue:""+e}}function Pd(e,t){return Uc(t)?Od(t):xd(e,t)}class Dd{constructor(){this._=void 0}}function Ld(e,t,n){return e instanceof Fd?function(e,t){const n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&nh(t)&&(t=rh(t)),t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof Vd?jd(e,t):e instanceof zd?Bd(e,t):function(e,t){const n=Ud(e,t),r=Hd(n)+Hd(e.gt);return mh(n)&&mh(e.gt)?Od(r):xd(e.serializer,r)}(e,t)}function Md(e,t,n){return e instanceof Vd?jd(e,t):e instanceof zd?Bd(e,t):n}function Ud(e,t){return e instanceof qd?mh(n=t)||function(e){return!!e&&"doubleValue"in e}(n)?t:{integerValue:0}:null;var n}class Fd extends Dd{}class Vd extends Dd{constructor(e){super(),this.elements=e}}function jd(e,t){const n=Kd(t);for(const r of e.elements)n.some(e=>uh(e,r))||n.push(r);return{arrayValue:{values:n}}}class zd extends Dd{constructor(e){super(),this.elements=e}}function Bd(e,t){let n=Kd(t);for(const r of e.elements)n=n.filter(e=>!uh(e,r));return{arrayValue:{values:n}}}class qd extends Dd{constructor(e,t){super(),this.serializer=e,this.gt=t}}function Hd(e){return eh(e.integerValue||e.doubleValue)}function Kd(e){return yh(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}class Wd{constructor(e,t){this.field=e,this.transform=t}}class Gd{constructor(e,t){this.version=e,this.transformResults=t}}class Qd{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Qd}static exists(e){return new Qd(void 0,e)}static updateTime(e){return new Qd(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function $d(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}class Yd{}function Xd(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new lf(e.key,Qd.none()):new nf(e.key,e.data,Qd.none());{const n=e.data,r=kh.empty();let i=new Gc(_c.comparator);for(let e of t.fields)if(!i.has(e)){let t=n.field(e);null===t&&e.length>1&&(e=e.popLast(),t=n.field(e)),null===t?r.delete(e):r.set(e,t),i=i.add(e)}return new rf(e.key,r,new $c(i.toArray()),Qd.none())}}function Jd(e,t,n){e instanceof nf?function(e,t,n){const r=e.value.clone(),i=of(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof rf?function(e,t,n){if(!$d(e.precondition,t))return void t.convertToUnknownDocument(n.version);const r=of(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(sf(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function Zd(e,t,n,r){return e instanceof nf?function(e,t,n,r){if(!$d(e.precondition,t))return n;const i=e.value.clone(),s=af(e.fieldTransforms,r,t);return i.setAll(s),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null}(e,t,n,r):e instanceof rf?function(e,t,n,r){if(!$d(e.precondition,t))return n;const i=af(e.fieldTransforms,r,t),s=t.data;return s.setAll(sf(e)),s.setAll(i),t.convertToFoundDocument(t.version,s).setHasLocalMutations(),null===n?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map(e=>e.field))}(e,t,n,r):function(e,t,n){return $d(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}(e,t,n)}function ef(e,t){let n=null;for(const r of e.fieldTransforms){const e=t.data.field(r.field),i=Ud(r.transform,e||null);null!=i&&(null===n&&(n=kh.empty()),n.set(r.field,i))}return n||null}function tf(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&mc(e,t,(e,t)=>function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof Vd&&t instanceof Vd||e instanceof zd&&t instanceof zd?mc(e.elements,t.elements,uh):e instanceof qd&&t instanceof qd?uh(e.gt,t.gt):e instanceof Fd&&t instanceof Fd}(e.transform,t.transform)}(e,t))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class nf extends Yd{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];super(),this.key=e,this.value=t,this.precondition=n,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class rf extends Yd{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];super(),this.key=e,this.data=t,this.fieldMask=n,this.precondition=r,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function sf(e){const t=new Map;return e.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=e.data.field(n);t.set(n,r)}}),t}function of(e,t,n){const r=new Map;ec(e.length===n.length);for(let i=0;i<n.length;i++){const s=e[i],o=s.transform,a=t.data.field(s.field);r.set(s.field,Md(o,a,n[i]))}return r}function af(e,t,n){const r=new Map;for(const i of e){const e=i.transform,s=n.data.field(i.field);r.set(i.field,Ld(e,s,t))}return r}class lf extends Yd{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class uf extends Yd{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class cf{constructor(e,t,n,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=r}applyToRemoteDocument(e,t){const n=t.mutationResults;for(let r=0;r<this.mutations.length;r++){const t=this.mutations[r];t.key.isEqual(e.key)&&Jd(t,e,n[r])}}applyToLocalView(e,t){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(t=Zd(n,e,t,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(t=Zd(n,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const n=Td();return this.mutations.forEach(r=>{const i=e.get(r.key),s=i.overlayedDocument;let o=this.applyToLocalView(s,i.mutatedFields);o=t.has(r.key)?null:o;const a=Xd(s,o);null!==a&&n.set(r.key,a),s.isValidDocument()||s.convertToNoDocument(vc.min())}),n}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Ad())}isEqual(e){return this.batchId===e.batchId&&mc(this.mutations,e.mutations,(e,t)=>tf(e,t))&&mc(this.baseMutations,e.baseMutations,(e,t)=>tf(e,t))}}class hf{constructor(e,t,n,r){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=r}static from(e,t,n){ec(e.mutations.length===n.length);let r=Id;const i=e.mutations;for(let s=0;s<i.length;s++)r=r.insert(i[s].key,n[s].version);return new hf(e,t,n,r)}}class df{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return"Overlay{\n      largestBatchId: ".concat(this.largestBatchId,",\n      mutation: ").concat(this.mutation.toString(),"\n    }")}}class ff{constructor(e,t){this.count=e,this.unchangedNames=t}}var pf,gf;function mf(e){switch(e){default:return Zu();case nc.CANCELLED:case nc.UNKNOWN:case nc.DEADLINE_EXCEEDED:case nc.RESOURCE_EXHAUSTED:case nc.INTERNAL:case nc.UNAVAILABLE:case nc.UNAUTHENTICATED:return!1;case nc.INVALID_ARGUMENT:case nc.NOT_FOUND:case nc.ALREADY_EXISTS:case nc.PERMISSION_DENIED:case nc.FAILED_PRECONDITION:case nc.ABORTED:case nc.OUT_OF_RANGE:case nc.UNIMPLEMENTED:case nc.DATA_LOSS:return!0}}function yf(e){if(void 0===e)return Yu("GRPC error has no .code"),nc.UNKNOWN;switch(e){case pf.OK:return nc.OK;case pf.CANCELLED:return nc.CANCELLED;case pf.UNKNOWN:return nc.UNKNOWN;case pf.DEADLINE_EXCEEDED:return nc.DEADLINE_EXCEEDED;case pf.RESOURCE_EXHAUSTED:return nc.RESOURCE_EXHAUSTED;case pf.INTERNAL:return nc.INTERNAL;case pf.UNAVAILABLE:return nc.UNAVAILABLE;case pf.UNAUTHENTICATED:return nc.UNAUTHENTICATED;case pf.INVALID_ARGUMENT:return nc.INVALID_ARGUMENT;case pf.NOT_FOUND:return nc.NOT_FOUND;case pf.ALREADY_EXISTS:return nc.ALREADY_EXISTS;case pf.PERMISSION_DENIED:return nc.PERMISSION_DENIED;case pf.FAILED_PRECONDITION:return nc.FAILED_PRECONDITION;case pf.ABORTED:return nc.ABORTED;case pf.OUT_OF_RANGE:return nc.OUT_OF_RANGE;case pf.UNIMPLEMENTED:return nc.UNIMPLEMENTED;case pf.DATA_LOSS:return nc.DATA_LOSS;default:return Zu()}}(gf=pf||(pf={}))[gf.OK=0]="OK",gf[gf.CANCELLED=1]="CANCELLED",gf[gf.UNKNOWN=2]="UNKNOWN",gf[gf.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",gf[gf.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",gf[gf.NOT_FOUND=5]="NOT_FOUND",gf[gf.ALREADY_EXISTS=6]="ALREADY_EXISTS",gf[gf.PERMISSION_DENIED=7]="PERMISSION_DENIED",gf[gf.UNAUTHENTICATED=16]="UNAUTHENTICATED",gf[gf.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",gf[gf.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",gf[gf.ABORTED=10]="ABORTED",gf[gf.OUT_OF_RANGE=11]="OUT_OF_RANGE",gf[gf.UNIMPLEMENTED=12]="UNIMPLEMENTED",gf[gf.INTERNAL=13]="INTERNAL",gf[gf.UNAVAILABLE=14]="UNAVAILABLE",gf[gf.DATA_LOSS=15]="DATA_LOSS";class vf{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return wf}static getOrCreateInstance(){return null===wf&&(wf=new vf),wf}onExistenceFilterMismatch(e){const t=Symbol();return this.onExistenceFilterMismatchCallbacks.set(t,e),()=>this.onExistenceFilterMismatchCallbacks.delete(t)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach(t=>t(e))}}let wf=null;function bf(){return new TextEncoder}const Ef=new qu([4294967295,4294967295],0);function _f(e){const t=bf().encode(e),n=new Bu;return n.update(t),new Uint8Array(n.digest())}function kf(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),r=t.getUint32(4,!0),i=t.getUint32(8,!0),s=t.getUint32(12,!0);return[new qu([n,r],0),new qu([i,s],0)]}class Tf{constructor(e,t,n){if(this.bitmap=e,this.padding=t,this.hashCount=n,t<0||t>=8)throw new Sf("Invalid padding: ".concat(t));if(n<0)throw new Sf("Invalid hash count: ".concat(n));if(e.length>0&&0===this.hashCount)throw new Sf("Invalid hash count: ".concat(n));if(0===e.length&&0!==t)throw new Sf("Invalid padding when bitmap length is 0: ".concat(t));this.It=8*e.length-t,this.Tt=qu.fromNumber(this.It)}Et(e,t,n){let r=e.add(t.multiply(qu.fromNumber(n)));return 1===r.compare(Ef)&&(r=new qu([r.getBits(0),r.getBits(1)],0)),r.modulo(this.Tt).toNumber()}At(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}vt(e){if(0===this.It)return!1;const t=_f(e),[n,r]=kf(t);for(let i=0;i<this.hashCount;i++){const e=this.Et(n,r,i);if(!this.At(e))return!1}return!0}static create(e,t,n){const r=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),s=new Tf(i,r,t);return n.forEach(e=>s.insert(e)),s}insert(e){if(0===this.It)return;const t=_f(e),[n,r]=kf(t);for(let i=0;i<this.hashCount;i++){const e=this.Et(n,r,i);this.Rt(e)}}Rt(e){const t=Math.floor(e/8),n=e%8;this.bitmap[t]|=1<<n}}class Sf extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class If{constructor(e,t,n,r,i){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,t,n){const r=new Map;return r.set(e,Cf.createSynthesizedTargetChangeForCurrentChange(e,t,n)),new If(vc.min(),r,new Hc(gc),wd(),Ad())}}class Cf{constructor(e,t,n,r,i){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,t,n){return new Cf(n,t,Ad(),Ad(),Ad())}}class Af{constructor(e,t,n,r){this.Pt=e,this.removedTargetIds=t,this.key=n,this.bt=r}}class Nf{constructor(e,t){this.targetId=e,this.Vt=t}}class Rf{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Xc.EMPTY_BYTE_STRING,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=r}}class xf{constructor(){this.St=0,this.Dt=Df(),this.Ct=Xc.EMPTY_BYTE_STRING,this.xt=!1,this.Nt=!0}get current(){return this.xt}get resumeToken(){return this.Ct}get kt(){return 0!==this.St}get Mt(){return this.Nt}$t(e){e.approximateByteSize()>0&&(this.Nt=!0,this.Ct=e)}Ot(){let e=Ad(),t=Ad(),n=Ad();return this.Dt.forEach((r,i)=>{switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:Zu()}}),new Cf(this.Ct,this.xt,e,t,n)}Ft(){this.Nt=!1,this.Dt=Df()}Bt(e,t){this.Nt=!0,this.Dt=this.Dt.insert(e,t)}Lt(e){this.Nt=!0,this.Dt=this.Dt.remove(e)}qt(){this.St+=1}Ut(){this.St-=1}Kt(){this.Nt=!0,this.xt=!0}}class Of{constructor(e){this.Gt=e,this.Qt=new Map,this.jt=wd(),this.zt=Pf(),this.Wt=new Hc(gc)}Ht(e){for(const t of e.Pt)e.bt&&e.bt.isFoundDocument()?this.Jt(t,e.bt):this.Yt(t,e.key,e.bt);for(const t of e.removedTargetIds)this.Yt(t,e.key,e.bt)}Xt(e){this.forEachTarget(e,t=>{const n=this.Zt(t);switch(e.state){case 0:this.te(t)&&n.$t(e.resumeToken);break;case 1:n.Ut(),n.kt||n.Ft(),n.$t(e.resumeToken);break;case 2:n.Ut(),n.kt||this.removeTarget(t);break;case 3:this.te(t)&&(n.Kt(),n.$t(e.resumeToken));break;case 4:this.te(t)&&(this.ee(t),n.$t(e.resumeToken));break;default:Zu()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Qt.forEach((e,n)=>{this.te(n)&&t(n)})}ne(e){var t;const n=e.targetId,r=e.Vt.count,i=this.se(n);if(i){const s=i.target;if(Jh(s))if(0===r){const e=new kc(s.path);this.Yt(n,e,Sh.newNoDocument(e,vc.min()))}else ec(1===r);else{const i=this.ie(n);if(i!==r){const r=this.re(e,i);if(0!==r){this.ee(n);const e=2===r?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Wt=this.Wt.insert(n,e)}null===(t=vf.instance)||void 0===t||t.notifyOnExistenceFilterMismatch(function(e,t,n){var r,i,s,o,a,l;const u={localCacheCount:t,existenceFilterCount:n.count},c=n.unchangedNames;return c&&(u.bloomFilter={applied:0===e,hashCount:null!==(r=null==c?void 0:c.hashCount)&&void 0!==r?r:0,bitmapLength:null!==(o=null===(s=null===(i=null==c?void 0:c.bits)||void 0===i?void 0:i.bitmap)||void 0===s?void 0:s.length)&&void 0!==o?o:0,padding:null!==(l=null===(a=null==c?void 0:c.bits)||void 0===a?void 0:a.padding)&&void 0!==l?l:0}),u}(r,i,e.Vt))}}}}re(e,t){const{unchangedNames:n,count:r}=e.Vt;if(!n||!n.bits)return 1;const{bits:{bitmap:i="",padding:s=0},hashCount:o=0}=n;let a,l;try{a=th(i).toUint8Array()}catch(e){if(e instanceof Yc)return Xu("Decoding the base64 bloom filter in existence filter failed ("+e.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw e}try{l=new Tf(a,s,o)}catch(e){return Xu(e instanceof Sf?"BloomFilter error: ":"Applying bloom filter failed: ",e),1}return 0===l.It?1:r!==t-this.oe(e.targetId,l)?2:0}oe(e,t){const n=this.Gt.getRemoteKeysForTarget(e);let r=0;return n.forEach(n=>{const i=this.Gt.ue(),s="projects/".concat(i.projectId,"/databases/").concat(i.database,"/documents/").concat(n.path.canonicalString());t.vt(s)||(this.Yt(e,n,null),r++)}),r}ce(e){const t=new Map;this.Qt.forEach((n,r)=>{const i=this.se(r);if(i){if(n.current&&Jh(i.target)){const t=new kc(i.target.path);null!==this.jt.get(t)||this.ae(r,t)||this.Yt(r,t,Sh.newNoDocument(t,e))}n.Mt&&(t.set(r,n.Ot()),n.Ft())}});let n=Ad();this.zt.forEach((e,t)=>{let r=!0;t.forEachWhile(e=>{const t=this.se(e);return!t||"TargetPurposeLimboResolution"===t.purpose||(r=!1,!1)}),r&&(n=n.add(e))}),this.jt.forEach((t,n)=>n.setReadTime(e));const r=new If(e,t,this.Wt,this.jt,n);return this.jt=wd(),this.zt=Pf(),this.Wt=new Hc(gc),r}Jt(e,t){if(!this.te(e))return;const n=this.ae(e,t.key)?2:0;this.Zt(e).Bt(t.key,n),this.jt=this.jt.insert(t.key,t),this.zt=this.zt.insert(t.key,this.he(t.key).add(e))}Yt(e,t,n){if(!this.te(e))return;const r=this.Zt(e);this.ae(e,t)?r.Bt(t,1):r.Lt(t),this.zt=this.zt.insert(t,this.he(t).delete(e)),n&&(this.jt=this.jt.insert(t,n))}removeTarget(e){this.Qt.delete(e)}ie(e){const t=this.Zt(e).Ot();return this.Gt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}qt(e){this.Zt(e).qt()}Zt(e){let t=this.Qt.get(e);return t||(t=new xf,this.Qt.set(e,t)),t}he(e){let t=this.zt.get(e);return t||(t=new Gc(gc),this.zt=this.zt.insert(e,t)),t}te(e){const t=null!==this.se(e);return t||$u("WatchChangeAggregator","Detected inactive target",e),t}se(e){const t=this.Qt.get(e);return t&&t.kt?null:this.Gt.le(e)}ee(e){this.Qt.set(e,new xf),this.Gt.getRemoteKeysForTarget(e).forEach(t=>{this.Yt(e,t,null)})}ae(e,t){return this.Gt.getRemoteKeysForTarget(e).has(t)}}function Pf(){return new Hc(kc.comparator)}function Df(){return new Hc(kc.comparator)}const Lf={asc:"ASCENDING",desc:"DESCENDING"},Mf={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Uf={and:"AND",or:"OR"};class Ff{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Vf(e,t){return e.useProto3Json||Lc(t)?t:{value:t}}function jf(e,t){return e.useProto3Json?"".concat(new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+t.nanoseconds).slice(-9),"Z"):{seconds:""+t.seconds,nanos:t.nanoseconds}}function zf(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function Bf(e,t){return jf(e,t.toTimestamp())}function qf(e){return ec(!!e),vc.fromTimestamp(function(e){const t=Zc(e);return new yc(t.seconds,t.nanos)}(e))}function Hf(e,t){return function(e){return new bc(["projects",e.projectId,"databases",e.database])}(e).child("documents").child(t).canonicalString()}function Kf(e){const t=bc.fromString(e);return ec(hp(t)),t}function Wf(e,t){return Hf(e.databaseId,t.path)}function Gf(e,t){const n=Kf(t);if(n.get(1)!==e.databaseId.projectId)throw new rc(nc.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new rc(nc.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new kc(Xf(n))}function Qf(e,t){return Hf(e.databaseId,t)}function $f(e){const t=Kf(e);return 4===t.length?bc.emptyPath():Xf(t)}function Yf(e){return new bc(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function Xf(e){return ec(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function Jf(e,t,n){return{name:Wf(e,t),fields:n.value.mapValue.fields}}function Zf(e,t){let n;if(t instanceof nf)n={update:Jf(e,t.key,t.value)};else if(t instanceof lf)n={delete:Wf(e,t.key)};else if(t instanceof rf)n={update:Jf(e,t.key,t.data),updateMask:cp(t.fieldMask)};else{if(!(t instanceof uf))return Zu();n={verify:Wf(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map(e=>function(e,t){const n=t.transform;if(n instanceof Fd)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof Vd)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof zd)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof qd)return{fieldPath:t.field.canonicalString(),increment:n.gt};throw Zu()}(0,e))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:Bf(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:Zu()}(e,t.precondition)),n}function ep(e,t){return{documents:[Qf(e,t.path)]}}function tp(e,t){const n={structuredQuery:{}},r=t.path;null!==t.collectionGroup?(n.parent=Qf(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=Qf(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(e){if(0!==e.length)return up(Ph.create(e,"and"))}(t.filters);i&&(n.structuredQuery.where=i);const s=function(e){if(0!==e.length)return e.map(e=>function(e){return{field:ap(e.field),direction:ip(e.dir)}}(e))}(t.orderBy);s&&(n.structuredQuery.orderBy=s);const o=Vf(e,t.limit);var a;return null!==o&&(n.structuredQuery.limit=o),t.startAt&&(n.structuredQuery.startAt={before:(a=t.startAt).inclusive,values:a.position}),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),n}function np(e){let t=$f(e.parent);const n=e.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){ec(1===r);const e=n.from[0];e.allDescendants?i=e.collectionId:t=t.child(e.collectionId)}let s=[];n.where&&(s=function(e){const t=rp(e);return t instanceof Ph&&Lh(t)?t.getFilters():[t]}(n.where));let o=[];n.orderBy&&(o=n.orderBy.map(e=>function(e){return new Nh(lp(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)));let a=null;n.limit&&(a=function(e){let t;return t="object"==typeof e?e.value:e,Lc(t)?null:t}(n.limit));let l=null;n.startAt&&(l=function(e){const t=!!e.before,n=e.values||[];return new Ih(n,t)}(n.startAt));let u=null;return n.endAt&&(u=function(e){const t=!e.before,n=e.values||[];return new Ih(n,t)}(n.endAt)),ed(t,i,o,s,a,"F",l,u)}function rp(e){return void 0!==e.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=lp(e.unaryFilter.field);return Oh.create(t,"==",{doubleValue:NaN});case"IS_NULL":const n=lp(e.unaryFilter.field);return Oh.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=lp(e.unaryFilter.field);return Oh.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=lp(e.unaryFilter.field);return Oh.create(i,"!=",{nullValue:"NULL_VALUE"});default:return Zu()}}(e):void 0!==e.fieldFilter?function(e){return Oh.create(lp(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Zu()}}(e.fieldFilter.op),e.fieldFilter.value)}(e):void 0!==e.compositeFilter?function(e){return Ph.create(e.compositeFilter.filters.map(e=>rp(e)),function(e){switch(e){case"AND":return"and";case"OR":return"or";default:return Zu()}}(e.compositeFilter.op))}(e):Zu()}function ip(e){return Lf[e]}function sp(e){return Mf[e]}function op(e){return Uf[e]}function ap(e){return{fieldPath:e.canonicalString()}}function lp(e){return _c.fromServerFormat(e.fieldPath)}function up(e){return e instanceof Oh?function(e){if("=="===e.op){if(wh(e.value))return{unaryFilter:{field:ap(e.field),op:"IS_NAN"}};if(vh(e.value))return{unaryFilter:{field:ap(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(wh(e.value))return{unaryFilter:{field:ap(e.field),op:"IS_NOT_NAN"}};if(vh(e.value))return{unaryFilter:{field:ap(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ap(e.field),op:sp(e.op),value:e.value}}}(e):e instanceof Ph?function(e){const t=e.getFilters().map(e=>up(e));return 1===t.length?t[0]:{compositeFilter:{op:op(e.op),filters:t}}}(e):Zu()}function cp(e){const t=[];return e.fields.forEach(e=>t.push(e.canonicalString())),{fieldPaths:t}}function hp(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}class dp{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:vc.min(),s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:vc.min(),o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:Xc.EMPTY_BYTE_STRING,a=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=o,this.expectedCount=a}withSequenceNumber(e){return new dp(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new dp(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new dp(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new dp(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class fp{constructor(e){this.fe=e}}function pp(e){const t=np({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?ud(t,t.limit,"L"):t}class gp{constructor(){}_e(e,t){this.me(e,t),t.ge()}me(e,t){if("nullValue"in e)this.ye(t,5);else if("booleanValue"in e)this.ye(t,10),t.pe(e.booleanValue?1:0);else if("integerValue"in e)this.ye(t,15),t.pe(eh(e.integerValue));else if("doubleValue"in e){const n=eh(e.doubleValue);isNaN(n)?this.ye(t,13):(this.ye(t,15),Mc(n)?t.pe(0):t.pe(n))}else if("timestampValue"in e){const n=e.timestampValue;this.ye(t,20),"string"==typeof n?t.Ie(n):(t.Ie("".concat(n.seconds||"")),t.pe(n.nanos||0))}else if("stringValue"in e)this.Te(e.stringValue,t),this.Ee(t);else if("bytesValue"in e)this.ye(t,30),t.Ae(th(e.bytesValue)),this.Ee(t);else if("referenceValue"in e)this.ve(e.referenceValue,t);else if("geoPointValue"in e){const n=e.geoPointValue;this.ye(t,45),t.pe(n.latitude||0),t.pe(n.longitude||0)}else"mapValue"in e?_h(e)?this.ye(t,Number.MAX_SAFE_INTEGER):(this.Re(e.mapValue,t),this.Ee(t)):"arrayValue"in e?(this.Pe(e.arrayValue,t),this.Ee(t)):Zu()}Te(e,t){this.ye(t,25),this.be(e,t)}be(e,t){t.Ie(e)}Re(e,t){const n=e.fields||{};this.ye(t,55);for(const r of Object.keys(n))this.Te(r,t),this.me(n[r],t)}Pe(e,t){const n=e.values||[];this.ye(t,50);for(const r of n)this.me(r,t)}ve(e,t){this.ye(t,37),kc.fromName(e).path.forEach(e=>{this.ye(t,60),this.be(e,t)})}ye(e,t){e.pe(t)}Ee(e){e.pe(2)}}gp.Ve=new gp;class mp{constructor(){this.rn=new yp}addToCollectionParentIndex(e,t){return this.rn.add(t),Oc.resolve()}getCollectionParents(e,t){return Oc.resolve(this.rn.getEntries(t))}addFieldIndex(e,t){return Oc.resolve()}deleteFieldIndex(e,t){return Oc.resolve()}getDocumentsMatchingTarget(e,t){return Oc.resolve(null)}getIndexType(e,t){return Oc.resolve(0)}getFieldIndexes(e,t){return Oc.resolve([])}getNextCollectionGroupToUpdate(e){return Oc.resolve(null)}getMinOffset(e,t){return Oc.resolve(Cc.min())}getMinOffsetFromCollectionGroup(e,t){return Oc.resolve(Cc.min())}updateCollectionGroup(e,t,n){return Oc.resolve()}updateIndexEntries(e,t){return Oc.resolve()}}class yp{constructor(){this.index={}}add(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new Gc(bc.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}has(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}getEntries(e){return(this.index[e]||new Gc(bc.comparator)).toArray()}}new Uint8Array(0);class vp{constructor(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}static withCacheSize(e){return new vp(e,vp.DEFAULT_COLLECTION_PERCENTILE,vp.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}vp.DEFAULT_COLLECTION_PERCENTILE=10,vp.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,vp.DEFAULT=new vp(41943040,vp.DEFAULT_COLLECTION_PERCENTILE,vp.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),vp.DISABLED=new vp(-1,0,0);class wp{constructor(e){this.Nn=e}next(){return this.Nn+=2,this.Nn}static kn(){return new wp(0)}static Mn(){return new wp(-1)}}class bp{constructor(){this.changes=new yd(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Sh.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const n=this.changes.get(t);return void 0!==n?Oc.resolve(n):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class Ep{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class _p{constructor(e,t,n,r){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=n,this.indexManager=r}getDocument(e,t){let n=null;return this.documentOverlayCache.getOverlay(e,t).next(r=>(n=r,this.remoteDocumentCache.getEntry(e,t))).next(e=>(null!==n&&Zd(n.mutation,e,$c.empty(),yc.now()),e))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(t=>this.getLocalViewOfDocuments(e,t,Ad()).next(()=>t))}getLocalViewOfDocuments(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Ad();const r=kd();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,n).next(e=>{let t=Ed();return e.forEach((e,n)=>{t=t.insert(e,n.overlayedDocument)}),t}))}getOverlayedDocuments(e,t){const n=kd();return this.populateOverlays(e,n,t).next(()=>this.computeViews(e,t,n,Ad()))}populateOverlays(e,t,n){const r=[];return n.forEach(e=>{t.has(e)||r.push(e)}),this.documentOverlayCache.getOverlays(e,r).next(e=>{e.forEach((e,n)=>{t.set(e,n)})})}computeViews(e,t,n,r){let i=wd();const s=Sd(),o=Sd();return t.forEach((e,t)=>{const o=n.get(t.key);r.has(t.key)&&(void 0===o||o.mutation instanceof rf)?i=i.insert(t.key,t):void 0!==o?(s.set(t.key,o.mutation.getFieldMask()),Zd(o.mutation,t,o.mutation.getFieldMask(),yc.now())):s.set(t.key,$c.empty())}),this.recalculateAndSaveOverlays(e,i).next(e=>(e.forEach((e,t)=>s.set(e,t)),t.forEach((e,t)=>{var n;return o.set(e,new Ep(t,null!==(n=s.get(e))&&void 0!==n?n:null))}),o))}recalculateAndSaveOverlays(e,t){const n=Sd();let r=new Hc((e,t)=>e-t),i=Ad();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(e=>{for(const i of e)i.keys().forEach(e=>{const s=t.get(e);if(null===s)return;let o=n.get(e)||$c.empty();o=i.applyToLocalView(s,o),n.set(e,o);const a=(r.get(i.batchId)||Ad()).add(e);r=r.insert(i.batchId,a)})}).next(()=>{const s=[],o=r.getReverseIterator();for(;o.hasNext();){const r=o.getNext(),a=r.key,l=r.value,u=Td();l.forEach(e=>{if(!i.has(e)){const r=Xd(t.get(e),n.get(e));null!==r&&u.set(e,r),i=i.add(e)}}),s.push(this.documentOverlayCache.saveOverlays(e,a,u))}return Oc.waitFor(s)}).next(()=>n)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(t=>this.recalculateAndSaveOverlays(e,t))}getDocumentsMatchingQuery(e,t,n){return function(e){return kc.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):sd(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n):this.getDocumentsMatchingCollectionQuery(e,t,n)}getNextDocuments(e,t,n,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next(i=>{const s=r-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-i.size):Oc.resolve(kd());let o=-1,a=i;return s.next(t=>Oc.forEach(t,(t,n)=>(o<n.largestBatchId&&(o=n.largestBatchId),i.get(t)?Oc.resolve():this.remoteDocumentCache.getEntry(e,t).next(e=>{a=a.insert(t,e)}))).next(()=>this.populateOverlays(e,t,i)).next(()=>this.computeViews(e,a,t,Ad())).next(e=>({batchId:o,changes:_d(e)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new kc(t)).next(e=>{let t=Ed();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t})}getDocumentsMatchingCollectionGroupQuery(e,t,n){const r=t.collectionGroup;let i=Ed();return this.indexManager.getCollectionParents(e,r).next(s=>Oc.forEach(s,s=>{const o=function(e,t){return new Zh(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,s.child(r));return this.getDocumentsMatchingCollectionQuery(e,o,n).next(e=>{e.forEach((e,t)=>{i=i.insert(e,t)})})}).next(()=>i))}getDocumentsMatchingCollectionQuery(e,t,n){let r;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next(i=>(r=i,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,r))).next(e=>{r.forEach((t,n)=>{const r=n.getKey();null===e.get(r)&&(e=e.insert(r,Sh.newInvalidDocument(r)))});let n=Ed();return e.forEach((e,i)=>{const s=r.get(e);void 0!==s&&Zd(s.mutation,i,$c.empty(),yc.now()),fd(t,i)&&(n=n.insert(e,i))}),n})}}class kp{constructor(e){this.serializer=e,this.cs=new Map,this.hs=new Map}getBundleMetadata(e,t){return Oc.resolve(this.cs.get(t))}saveBundleMetadata(e,t){var n;return this.cs.set(t.id,{id:(n=t).id,version:n.version,createTime:qf(n.createTime)}),Oc.resolve()}getNamedQuery(e,t){return Oc.resolve(this.hs.get(t))}saveNamedQuery(e,t){return this.hs.set(t.name,function(e){return{name:e.name,query:pp(e.bundledQuery),readTime:qf(e.readTime)}}(t)),Oc.resolve()}}class Tp{constructor(){this.overlays=new Hc(kc.comparator),this.ls=new Map}getOverlay(e,t){return Oc.resolve(this.overlays.get(t))}getOverlays(e,t){const n=kd();return Oc.forEach(t,t=>this.getOverlay(e,t).next(e=>{null!==e&&n.set(t,e)})).next(()=>n)}saveOverlays(e,t,n){return n.forEach((n,r)=>{this.we(e,t,r)}),Oc.resolve()}removeOverlaysForBatchId(e,t,n){const r=this.ls.get(n);return void 0!==r&&(r.forEach(e=>this.overlays=this.overlays.remove(e)),this.ls.delete(n)),Oc.resolve()}getOverlaysForCollection(e,t,n){const r=kd(),i=t.length+1,s=new kc(t.child("")),o=this.overlays.getIteratorFrom(s);for(;o.hasNext();){const e=o.getNext().value,s=e.getKey();if(!t.isPrefixOf(s.path))break;s.path.length===i&&e.largestBatchId>n&&r.set(e.getKey(),e)}return Oc.resolve(r)}getOverlaysForCollectionGroup(e,t,n,r){let i=new Hc((e,t)=>e-t);const s=this.overlays.getIterator();for(;s.hasNext();){const e=s.getNext().value;if(e.getKey().getCollectionGroup()===t&&e.largestBatchId>n){let t=i.get(e.largestBatchId);null===t&&(t=kd(),i=i.insert(e.largestBatchId,t)),t.set(e.getKey(),e)}}const o=kd(),a=i.getIterator();for(;a.hasNext()&&(a.getNext().value.forEach((e,t)=>o.set(e,t)),!(o.size()>=r)););return Oc.resolve(o)}we(e,t,n){const r=this.overlays.get(n.key);if(null!==r){const e=this.ls.get(r.largestBatchId).delete(n.key);this.ls.set(r.largestBatchId,e)}this.overlays=this.overlays.insert(n.key,new df(t,n));let i=this.ls.get(t);void 0===i&&(i=Ad(),this.ls.set(t,i)),this.ls.set(t,i.add(n.key))}}class Sp{constructor(){this.fs=new Gc(Ip.ds),this.ws=new Gc(Ip._s)}isEmpty(){return this.fs.isEmpty()}addReference(e,t){const n=new Ip(e,t);this.fs=this.fs.add(n),this.ws=this.ws.add(n)}gs(e,t){e.forEach(e=>this.addReference(e,t))}removeReference(e,t){this.ys(new Ip(e,t))}ps(e,t){e.forEach(e=>this.removeReference(e,t))}Is(e){const t=new kc(new bc([])),n=new Ip(t,e),r=new Ip(t,e+1),i=[];return this.ws.forEachInRange([n,r],e=>{this.ys(e),i.push(e.key)}),i}Ts(){this.fs.forEach(e=>this.ys(e))}ys(e){this.fs=this.fs.delete(e),this.ws=this.ws.delete(e)}Es(e){const t=new kc(new bc([])),n=new Ip(t,e),r=new Ip(t,e+1);let i=Ad();return this.ws.forEachInRange([n,r],e=>{i=i.add(e.key)}),i}containsKey(e){const t=new Ip(e,0),n=this.fs.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}class Ip{constructor(e,t){this.key=e,this.As=t}static ds(e,t){return kc.comparator(e.key,t.key)||gc(e.As,t.As)}static _s(e,t){return gc(e.As,t.As)||kc.comparator(e.key,t.key)}}class Cp{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.vs=1,this.Rs=new Gc(Ip.ds)}checkEmpty(e){return Oc.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,n,r){const i=this.vs;this.vs++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const s=new cf(i,t,n,r);this.mutationQueue.push(s);for(const o of r)this.Rs=this.Rs.add(new Ip(o.key,i)),this.indexManager.addToCollectionParentIndex(e,o.key.path.popLast());return Oc.resolve(s)}lookupMutationBatch(e,t){return Oc.resolve(this.Ps(t))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,r=this.bs(n),i=r<0?0:r;return Oc.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return Oc.resolve(0===this.mutationQueue.length?-1:this.vs-1)}getAllMutationBatches(e){return Oc.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const n=new Ip(t,0),r=new Ip(t,Number.POSITIVE_INFINITY),i=[];return this.Rs.forEachInRange([n,r],e=>{const t=this.Ps(e.As);i.push(t)}),Oc.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new Gc(gc);return t.forEach(e=>{const t=new Ip(e,0),r=new Ip(e,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([t,r],e=>{n=n.add(e.As)})}),Oc.resolve(this.Vs(n))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,r=n.length+1;let i=n;kc.isDocumentKey(i)||(i=i.child(""));const s=new Ip(new kc(i),0);let o=new Gc(gc);return this.Rs.forEachWhile(e=>{const t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(o=o.add(e.As)),!0)},s),Oc.resolve(this.Vs(o))}Vs(e){const t=[];return e.forEach(e=>{const n=this.Ps(e);null!==n&&t.push(n)}),t}removeMutationBatch(e,t){ec(0===this.Ss(t.batchId,"removed")),this.mutationQueue.shift();let n=this.Rs;return Oc.forEach(t.mutations,r=>{const i=new Ip(r.key,t.batchId);return n=n.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)}).next(()=>{this.Rs=n})}Cn(e){}containsKey(e,t){const n=new Ip(t,0),r=this.Rs.firstAfterOrEqual(n);return Oc.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,Oc.resolve()}Ss(e,t){return this.bs(e)}bs(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Ps(e){const t=this.bs(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class Ap{constructor(e){this.Ds=e,this.docs=new Hc(kc.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const n=t.key,r=this.docs.get(n),i=r?r.size:0,s=this.Ds(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:s}),this.size+=s-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const n=this.docs.get(t);return Oc.resolve(n?n.document.mutableCopy():Sh.newInvalidDocument(t))}getEntries(e,t){let n=wd();return t.forEach(e=>{const t=this.docs.get(e);n=n.insert(e,t?t.document.mutableCopy():Sh.newInvalidDocument(e))}),Oc.resolve(n)}getDocumentsMatchingQuery(e,t,n,r){let i=wd();const s=t.path,o=new kc(s.child("")),a=this.docs.getIteratorFrom(o);for(;a.hasNext();){const{key:e,value:{document:o}}=a.getNext();if(!s.isPrefixOf(e.path))break;e.path.length>s.length+1||Ac(Ic(o),n)<=0||(r.has(o.key)||fd(t,o))&&(i=i.insert(o.key,o.mutableCopy()))}return Oc.resolve(i)}getAllFromCollectionGroup(e,t,n,r){Zu()}Cs(e,t){return Oc.forEach(this.docs,e=>t(e))}newChangeBuffer(e){return new Np(this)}getSize(e){return Oc.resolve(this.size)}}class Np extends bp{constructor(e){super(),this.os=e}applyChanges(e){const t=[];return this.changes.forEach((n,r)=>{r.isValidDocument()?t.push(this.os.addEntry(e,r)):this.os.removeEntry(n)}),Oc.waitFor(t)}getFromCache(e,t){return this.os.getEntry(e,t)}getAllFromCache(e,t){return this.os.getEntries(e,t)}}class Rp{constructor(e){this.persistence=e,this.xs=new yd(e=>Yh(e),Xh),this.lastRemoteSnapshotVersion=vc.min(),this.highestTargetId=0,this.Ns=0,this.ks=new Sp,this.targetCount=0,this.Ms=wp.kn()}forEachTarget(e,t){return this.xs.forEach((e,n)=>t(n)),Oc.resolve()}getLastRemoteSnapshotVersion(e){return Oc.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Oc.resolve(this.Ns)}allocateTargetId(e){return this.highestTargetId=this.Ms.next(),Oc.resolve(this.highestTargetId)}setTargetsMetadata(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.Ns&&(this.Ns=t),Oc.resolve()}Fn(e){this.xs.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Ms=new wp(t),this.highestTargetId=t),e.sequenceNumber>this.Ns&&(this.Ns=e.sequenceNumber)}addTargetData(e,t){return this.Fn(t),this.targetCount+=1,Oc.resolve()}updateTargetData(e,t){return this.Fn(t),Oc.resolve()}removeTargetData(e,t){return this.xs.delete(t.target),this.ks.Is(t.targetId),this.targetCount-=1,Oc.resolve()}removeTargets(e,t,n){let r=0;const i=[];return this.xs.forEach((s,o)=>{o.sequenceNumber<=t&&null===n.get(o.targetId)&&(this.xs.delete(s),i.push(this.removeMatchingKeysForTargetId(e,o.targetId)),r++)}),Oc.waitFor(i).next(()=>r)}getTargetCount(e){return Oc.resolve(this.targetCount)}getTargetData(e,t){const n=this.xs.get(t)||null;return Oc.resolve(n)}addMatchingKeys(e,t,n){return this.ks.gs(t,n),Oc.resolve()}removeMatchingKeys(e,t,n){this.ks.ps(t,n);const r=this.persistence.referenceDelegate,i=[];return r&&t.forEach(t=>{i.push(r.markPotentiallyOrphaned(e,t))}),Oc.waitFor(i)}removeMatchingKeysForTargetId(e,t){return this.ks.Is(t),Oc.resolve()}getMatchingKeysForTargetId(e,t){const n=this.ks.Es(t);return Oc.resolve(n)}containsKey(e,t){return Oc.resolve(this.ks.containsKey(t))}}class xp{constructor(e,t){this.$s={},this.overlays={},this.Os=new Dc(0),this.Fs=!1,this.Fs=!0,this.referenceDelegate=e(this),this.Bs=new Rp(this),this.indexManager=new mp,this.remoteDocumentCache=function(e){return new Ap(e)}(e=>this.referenceDelegate.Ls(e)),this.serializer=new fp(t),this.qs=new kp(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Fs=!1,Promise.resolve()}get started(){return this.Fs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new Tp,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let n=this.$s[e.toKey()];return n||(n=new Cp(t,this.referenceDelegate),this.$s[e.toKey()]=n),n}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.qs}runTransaction(e,t,n){$u("MemoryPersistence","Starting transaction:",e);const r=new Op(this.Os.next());return this.referenceDelegate.Us(),n(r).next(e=>this.referenceDelegate.Ks(r).next(()=>e)).toPromise().then(e=>(r.raiseOnCommittedEvent(),e))}Gs(e,t){return Oc.or(Object.values(this.$s).map(n=>()=>n.containsKey(e,t)))}}class Op extends Rc{constructor(e){super(),this.currentSequenceNumber=e}}class Pp{constructor(e){this.persistence=e,this.Qs=new Sp,this.js=null}static zs(e){return new Pp(e)}get Ws(){if(this.js)return this.js;throw Zu()}addReference(e,t,n){return this.Qs.addReference(n,t),this.Ws.delete(n.toString()),Oc.resolve()}removeReference(e,t,n){return this.Qs.removeReference(n,t),this.Ws.add(n.toString()),Oc.resolve()}markPotentiallyOrphaned(e,t){return this.Ws.add(t.toString()),Oc.resolve()}removeTarget(e,t){this.Qs.Is(t.targetId).forEach(e=>this.Ws.add(e.toString()));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,t.targetId).next(e=>{e.forEach(e=>this.Ws.add(e.toString()))}).next(()=>n.removeTargetData(e,t))}Us(){this.js=new Set}Ks(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Oc.forEach(this.Ws,n=>{const r=kc.fromPath(n);return this.Hs(e,r).next(e=>{e||t.removeEntry(r,vc.min())})}).next(()=>(this.js=null,t.apply(e)))}updateLimboDocument(e,t){return this.Hs(e,t).next(e=>{e?this.Ws.delete(t.toString()):this.Ws.add(t.toString())})}Ls(e){return 0}Hs(e,t){return Oc.or([()=>Oc.resolve(this.Qs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Gs(e,t)])}}class Dp{constructor(e,t,n,r){this.targetId=e,this.fromCache=t,this.Fi=n,this.Bi=r}static Li(e,t){let n=Ad(),r=Ad();for(const i of t.docChanges)switch(i.type){case 0:n=n.add(i.doc.key);break;case 1:r=r.add(i.doc.key)}return new Dp(e,t.fromCache,n,r)}}class Lp{constructor(){this.qi=!1}initialize(e,t){this.Ui=e,this.indexManager=t,this.qi=!0}getDocumentsMatchingQuery(e,t,n,r){return this.Ki(e,t).next(i=>i||this.Gi(e,t,r,n)).next(n=>n||this.Qi(e,t))}Ki(e,t){if(nd(t))return Oc.resolve(null);let n=ad(t);return this.indexManager.getIndexType(e,n).next(r=>0===r?null:(null!==t.limit&&1===r&&(t=ud(t,null,"F"),n=ad(t)),this.indexManager.getDocumentsMatchingTarget(e,n).next(r=>{const i=Ad(...r);return this.Ui.getDocuments(e,i).next(r=>this.indexManager.getMinOffset(e,n).next(n=>{const s=this.ji(t,r);return this.zi(t,s,i,n.readTime)?this.Ki(e,ud(t,null,"F")):this.Wi(e,s,t,n)}))})))}Gi(e,t,n,r){return nd(t)||r.isEqual(vc.min())?this.Qi(e,t):this.Ui.getDocuments(e,n).next(i=>{const s=this.ji(t,i);return this.zi(t,s,n,r)?this.Qi(e,t):(Qu()<=$e.DEBUG&&$u("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),dd(t)),this.Wi(e,s,t,Sc(r,-1)))})}ji(e,t){let n=new Gc(gd(e));return t.forEach((t,r)=>{fd(e,r)&&(n=n.add(r))}),n}zi(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;const i="F"===e.limitType?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}Qi(e,t){return Qu()<=$e.DEBUG&&$u("QueryEngine","Using full collection scan to execute query:",dd(t)),this.Ui.getDocumentsMatchingQuery(e,t,Cc.min())}Wi(e,t,n,r){return this.Ui.getDocumentsMatchingQuery(e,n,r).next(e=>(t.forEach(t=>{e=e.insert(t.key,t)}),e))}}class Mp{constructor(e,t,n,r){this.persistence=e,this.Hi=t,this.serializer=r,this.Ji=new Hc(gc),this.Yi=new yd(e=>Yh(e),Xh),this.Xi=new Map,this.Zi=e.getRemoteDocumentCache(),this.Bs=e.getTargetCache(),this.qs=e.getBundleCache(),this.tr(n)}tr(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new _p(this.Zi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Zi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ji))}}function Up(e,t,n,r){return new Mp(e,t,n,r)}async function Fp(e,t){const n=tc(e);return await n.persistence.runTransaction("Handle user change","readonly",e=>{let r;return n.mutationQueue.getAllMutationBatches(e).next(i=>(r=i,n.tr(t),n.mutationQueue.getAllMutationBatches(e))).next(t=>{const i=[],s=[];let o=Ad();for(const e of r){i.push(e.batchId);for(const t of e.mutations)o=o.add(t.key)}for(const e of t){s.push(e.batchId);for(const t of e.mutations)o=o.add(t.key)}return n.localDocuments.getDocuments(e,o).next(e=>({er:e,removedBatchIds:i,addedBatchIds:s}))})})}function Vp(e){const t=tc(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",e=>t.Bs.getLastRemoteSnapshotVersion(e))}function jp(e,t,n){let r=Ad(),i=Ad();return n.forEach(e=>r=r.add(e)),t.getEntries(e,r).next(e=>{let r=wd();return n.forEach((n,s)=>{const o=e.get(n);s.isFoundDocument()!==o.isFoundDocument()&&(i=i.add(n)),s.isNoDocument()&&s.version.isEqual(vc.min())?(t.removeEntry(n,s.readTime),r=r.insert(n,s)):!o.isValidDocument()||s.version.compareTo(o.version)>0||0===s.version.compareTo(o.version)&&o.hasPendingWrites?(t.addEntry(s),r=r.insert(n,s)):$u("LocalStore","Ignoring outdated watch update for ",n,". Current version:",o.version," Watch version:",s.version)}),{nr:r,sr:i}})}function zp(e,t){const n=tc(e);return n.persistence.runTransaction("Get next mutation batch","readonly",e=>(void 0===t&&(t=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(e,t)))}function Bp(e,t){const n=tc(e);return n.persistence.runTransaction("Allocate target","readwrite",e=>{let r;return n.Bs.getTargetData(e,t).next(i=>i?(r=i,Oc.resolve(r)):n.Bs.allocateTargetId(e).next(i=>(r=new dp(t,i,"TargetPurposeListen",e.currentSequenceNumber),n.Bs.addTargetData(e,r).next(()=>r))))}).then(e=>{const r=n.Ji.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Ji=n.Ji.insert(e.targetId,e),n.Yi.set(t,e.targetId)),e})}async function qp(e,t,n){const r=tc(e),i=r.Ji.get(t),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,e=>r.persistence.referenceDelegate.removeTarget(e,i))}catch(e){if(!Pc(e))throw e;$u("LocalStore","Failed to update sequence numbers for target ".concat(t,": ").concat(e))}r.Ji=r.Ji.remove(t),r.Yi.delete(i.target)}function Hp(e,t,n){const r=tc(e);let i=vc.min(),s=Ad();return r.persistence.runTransaction("Execute query","readonly",e=>function(e,t,n){const r=tc(e),i=r.Yi.get(n);return void 0!==i?Oc.resolve(r.Ji.get(i)):r.Bs.getTargetData(t,n)}(r,e,ad(t)).next(t=>{if(t)return i=t.lastLimboFreeSnapshotVersion,r.Bs.getMatchingKeysForTargetId(e,t.targetId).next(e=>{s=e})}).next(()=>r.Hi.getDocumentsMatchingQuery(e,t,n?i:vc.min(),n?s:Ad())).next(e=>(Kp(r,pd(t),e),{documents:e,ir:s})))}function Kp(e,t,n){let r=e.Xi.get(t)||vc.min();n.forEach((e,t)=>{t.readTime.compareTo(r)>0&&(r=t.readTime)}),e.Xi.set(t,r)}class Wp{constructor(){this.activeTargetIds=Rd()}lr(e){this.activeTargetIds=this.activeTargetIds.add(e)}dr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}hr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Gp{constructor(){this.Hr=new Wp,this.Jr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,n){}addLocalQueryTarget(e){return this.Hr.lr(e),this.Jr[e]||"not-current"}updateQueryState(e,t,n){this.Jr[e]=t}removeLocalQueryTarget(e){this.Hr.dr(e)}isLocalQueryTarget(e){return this.Hr.activeTargetIds.has(e)}clearQueryState(e){delete this.Jr[e]}getAllActiveQueryTargets(){return this.Hr.activeTargetIds}isActiveQueryTarget(e){return this.Hr.activeTargetIds.has(e)}start(){return this.Hr=new Wp,Promise.resolve()}handleUserChange(e,t,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class Qp{Yr(e){}shutdown(){}}class $p{constructor(){this.Xr=()=>this.Zr(),this.eo=()=>this.no(),this.so=[],this.io()}Yr(e){this.so.push(e)}shutdown(){window.removeEventListener("online",this.Xr),window.removeEventListener("offline",this.eo)}io(){window.addEventListener("online",this.Xr),window.addEventListener("offline",this.eo)}Zr(){$u("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.so)e(0)}no(){$u("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.so)e(1)}static D(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let Yp=null;function Xp(){return null===Yp?Yp=268435456+Math.round(2147483648*Math.random()):Yp++,"0x"+Yp.toString(16)}const Jp={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Zp{constructor(e){this.ro=e.ro,this.oo=e.oo}uo(e){this.co=e}ao(e){this.ho=e}onMessage(e){this.lo=e}close(){this.oo()}send(e){this.ro(e)}fo(){this.co()}wo(e){this.ho(e)}_o(e){this.lo(e)}}const eg="WebChannelConnection";class tg extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http";this.mo=t+"://"+e.host,this.yo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get po(){return!1}Io(e,t,n,r,i){const s=Xp(),o=this.To(e,t);$u("RestConnection","Sending RPC '".concat(e,"' ").concat(s,":"),o,n);const a={};return this.Eo(a,r,i),this.Ao(e,o,a,n).then(t=>($u("RestConnection","Received RPC '".concat(e,"' ").concat(s,": "),t),t),t=>{throw Xu("RestConnection","RPC '".concat(e,"' ").concat(s," failed with error: "),t,"url: ",o,"request:",n),t})}vo(e,t,n,r,i,s){return this.Io(e,t,n,r,i)}Eo(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+Wu,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((t,n)=>e[n]=t),n&&n.headers.forEach((t,n)=>e[n]=t)}To(e,t){const n=Jp[e];return"".concat(this.mo,"/v1/").concat(t,":").concat(n)}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ao(e,t,n,r){const i=Xp();return new Promise((s,o)=>{const a=new zu;a.setWithCredentials(!0),a.listenOnce(Mu.COMPLETE,()=>{try{switch(a.getLastErrorCode()){case Lu.NO_ERROR:const t=a.getResponseJson();$u(eg,"XHR for RPC '".concat(e,"' ").concat(i," received:"),JSON.stringify(t)),s(t);break;case Lu.TIMEOUT:$u(eg,"RPC '".concat(e,"' ").concat(i," timed out")),o(new rc(nc.DEADLINE_EXCEEDED,"Request time out"));break;case Lu.HTTP_ERROR:const n=a.getStatus();if($u(eg,"RPC '".concat(e,"' ").concat(i," failed with status:"),n,"response text:",a.getResponseText()),n>0){let e=a.getResponseJson();Array.isArray(e)&&(e=e[0]);const t=null==e?void 0:e.error;if(t&&t.status&&t.message){const e=function(e){const t=e.toLowerCase().replace(/_/g,"-");return Object.values(nc).indexOf(t)>=0?t:nc.UNKNOWN}(t.status);o(new rc(e,t.message))}else o(new rc(nc.UNKNOWN,"Server responded with status "+a.getStatus()))}else o(new rc(nc.UNAVAILABLE,"Connection failed."));break;default:Zu()}}finally{$u(eg,"RPC '".concat(e,"' ").concat(i," completed."))}});const l=JSON.stringify(r);$u(eg,"RPC '".concat(e,"' ").concat(i," sending request:"),r),a.send(t,"POST",l,n,15)})}Ro(e,t,n){const r=Xp(),i=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=Pu(),o=Du(),a={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;void 0!==l&&(a.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(a.xmlHttpFactory=new Vu({})),this.Eo(a.initMessageHeaders,t,n),a.encodeInitMessageHeaders=!0;const u=i.join("");$u(eg,"Creating RPC '".concat(e,"' stream ").concat(r,": ").concat(u),a);const c=s.createWebChannel(u,a);let h=!1,d=!1;const f=new Zp({ro:t=>{d?$u(eg,"Not sending because RPC '".concat(e,"' stream ").concat(r," is closed:"),t):(h||($u(eg,"Opening RPC '".concat(e,"' stream ").concat(r," transport.")),c.open(),h=!0),$u(eg,"RPC '".concat(e,"' stream ").concat(r," sending:"),t),c.send(t))},oo:()=>c.close()}),p=(e,t,n)=>{e.listen(t,e=>{try{n(e)}catch(e){setTimeout(()=>{throw e},0)}})};return p(c,ju.EventType.OPEN,()=>{d||$u(eg,"RPC '".concat(e,"' stream ").concat(r," transport opened."))}),p(c,ju.EventType.CLOSE,()=>{d||(d=!0,$u(eg,"RPC '".concat(e,"' stream ").concat(r," transport closed")),f.wo())}),p(c,ju.EventType.ERROR,t=>{d||(d=!0,Xu(eg,"RPC '".concat(e,"' stream ").concat(r," transport errored:"),t),f.wo(new rc(nc.UNAVAILABLE,"The operation could not be completed")))}),p(c,ju.EventType.MESSAGE,t=>{var n;if(!d){const i=t.data[0];ec(!!i);const s=i,o=s.error||(null===(n=s[0])||void 0===n?void 0:n.error);if(o){$u(eg,"RPC '".concat(e,"' stream ").concat(r," received error:"),o);const t=o.status;let n=function(e){const t=pf[e];if(void 0!==t)return yf(t)}(t),i=o.message;void 0===n&&(n=nc.INTERNAL,i="Unknown error status: "+t+" with message "+o.message),d=!0,f.wo(new rc(n,i)),c.close()}else $u(eg,"RPC '".concat(e,"' stream ").concat(r," received:"),i),f._o(i)}}),p(o,Uu.STAT_EVENT,t=>{t.stat===Fu.PROXY?$u(eg,"RPC '".concat(e,"' stream ").concat(r," detected buffering proxy")):t.stat===Fu.NOPROXY&&$u(eg,"RPC '".concat(e,"' stream ").concat(r," detected no buffering proxy"))}),setTimeout(()=>{f.fo()},0),f}}function ng(){return"undefined"!=typeof document?document:null}function rg(e){return new Ff(e,!0)}class ig{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;this.ii=e,this.timerId=t,this.Po=n,this.bo=r,this.Vo=i,this.So=0,this.Do=null,this.Co=Date.now(),this.reset()}reset(){this.So=0}xo(){this.So=this.Vo}No(e){this.cancel();const t=Math.floor(this.So+this.ko()),n=Math.max(0,Date.now()-this.Co),r=Math.max(0,t-n);r>0&&$u("ExponentialBackoff","Backing off for ".concat(r," ms (base delay: ").concat(this.So," ms, delay with jitter: ").concat(t," ms, last attempt: ").concat(n," ms ago)")),this.Do=this.ii.enqueueAfterDelay(this.timerId,r,()=>(this.Co=Date.now(),e())),this.So*=this.bo,this.So<this.Po&&(this.So=this.Po),this.So>this.Vo&&(this.So=this.Vo)}Mo(){null!==this.Do&&(this.Do.skipDelay(),this.Do=null)}cancel(){null!==this.Do&&(this.Do.cancel(),this.Do=null)}ko(){return(Math.random()-.5)*this.So}}class sg{constructor(e,t,n,r,i,s,o,a){this.ii=e,this.$o=n,this.Oo=r,this.connection=i,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=o,this.listener=a,this.state=0,this.Fo=0,this.Bo=null,this.Lo=null,this.stream=null,this.qo=new ig(e,t)}Uo(){return 1===this.state||5===this.state||this.Ko()}Ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Go()}async stop(){this.Uo()&&await this.close(0)}Qo(){this.state=0,this.qo.reset()}jo(){this.Ko()&&null===this.Bo&&(this.Bo=this.ii.enqueueAfterDelay(this.$o,6e4,()=>this.zo()))}Wo(e){this.Ho(),this.stream.send(e)}async zo(){if(this.Ko())return this.close(0)}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}Jo(){this.Lo&&(this.Lo.cancel(),this.Lo=null)}async close(e,t){this.Ho(),this.Jo(),this.qo.cancel(),this.Fo++,4!==e?this.qo.reset():t&&t.code===nc.RESOURCE_EXHAUSTED?(Yu(t.toString()),Yu("Using maximum backoff delay to prevent overloading the backend."),this.qo.xo()):t&&t.code===nc.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.Yo(),this.stream.close(),this.stream=null),this.state=e,await this.listener.ao(t)}Yo(){}auth(){this.state=1;const e=this.Xo(this.Fo),t=this.Fo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(e=>{let[n,r]=e;this.Fo===t&&this.Zo(n,r)},t=>{e(()=>{const e=new rc(nc.UNKNOWN,"Fetching auth token failed: "+t.message);return this.tu(e)})})}Zo(e,t){const n=this.Xo(this.Fo);this.stream=this.eu(e,t),this.stream.uo(()=>{n(()=>(this.state=2,this.Lo=this.ii.enqueueAfterDelay(this.Oo,1e4,()=>(this.Ko()&&(this.state=3),Promise.resolve())),this.listener.uo()))}),this.stream.ao(e=>{n(()=>this.tu(e))}),this.stream.onMessage(e=>{n(()=>this.onMessage(e))})}Go(){this.state=5,this.qo.No(async()=>{this.state=0,this.start()})}tu(e){return $u("PersistentStream","close with error: ".concat(e)),this.stream=null,this.close(4,e)}Xo(e){return t=>{this.ii.enqueueAndForget(()=>this.Fo===e?t():($u("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class og extends sg{constructor(e,t,n,r,i,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,n,r,s),this.serializer=i}eu(e,t){return this.connection.Ro("Listen",e,t)}onMessage(e){this.qo.reset();const t=function(e,t){let n;if("targetChange"in t){t.targetChange;const r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:Zu()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],s=function(e,t){return e.useProto3Json?(ec(void 0===t||"string"==typeof t),Xc.fromBase64String(t||"")):(ec(void 0===t||t instanceof Uint8Array),Xc.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),o=t.targetChange.cause,a=o&&function(e){const t=void 0===e.code?nc.UNKNOWN:yf(e.code);return new rc(t,e.message||"")}(o);n=new Rf(r,i,s,a||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const i=Gf(e,r.document.name),s=qf(r.document.updateTime),o=r.document.createTime?qf(r.document.createTime):vc.min(),a=new kh({mapValue:{fields:r.document.fields}}),l=Sh.newFoundDocument(i,s,o,a),u=r.targetIds||[],c=r.removedTargetIds||[];n=new Af(u,c,l.key,l)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const i=Gf(e,r.document),s=r.readTime?qf(r.readTime):vc.min(),o=Sh.newNoDocument(i,s),a=r.removedTargetIds||[];n=new Af([],a,o.key,o)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const i=Gf(e,r.document),s=r.removedTargetIds||[];n=new Af([],s,i,null)}else{if(!("filter"in t))return Zu();{t.filter;const e=t.filter;e.targetId;const{count:r=0,unchangedNames:i}=e,s=new ff(r,i),o=e.targetId;n=new Nf(o,s)}}return n}(this.serializer,e),n=function(e){if(!("targetChange"in e))return vc.min();const t=e.targetChange;return t.targetIds&&t.targetIds.length?vc.min():t.readTime?qf(t.readTime):vc.min()}(e);return this.listener.nu(t,n)}su(e){const t={};t.database=Yf(this.serializer),t.addTarget=function(e,t){let n;const r=t.target;if(n=Jh(r)?{documents:ep(e,r)}:{query:tp(e,r)},n.targetId=t.targetId,t.resumeToken.approximateByteSize()>0){n.resumeToken=zf(e,t.resumeToken);const r=Vf(e,t.expectedCount);null!==r&&(n.expectedCount=r)}else if(t.snapshotVersion.compareTo(vc.min())>0){n.readTime=jf(e,t.snapshotVersion.toTimestamp());const r=Vf(e,t.expectedCount);null!==r&&(n.expectedCount=r)}return n}(this.serializer,e);const n=function(e,t){const n=function(e){switch(e){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Zu()}}(t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.serializer,e);n&&(t.labels=n),this.Wo(t)}iu(e){const t={};t.database=Yf(this.serializer),t.removeTarget=e,this.Wo(t)}}class ag extends sg{constructor(e,t,n,r,i,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,n,r,s),this.serializer=i,this.ru=!1}get ou(){return this.ru}start(){this.ru=!1,this.lastStreamToken=void 0,super.start()}Yo(){this.ru&&this.uu([])}eu(e,t){return this.connection.Ro("Write",e,t)}onMessage(e){if(ec(!!e.streamToken),this.lastStreamToken=e.streamToken,this.ru){this.qo.reset();const t=function(e,t){return e&&e.length>0?(ec(void 0!==t),e.map(e=>function(e,t){let n=e.updateTime?qf(e.updateTime):qf(t);return n.isEqual(vc.min())&&(n=qf(t)),new Gd(n,e.transformResults||[])}(e,t))):[]}(e.writeResults,e.commitTime),n=qf(e.commitTime);return this.listener.cu(n,t)}return ec(!e.writeResults||0===e.writeResults.length),this.ru=!0,this.listener.au()}hu(){const e={};e.database=Yf(this.serializer),this.Wo(e)}uu(e){const t={streamToken:this.lastStreamToken,writes:e.map(e=>Zf(this.serializer,e))};this.Wo(t)}}class lg extends class{}{constructor(e,t,n,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=n,this.serializer=r,this.lu=!1}fu(){if(this.lu)throw new rc(nc.FAILED_PRECONDITION,"The client has already been terminated.")}Io(e,t,n){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(r=>{let[i,s]=r;return this.connection.Io(e,t,n,i,s)}).catch(e=>{throw"FirebaseError"===e.name?(e.code===nc.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new rc(nc.UNKNOWN,e.toString())})}vo(e,t,n,r){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(i=>{let[s,o]=i;return this.connection.vo(e,t,n,s,o,r)}).catch(e=>{throw"FirebaseError"===e.name?(e.code===nc.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new rc(nc.UNKNOWN,e.toString())})}terminate(){this.lu=!0}}class ug{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.wu=0,this._u=null,this.mu=!0}gu(){0===this.wu&&(this.yu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._u=null,this.pu("Backend didn't respond within 10 seconds."),this.yu("Offline"),Promise.resolve())))}Iu(e){"Online"===this.state?this.yu("Unknown"):(this.wu++,this.wu>=1&&(this.Tu(),this.pu("Connection failed 1 times. Most recent error: ".concat(e.toString())),this.yu("Offline")))}set(e){this.Tu(),this.wu=0,"Online"===e&&(this.mu=!1),this.yu(e)}yu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}pu(e){const t="Could not reach Cloud Firestore backend. ".concat(e,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.mu?(Yu(t),this.mu=!1):$u("OnlineStateTracker",t)}Tu(){null!==this._u&&(this._u.cancel(),this._u=null)}}class cg{constructor(e,t,n,r,i){this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.Eu=[],this.Au=new Map,this.vu=new Set,this.Ru=[],this.Pu=i,this.Pu.Yr(e=>{n.enqueueAndForget(async()=>{wg(this)&&($u("RemoteStore","Restarting streams for network reachability change."),await async function(e){const t=tc(e);t.vu.add(4),await dg(t),t.bu.set("Unknown"),t.vu.delete(4),await hg(t)}(this))})}),this.bu=new ug(n,r)}}async function hg(e){if(wg(e))for(const t of e.Ru)await t(!0)}async function dg(e){for(const t of e.Ru)await t(!1)}function fg(e,t){const n=tc(e);n.Au.has(t.targetId)||(n.Au.set(t.targetId,t),vg(n)?yg(n):Ug(n).Ko()&&gg(n,t))}function pg(e,t){const n=tc(e),r=Ug(n);n.Au.delete(t),r.Ko()&&mg(n,t),0===n.Au.size&&(r.Ko()?r.jo():wg(n)&&n.bu.set("Unknown"))}function gg(e,t){if(e.Vu.qt(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(vc.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}Ug(e).su(t)}function mg(e,t){e.Vu.qt(t),Ug(e).iu(t)}function yg(e){e.Vu=new Of({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),le:t=>e.Au.get(t)||null,ue:()=>e.datastore.serializer.databaseId}),Ug(e).start(),e.bu.gu()}function vg(e){return wg(e)&&!Ug(e).Uo()&&e.Au.size>0}function wg(e){return 0===tc(e).vu.size}function bg(e){e.Vu=void 0}async function Eg(e){e.Au.forEach((t,n)=>{gg(e,t)})}async function _g(e,t){bg(e),vg(e)?(e.bu.Iu(t),yg(e)):e.bu.set("Unknown")}async function kg(e,t,n){if(e.bu.set("Online"),t instanceof Rf&&2===t.state&&t.cause)try{await async function(e,t){const n=t.cause;for(const r of t.targetIds)e.Au.has(r)&&(await e.remoteSyncer.rejectListen(r,n),e.Au.delete(r),e.Vu.removeTarget(r))}(e,t)}catch(n){$u("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),n),await Tg(e,n)}else if(t instanceof Af?e.Vu.Ht(t):t instanceof Nf?e.Vu.ne(t):e.Vu.Xt(t),!n.isEqual(vc.min()))try{const t=await Vp(e.localStore);n.compareTo(t)>=0&&await function(e,t){const n=e.Vu.ce(t);return n.targetChanges.forEach((n,r)=>{if(n.resumeToken.approximateByteSize()>0){const i=e.Au.get(r);i&&e.Au.set(r,i.withResumeToken(n.resumeToken,t))}}),n.targetMismatches.forEach((t,n)=>{const r=e.Au.get(t);if(!r)return;e.Au.set(t,r.withResumeToken(Xc.EMPTY_BYTE_STRING,r.snapshotVersion)),mg(e,t);const i=new dp(r.target,t,n,r.sequenceNumber);gg(e,i)}),e.remoteSyncer.applyRemoteEvent(n)}(e,n)}catch(t){$u("RemoteStore","Failed to raise snapshot:",t),await Tg(e,t)}}async function Tg(e,t,n){if(!Pc(t))throw t;e.vu.add(1),await dg(e),e.bu.set("Offline"),n||(n=()=>Vp(e.localStore)),e.asyncQueue.enqueueRetryable(async()=>{$u("RemoteStore","Retrying IndexedDB access"),await n(),e.vu.delete(1),await hg(e)})}function Sg(e,t){return t().catch(n=>Tg(e,n,t))}async function Ig(e){const t=tc(e),n=Fg(t);let r=t.Eu.length>0?t.Eu[t.Eu.length-1].batchId:-1;for(;Cg(t);)try{const e=await zp(t.localStore,r);if(null===e){0===t.Eu.length&&n.jo();break}r=e.batchId,Ag(t,e)}catch(e){await Tg(t,e)}Ng(t)&&Rg(t)}function Cg(e){return wg(e)&&e.Eu.length<10}function Ag(e,t){e.Eu.push(t);const n=Fg(e);n.Ko()&&n.ou&&n.uu(t.mutations)}function Ng(e){return wg(e)&&!Fg(e).Uo()&&e.Eu.length>0}function Rg(e){Fg(e).start()}async function xg(e){Fg(e).hu()}async function Og(e){const t=Fg(e);for(const n of e.Eu)t.uu(n.mutations)}async function Pg(e,t,n){const r=e.Eu.shift(),i=hf.from(r,t,n);await Sg(e,()=>e.remoteSyncer.applySuccessfulWrite(i)),await Ig(e)}async function Dg(e,t){t&&Fg(e).ou&&await async function(e,t){if(mf(n=t.code)&&n!==nc.ABORTED){const n=e.Eu.shift();Fg(e).Qo(),await Sg(e,()=>e.remoteSyncer.rejectFailedWrite(n.batchId,t)),await Ig(e)}var n}(e,t),Ng(e)&&Rg(e)}async function Lg(e,t){const n=tc(e);n.asyncQueue.verifyOperationInProgress(),$u("RemoteStore","RemoteStore received new credentials");const r=wg(n);n.vu.add(3),await dg(n),r&&n.bu.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.vu.delete(3),await hg(n)}async function Mg(e,t){const n=tc(e);t?(n.vu.delete(2),await hg(n)):t||(n.vu.add(2),await dg(n),n.bu.set("Unknown"))}function Ug(e){return e.Su||(e.Su=function(e,t,n){const r=tc(e);return r.fu(),new og(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{uo:Eg.bind(null,e),ao:_g.bind(null,e),nu:kg.bind(null,e)}),e.Ru.push(async t=>{t?(e.Su.Qo(),vg(e)?yg(e):e.bu.set("Unknown")):(await e.Su.stop(),bg(e))})),e.Su}function Fg(e){return e.Du||(e.Du=function(e,t,n){const r=tc(e);return r.fu(),new ag(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{uo:xg.bind(null,e),ao:Dg.bind(null,e),au:Og.bind(null,e),cu:Pg.bind(null,e)}),e.Ru.push(async t=>{t?(e.Du.Qo(),await Ig(e)):(await e.Du.stop(),e.Eu.length>0&&($u("RemoteStore","Stopping write stream with ".concat(e.Eu.length," pending writes")),e.Eu=[]))})),e.Du}class Vg{constructor(e,t,n,r,i){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new ic,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(e=>{})}static createAndSchedule(e,t,n,r,i){const s=Date.now()+n,o=new Vg(e,t,s,r,i);return o.start(n),o}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new rc(nc.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function jg(e,t){if(Yu("AsyncQueue","".concat(t,": ").concat(e)),Pc(e))return new rc(nc.UNAVAILABLE,"".concat(t,": ").concat(e));throw e}class zg{constructor(e){this.comparator=e?(t,n)=>e(t,n)||kc.comparator(t.key,n.key):(e,t)=>kc.comparator(e.key,t.key),this.keyedMap=Ed(),this.sortedSet=new Hc(this.comparator)}static emptySet(e){return new zg(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,n)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof zg))return!1;if(this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(!e.isEqual(r))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const n=new zg;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=t,n}}class Bg{constructor(){this.Cu=new Hc(kc.comparator)}track(e){const t=e.doc.key,n=this.Cu.get(t);n?0!==e.type&&3===n.type?this.Cu=this.Cu.insert(t,e):3===e.type&&1!==n.type?this.Cu=this.Cu.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.Cu=this.Cu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.Cu=this.Cu.remove(t):1===e.type&&2===n.type?this.Cu=this.Cu.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):Zu():this.Cu=this.Cu.insert(t,e)}xu(){const e=[];return this.Cu.inorderTraversal((t,n)=>{e.push(n)}),e}}class qg{constructor(e,t,n,r,i,s,o,a,l){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=s,this.syncStateChanged=o,this.excludesMetadataChanges=a,this.hasCachedResults=l}static fromInitialDocuments(e,t,n,r,i){const s=[];return t.forEach(e=>{s.push({type:0,doc:e})}),new qg(e,t,zg.emptySet(t),s,n,r,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&cd(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(let r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}class Hg{constructor(){this.Nu=void 0,this.listeners=[]}}class Kg{constructor(){this.queries=new yd(e=>hd(e),cd),this.onlineState="Unknown",this.ku=new Set}}async function Wg(e,t){const n=tc(e),r=t.query;let i=!1,s=n.queries.get(r);if(s||(i=!0,s=new Hg),i)try{s.Nu=await n.onListen(r)}catch(e){const n=jg(e,"Initialization of query '".concat(dd(t.query),"' failed"));return void t.onError(n)}n.queries.set(r,s),s.listeners.push(t),t.Mu(n.onlineState),s.Nu&&t.$u(s.Nu)&&Yg(n)}async function Gg(e,t){const n=tc(e),r=t.query;let i=!1;const s=n.queries.get(r);if(s){const e=s.listeners.indexOf(t);e>=0&&(s.listeners.splice(e,1),i=0===s.listeners.length)}if(i)return n.queries.delete(r),n.onUnlisten(r)}function Qg(e,t){const n=tc(e);let r=!1;for(const i of t){const e=i.query,t=n.queries.get(e);if(t){for(const e of t.listeners)e.$u(i)&&(r=!0);t.Nu=i}}r&&Yg(n)}function $g(e,t,n){const r=tc(e),i=r.queries.get(t);if(i)for(const s of i.listeners)s.onError(n);r.queries.delete(t)}function Yg(e){e.ku.forEach(e=>{e.next()})}class Xg{constructor(e,t,n){this.query=e,this.Ou=t,this.Fu=!1,this.Bu=null,this.onlineState="Unknown",this.options=n||{}}$u(e){if(!this.options.includeMetadataChanges){const t=[];for(const n of e.docChanges)3!==n.type&&t.push(n);e=new qg(e.query,e.docs,e.oldDocs,t,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Fu?this.Lu(e)&&(this.Ou.next(e),t=!0):this.qu(e,this.onlineState)&&(this.Uu(e),t=!0),this.Bu=e,t}onError(e){this.Ou.error(e)}Mu(e){this.onlineState=e;let t=!1;return this.Bu&&!this.Fu&&this.qu(this.Bu,e)&&(this.Uu(this.Bu),t=!0),t}qu(e,t){if(!e.fromCache)return!0;const n="Offline"!==t;return(!this.options.Ku||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Lu(e){if(e.docChanges.length>0)return!0;const t=this.Bu&&this.Bu.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}Uu(e){e=qg.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Fu=!0,this.Ou.next(e)}}class Jg{constructor(e){this.key=e}}class Zg{constructor(e){this.key=e}}class em{constructor(e,t){this.query=e,this.Yu=t,this.Xu=null,this.hasCachedResults=!1,this.current=!1,this.Zu=Ad(),this.mutatedKeys=Ad(),this.tc=gd(e),this.ec=new zg(this.tc)}get nc(){return this.Yu}sc(e,t){const n=t?t.ic:new Bg,r=t?t.ec:this.ec;let i=t?t.mutatedKeys:this.mutatedKeys,s=r,o=!1;const a="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,l="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal((e,t)=>{const u=r.get(e),c=fd(this.query,t)?t:null,h=!!u&&this.mutatedKeys.has(u.key),d=!!c&&(c.hasLocalMutations||this.mutatedKeys.has(c.key)&&c.hasCommittedMutations);let f=!1;u&&c?u.data.isEqual(c.data)?h!==d&&(n.track({type:3,doc:c}),f=!0):this.rc(u,c)||(n.track({type:2,doc:c}),f=!0,(a&&this.tc(c,a)>0||l&&this.tc(c,l)<0)&&(o=!0)):!u&&c?(n.track({type:0,doc:c}),f=!0):u&&!c&&(n.track({type:1,doc:u}),f=!0,(a||l)&&(o=!0)),f&&(c?(s=s.add(c),i=d?i.add(e):i.delete(e)):(s=s.delete(e),i=i.delete(e)))}),null!==this.query.limit)for(;s.size>this.query.limit;){const e="F"===this.query.limitType?s.last():s.first();s=s.delete(e.key),i=i.delete(e.key),n.track({type:1,doc:e})}return{ec:s,ic:n,zi:o,mutatedKeys:i}}rc(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,n){const r=this.ec;this.ec=e.ec,this.mutatedKeys=e.mutatedKeys;const i=e.ic.xu();i.sort((e,t)=>function(e,t){const n=e=>{switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Zu()}};return n(e)-n(t)}(e.type,t.type)||this.tc(e.doc,t.doc)),this.oc(n);const s=t?this.uc():[],o=0===this.Zu.size&&this.current?1:0,a=o!==this.Xu;return this.Xu=o,0!==i.length||a?{snapshot:new qg(this.query,e.ec,r,i,e.mutatedKeys,0===o,a,!1,!!n&&n.resumeToken.approximateByteSize()>0),cc:s}:{cc:s}}Mu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({ec:this.ec,ic:new Bg,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{cc:[]}}ac(e){return!this.Yu.has(e)&&!!this.ec.has(e)&&!this.ec.get(e).hasLocalMutations}oc(e){e&&(e.addedDocuments.forEach(e=>this.Yu=this.Yu.add(e)),e.modifiedDocuments.forEach(e=>{}),e.removedDocuments.forEach(e=>this.Yu=this.Yu.delete(e)),this.current=e.current)}uc(){if(!this.current)return[];const e=this.Zu;this.Zu=Ad(),this.ec.forEach(e=>{this.ac(e.key)&&(this.Zu=this.Zu.add(e.key))});const t=[];return e.forEach(e=>{this.Zu.has(e)||t.push(new Zg(e))}),this.Zu.forEach(n=>{e.has(n)||t.push(new Jg(n))}),t}hc(e){this.Yu=e.ir,this.Zu=Ad();const t=this.sc(e.documents);return this.applyChanges(t,!0)}lc(){return qg.fromInitialDocuments(this.query,this.ec,this.mutatedKeys,0===this.Xu,this.hasCachedResults)}}class tm{constructor(e,t,n){this.query=e,this.targetId=t,this.view=n}}class nm{constructor(e){this.key=e,this.fc=!1}}class rm{constructor(e,t,n,r,i,s){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=s,this.dc={},this.wc=new yd(e=>hd(e),cd),this._c=new Map,this.mc=new Set,this.gc=new Hc(kc.comparator),this.yc=new Map,this.Ic=new Sp,this.Tc={},this.Ec=new Map,this.Ac=wp.Mn(),this.onlineState="Unknown",this.vc=void 0}get isPrimaryClient(){return!0===this.vc}}async function im(e,t){const n=_m(e);let r,i;const s=n.wc.get(t);if(s)r=s.targetId,n.sharedClientState.addLocalQueryTarget(r),i=s.view.lc();else{const e=await Bp(n.localStore,ad(t)),s=n.sharedClientState.addLocalQueryTarget(e.targetId);r=e.targetId,i=await sm(n,t,r,"current"===s,e.resumeToken),n.isPrimaryClient&&fg(n.remoteStore,e)}return i}async function sm(e,t,n,r,i){e.Rc=(t,n,r)=>async function(e,t,n,r){let i=t.view.sc(n);i.zi&&(i=await Hp(e.localStore,t.query,!1).then(e=>{let{documents:n}=e;return t.view.sc(n,i)}));const s=r&&r.targetChanges.get(t.targetId),o=t.view.applyChanges(i,e.isPrimaryClient,s);return mm(e,t.targetId,o.cc),o.snapshot}(e,t,n,r);const s=await Hp(e.localStore,t,!0),o=new em(t,s.ir),a=o.sc(s.documents),l=Cf.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==e.onlineState,i),u=o.applyChanges(a,e.isPrimaryClient,l);mm(e,n,u.cc);const c=new tm(t,n,o);return e.wc.set(t,c),e._c.has(n)?e._c.get(n).push(t):e._c.set(n,[t]),u.snapshot}async function om(e,t){const n=tc(e),r=n.wc.get(t),i=n._c.get(r.targetId);if(i.length>1)return n._c.set(r.targetId,i.filter(e=>!cd(e,t))),void n.wc.delete(t);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||await qp(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),pg(n.remoteStore,r.targetId),pm(n,r.targetId)}).catch(xc)):(pm(n,r.targetId),await qp(n.localStore,r.targetId,!0))}async function am(e,t){const n=tc(e);try{const e=await function(e,t){const n=tc(e),r=t.snapshotVersion;let i=n.Ji;return n.persistence.runTransaction("Apply remote event","readwrite-primary",e=>{const s=n.Zi.newChangeBuffer({trackRemovals:!0});i=n.Ji;const o=[];t.targetChanges.forEach((s,a)=>{const l=i.get(a);if(!l)return;o.push(n.Bs.removeMatchingKeys(e,s.removedDocuments,a).next(()=>n.Bs.addMatchingKeys(e,s.addedDocuments,a)));let u=l.withSequenceNumber(e.currentSequenceNumber);null!==t.targetMismatches.get(a)?u=u.withResumeToken(Xc.EMPTY_BYTE_STRING,vc.min()).withLastLimboFreeSnapshotVersion(vc.min()):s.resumeToken.approximateByteSize()>0&&(u=u.withResumeToken(s.resumeToken,r)),i=i.insert(a,u),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0}(l,u,s)&&o.push(n.Bs.updateTargetData(e,u))});let a=wd(),l=Ad();if(t.documentUpdates.forEach(r=>{t.resolvedLimboDocuments.has(r)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))}),o.push(jp(e,s,t.documentUpdates).next(e=>{a=e.nr,l=e.sr})),!r.isEqual(vc.min())){const t=n.Bs.getLastRemoteSnapshotVersion(e).next(t=>n.Bs.setTargetsMetadata(e,e.currentSequenceNumber,r));o.push(t)}return Oc.waitFor(o).next(()=>s.apply(e)).next(()=>n.localDocuments.getLocalViewOfDocuments(e,a,l)).next(()=>a)}).then(e=>(n.Ji=i,e))}(n.localStore,t);t.targetChanges.forEach((e,t)=>{const r=n.yc.get(t);r&&(ec(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?r.fc=!0:e.modifiedDocuments.size>0?ec(r.fc):e.removedDocuments.size>0&&(ec(r.fc),r.fc=!1))}),await wm(n,e,t)}catch(e){await xc(e)}}function lm(e,t,n){const r=tc(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const e=[];r.wc.forEach((n,r)=>{const i=r.view.Mu(t);i.snapshot&&e.push(i.snapshot)}),function(e,t){const n=tc(e);n.onlineState=t;let r=!1;n.queries.forEach((e,n)=>{for(const i of n.listeners)i.Mu(t)&&(r=!0)}),r&&Yg(n)}(r.eventManager,t),e.length&&r.dc.nu(e),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function um(e,t,n){const r=tc(e);r.sharedClientState.updateQueryState(t,"rejected",n);const i=r.yc.get(t),s=i&&i.key;if(s){let e=new Hc(kc.comparator);e=e.insert(s,Sh.newNoDocument(s,vc.min()));const n=Ad().add(s),i=new If(vc.min(),new Map,new Hc(gc),e,n);await am(r,i),r.gc=r.gc.remove(s),r.yc.delete(t),vm(r)}else await qp(r.localStore,t,!1).then(()=>pm(r,t,n)).catch(xc)}async function cm(e,t){const n=tc(e),r=t.batch.batchId;try{const e=await function(e,t){const n=tc(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",e=>{const r=t.batch.keys(),i=n.Zi.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){const i=n.batch,s=i.keys();let o=Oc.resolve();return s.forEach(e=>{o=o.next(()=>r.getEntry(t,e)).next(t=>{const s=n.docVersions.get(e);ec(null!==s),t.version.compareTo(s)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))})}),o.next(()=>e.mutationQueue.removeMutationBatch(t,i))}(n,e,t,i).next(()=>i.apply(e)).next(()=>n.mutationQueue.performConsistencyCheck(e)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){let t=Ad();for(let n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t))).next(()=>n.localDocuments.getDocuments(e,r))})}(n.localStore,t);fm(n,r,null),dm(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await wm(n,e)}catch(e){await xc(e)}}async function hm(e,t,n){const r=tc(e);try{const e=await function(e,t){const n=tc(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",e=>{let r;return n.mutationQueue.lookupMutationBatch(e,t).next(t=>(ec(null!==t),r=t.keys(),n.mutationQueue.removeMutationBatch(e,t))).next(()=>n.mutationQueue.performConsistencyCheck(e)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,r)).next(()=>n.localDocuments.getDocuments(e,r))})}(r.localStore,t);fm(r,t,n),dm(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),await wm(r,e)}catch(n){await xc(n)}}function dm(e,t){(e.Ec.get(t)||[]).forEach(e=>{e.resolve()}),e.Ec.delete(t)}function fm(e,t,n){const r=tc(e);let i=r.Tc[r.currentUser.toKey()];if(i){const e=i.get(t);e&&(n?e.reject(n):e.resolve(),i=i.remove(t)),r.Tc[r.currentUser.toKey()]=i}}function pm(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);for(const r of e._c.get(t))e.wc.delete(r),n&&e.dc.Pc(r,n);e._c.delete(t),e.isPrimaryClient&&e.Ic.Is(t).forEach(t=>{e.Ic.containsKey(t)||gm(e,t)})}function gm(e,t){e.mc.delete(t.path.canonicalString());const n=e.gc.get(t);null!==n&&(pg(e.remoteStore,n),e.gc=e.gc.remove(t),e.yc.delete(n),vm(e))}function mm(e,t,n){for(const r of n)r instanceof Jg?(e.Ic.addReference(r.key,t),ym(e,r)):r instanceof Zg?($u("SyncEngine","Document no longer in limbo: "+r.key),e.Ic.removeReference(r.key,t),e.Ic.containsKey(r.key)||gm(e,r.key)):Zu()}function ym(e,t){const n=t.key,r=n.path.canonicalString();e.gc.get(n)||e.mc.has(r)||($u("SyncEngine","New document in limbo: "+n),e.mc.add(r),vm(e))}function vm(e){for(;e.mc.size>0&&e.gc.size<e.maxConcurrentLimboResolutions;){const t=e.mc.values().next().value;e.mc.delete(t);const n=new kc(bc.fromString(t)),r=e.Ac.next();e.yc.set(r,new nm(n)),e.gc=e.gc.insert(n,r),fg(e.remoteStore,new dp(ad(td(n.path)),r,"TargetPurposeLimboResolution",Dc.ct))}}async function wm(e,t,n){const r=tc(e),i=[],s=[],o=[];r.wc.isEmpty()||(r.wc.forEach((e,a)=>{o.push(r.Rc(a,t,n).then(e=>{if((e||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(a.targetId,(null==e?void 0:e.fromCache)?"not-current":"current"),e){i.push(e);const t=Dp.Li(a.targetId,e);s.push(t)}}))}),await Promise.all(o),r.dc.nu(i),await async function(e,t){const n=tc(e);try{await n.persistence.runTransaction("notifyLocalViewChanges","readwrite",e=>Oc.forEach(t,t=>Oc.forEach(t.Fi,r=>n.persistence.referenceDelegate.addReference(e,t.targetId,r)).next(()=>Oc.forEach(t.Bi,r=>n.persistence.referenceDelegate.removeReference(e,t.targetId,r)))))}catch(e){if(!Pc(e))throw e;$u("LocalStore","Failed to update sequence numbers: "+e)}for(const r of t){const e=r.targetId;if(!r.fromCache){const t=n.Ji.get(e),r=t.snapshotVersion,i=t.withLastLimboFreeSnapshotVersion(r);n.Ji=n.Ji.insert(e,i)}}}(r.localStore,s))}async function bm(e,t){const n=tc(e);if(!n.currentUser.isEqual(t)){$u("SyncEngine","User change. New user:",t.toKey());const e=await Fp(n.localStore,t);n.currentUser=t,function(e){e.Ec.forEach(e=>{e.forEach(e=>{e.reject(new rc(nc.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),e.Ec.clear()}(n),n.sharedClientState.handleUserChange(t,e.removedBatchIds,e.addedBatchIds),await wm(n,e.er)}}function Em(e,t){const n=tc(e),r=n.yc.get(t);if(r&&r.fc)return Ad().add(r.key);{let e=Ad();const r=n._c.get(t);if(!r)return e;for(const t of r){const r=n.wc.get(t);e=e.unionWith(r.view.nc)}return e}}function _m(e){const t=tc(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=am.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=Em.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=um.bind(null,t),t.dc.nu=Qg.bind(null,t.eventManager),t.dc.Pc=$g.bind(null,t.eventManager),t}function km(e){const t=tc(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=cm.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=hm.bind(null,t),t}class Tm{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=rg(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,t){return null}createIndexBackfillerScheduler(e,t){return null}createLocalStore(e){return Up(this.persistence,new Lp,e.initialUser,this.serializer)}createPersistence(e){return new xp(Pp.zs,this.serializer)}createSharedClientState(e){return new Gp}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class Sm{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=e=>lm(this.syncEngine,e,1),this.remoteStore.remoteSyncer.handleCredentialChange=bm.bind(null,this.syncEngine),await Mg(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new Kg}createDatastore(e){const t=rg(e.databaseInfo.databaseId),n=(r=e.databaseInfo,new tg(r));var r;return function(e,t,n,r){return new lg(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,n,t)}createRemoteStore(e){return t=this.localStore,n=this.datastore,r=e.asyncQueue,i=e=>lm(this.syncEngine,e,0),s=$p.D()?new $p:new Qp,new cg(t,n,r,i,s);var t,n,r,i,s}createSyncEngine(e,t){return function(e,t,n,r,i,s,o){const a=new rm(e,t,n,r,i,s);return o&&(a.vc=!0),a}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return async function(e){const t=tc(e);$u("RemoteStore","RemoteStore shutting down."),t.vu.add(5),await dg(t),t.Pu.shutdown(),t.bu.set("Unknown")}(this.remoteStore)}}class Im{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Sc(this.observer.next,e)}error(e){this.observer.error?this.Sc(this.observer.error,e):Yu("Uncaught Error in snapshot listener:",e.toString())}Dc(){this.muted=!0}Sc(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class Cm{constructor(e,t,n,r){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=n,this.databaseInfo=r,this.user=Ku.UNAUTHENTICATED,this.clientId=pc.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(n,async e=>{$u("FirestoreClient","Received user=",e.uid),await this.authCredentialListener(e),this.user=e}),this.appCheckCredentials.start(n,e=>($u("FirestoreClient","Received new app check token=",e),this.appCheckCredentialListener(e,this.user)))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new rc(nc.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ic;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const n=jg(t,"Failed to shutdown persistence");e.reject(n)}}),e.promise}}async function Am(e,t){e.asyncQueue.verifyOperationInProgress(),$u("FirestoreClient","Initializing OfflineComponentProvider");const n=await e.getConfiguration();await t.initialize(n);let r=n.initialUser;e.setCredentialChangeListener(async e=>{r.isEqual(e)||(await Fp(t.localStore,e),r=e)}),t.persistence.setDatabaseDeletedListener(()=>e.terminate()),e._offlineComponents=t}async function Nm(e,t){e.asyncQueue.verifyOperationInProgress();const n=await xm(e);$u("FirestoreClient","Initializing OnlineComponentProvider");const r=await e.getConfiguration();await t.initialize(n,r),e.setCredentialChangeListener(e=>Lg(t.remoteStore,e)),e.setAppCheckTokenChangeListener((e,n)=>Lg(t.remoteStore,n)),e._onlineComponents=t}function Rm(e){return"FirebaseError"===e.name?e.code===nc.FAILED_PRECONDITION||e.code===nc.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||22===e.code||20===e.code||11===e.code}async function xm(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){$u("FirestoreClient","Using user provided OfflineComponentProvider");try{await Am(e,e._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!Rm(n))throw n;Xu("Error using user provided cache. Falling back to memory cache: "+n),await Am(e,new Tm)}}else $u("FirestoreClient","Using default OfflineComponentProvider"),await Am(e,new Tm);return e._offlineComponents}async function Om(e){return e._onlineComponents||(e._uninitializedComponentsProvider?($u("FirestoreClient","Using user provided OnlineComponentProvider"),await Nm(e,e._uninitializedComponentsProvider._online)):($u("FirestoreClient","Using default OnlineComponentProvider"),await Nm(e,new Sm))),e._onlineComponents}function Pm(e){return Om(e).then(e=>e.syncEngine)}async function Dm(e){const t=await Om(e),n=t.eventManager;return n.onListen=im.bind(null,t.syncEngine),n.onUnlisten=om.bind(null,t.syncEngine),n}function Lm(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=new ic;return e.asyncQueue.enqueueAndForget(async()=>function(e,t,n,r,i){const s=new Im({next:s=>{t.enqueueAndForget(()=>Gg(e,o));const a=s.docs.has(n);!a&&s.fromCache?i.reject(new rc(nc.UNAVAILABLE,"Failed to get document because the client is offline.")):a&&s.fromCache&&r&&"server"===r.source?i.reject(new rc(nc.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(s)},error:e=>i.reject(e)}),o=new Xg(td(n.path),s,{includeMetadataChanges:!0,Ku:!0});return Wg(e,o)}(await Dm(e),e.asyncQueue,t,n,r)),r.promise}function Mm(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=new ic;return e.asyncQueue.enqueueAndForget(async()=>function(e,t,n,r,i){const s=new Im({next:n=>{t.enqueueAndForget(()=>Gg(e,o)),n.fromCache&&"server"===r.source?i.reject(new rc(nc.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:e=>i.reject(e)}),o=new Xg(n,s,{includeMetadataChanges:!0,Ku:!0});return Wg(e,o)}(await Dm(e),e.asyncQueue,t,n,r)),r.promise}function Um(e){const t={};return void 0!==e.timeoutSeconds&&(t.timeoutSeconds=e.timeoutSeconds),t}const Fm=new Map;function Vm(e,t,n){if(!n)throw new rc(nc.INVALID_ARGUMENT,"Function ".concat(e,"() cannot be called with an empty ").concat(t,"."))}function jm(e){if(!kc.isDocumentKey(e))throw new rc(nc.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(e," has ").concat(e.length,"."))}function zm(e){if(kc.isDocumentKey(e))throw new rc(nc.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but ".concat(e," has ").concat(e.length,"."))}function Bm(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e="".concat(e.substring(0,20),"...")),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";{const t=function(e){return e.constructor?e.constructor.name:null}(e);return t?"a custom ".concat(t," object"):"an object"}}return"function"==typeof e?"a function":Zu()}function qm(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new rc(nc.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Bm(e);throw new rc(nc.INVALID_ARGUMENT,"Expected type '".concat(t.name,"', but it was: ").concat(n))}}return e}class Hm{constructor(e){var t,n;if(void 0===e.host){if(void 0!==e.ssl)throw new rc(nc.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new rc(nc.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function(e,t,n,r){if(!0===t&&!0===r)throw new rc(nc.INVALID_ARGUMENT,"".concat(e," and ").concat(n," cannot be used together."))})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:void 0===e.experimentalAutoDetectLongPolling?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Um(null!==(n=e.experimentalLongPollingOptions)&&void 0!==n?n:{}),function(e){if(void 0!==e.timeoutSeconds){if(isNaN(e.timeoutSeconds))throw new rc(nc.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (must not be NaN)"));if(e.timeoutSeconds<5)throw new rc(nc.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (minimum allowed value is 5)"));if(e.timeoutSeconds>30)throw new rc(nc.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (maximum allowed value is 30)"))}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(t=this.experimentalLongPollingOptions,n=e.experimentalLongPollingOptions,t.timeoutSeconds===n.timeoutSeconds)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams;var t,n}}class Km{constructor(e,t,n,r){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=n,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Hm({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new rc(nc.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new rc(nc.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Hm(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new oc;switch(e.type){case"firstParty":return new cc(e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new rc(nc.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=Fm.get(e);t&&($u("ComponentProvider","Removing Datastore"),Fm.delete(e),t.terminate())}(this),Promise.resolve()}}class Wm{constructor(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Qm(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Wm(this.firestore,e,this._key)}}class Gm{constructor(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new Gm(this.firestore,e,this._query)}}class Qm extends Gm{constructor(e,t,n){super(e,t,td(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Wm(this.firestore,null,new kc(e))}withConverter(e){return new Qm(this.firestore,e,this._path)}}function $m(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=qe(e),Vm("collection","path",t),e instanceof Km){const n=bc.fromString(t,...r);return zm(n),new Qm(e,null,n)}{if(!(e instanceof Wm||e instanceof Qm))throw new rc(nc.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(bc.fromString(t,...r));return zm(n),new Qm(e.firestore,null,n)}}function Ym(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=qe(e),1===arguments.length&&(t=pc.A()),Vm("doc","path",t),e instanceof Km){const n=bc.fromString(t,...r);return jm(n),new Wm(e,null,new kc(n))}{if(!(e instanceof Wm||e instanceof Qm))throw new rc(nc.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(bc.fromString(t,...r));return jm(n),new Wm(e.firestore,e instanceof Qm?e.converter:null,new kc(n))}}class Xm{constructor(){this.Gc=Promise.resolve(),this.Qc=[],this.jc=!1,this.zc=[],this.Wc=null,this.Hc=!1,this.Jc=!1,this.Yc=[],this.qo=new ig(this,"async_queue_retry"),this.Xc=()=>{const e=ng();e&&$u("AsyncQueue","Visibility state changed to "+e.visibilityState),this.qo.Mo()};const e=ng();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Xc)}get isShuttingDown(){return this.jc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Zc(),this.ta(e)}enterRestrictedMode(e){if(!this.jc){this.jc=!0,this.Jc=e||!1;const t=ng();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Xc)}}enqueue(e){if(this.Zc(),this.jc)return new Promise(()=>{});const t=new ic;return this.ta(()=>this.jc&&this.Jc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qc.push(e),this.ea()))}async ea(){if(0!==this.Qc.length){try{await this.Qc[0](),this.Qc.shift(),this.qo.reset()}catch(e){if(!Pc(e))throw e;$u("AsyncQueue","Operation failed with retryable error: "+e)}this.Qc.length>0&&this.qo.No(()=>this.ea())}}ta(e){const t=this.Gc.then(()=>(this.Hc=!0,e().catch(e=>{this.Wc=e,this.Hc=!1;const t=function(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e);throw Yu("INTERNAL UNHANDLED ERROR: ",t),e}).then(e=>(this.Hc=!1,e))));return this.Gc=t,t}enqueueAfterDelay(e,t,n){this.Zc(),this.Yc.indexOf(e)>-1&&(t=0);const r=Vg.createAndSchedule(this,e,t,n,e=>this.na(e));return this.zc.push(r),r}Zc(){this.Wc&&Zu()}verifyOperationInProgress(){}async sa(){let e;do{e=this.Gc,await e}while(e!==this.Gc)}ia(e){for(const t of this.zc)if(t.timerId===e)return!0;return!1}ra(e){return this.sa().then(()=>{this.zc.sort((e,t)=>e.targetTimeMs-t.targetTimeMs);for(const t of this.zc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.sa()})}oa(e){this.Yc.push(e)}na(e){const t=this.zc.indexOf(e);this.zc.splice(t,1)}}function Jm(e){return function(e){if("object"!=typeof e||null===e)return!1;const t=e;for(const n of["next","error","complete"])if(n in t&&"function"==typeof t[n])return!0;return!1}(e)}class Zm extends Km{constructor(e,t,n,r){super(e,t,n,r),this.type="firestore",this._queue=new Xm,this._persistenceKey=(null==r?void 0:r.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||ty(this),this._firestoreClient.terminate()}}function ey(e){return e._firestoreClient||ty(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function ty(e){var t,n,r;const i=e._freezeSettings(),s=function(e,t,n,r){return new sh(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,Um(r.experimentalLongPollingOptions),r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,i);e._firestoreClient=new Cm(e._authCredentials,e._appCheckCredentials,e._queue,s),(null===(n=i.cache)||void 0===n?void 0:n._offlineComponentProvider)&&(null===(r=i.cache)||void 0===r?void 0:r._onlineComponentProvider)&&(e._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.cache.kind,_offline:i.cache._offlineComponentProvider,_online:i.cache._onlineComponentProvider})}class ny{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ny(Xc.fromBase64String(e))}catch(e){throw new rc(nc.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(e){return new ny(Xc.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class ry{constructor(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(let r=0;r<t.length;++r)if(0===t[r].length)throw new rc(nc.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new _c(t)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class iy{constructor(e){this._methodName=e}}class sy{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new rc(nc.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new rc(nc.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return gc(this._lat,e._lat)||gc(this._long,e._long)}}const oy=/^__.*__$/;class ay{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return null!==this.fieldMask?new rf(e,this.data,this.fieldMask,t,this.fieldTransforms):new nf(e,this.data,t,this.fieldTransforms)}}function ly(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Zu()}}class uy{constructor(e,t,n,r,i,s){this.settings=e,this.databaseId=t,this.serializer=n,this.ignoreUndefinedProperties=r,void 0===i&&this.ua(),this.fieldTransforms=i||[],this.fieldMask=s||[]}get path(){return this.settings.path}get ca(){return this.settings.ca}aa(e){return new uy(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ha(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.aa({path:n,la:!1});return r.fa(e),r}da(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.aa({path:n,la:!1});return r.ua(),r}wa(e){return this.aa({path:void 0,la:!0})}_a(e){return _y(e,this.settings.methodName,this.settings.ma||!1,this.path,this.settings.ga)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}ua(){if(this.path)for(let e=0;e<this.path.length;e++)this.fa(this.path.get(e))}fa(e){if(0===e.length)throw this._a("Document fields must not be empty");if(ly(this.ca)&&oy.test(e))throw this._a('Document fields cannot begin and end with "__"')}}class cy{constructor(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=n||rg(e)}ya(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new uy({ca:e,methodName:t,ga:n,path:_c.emptyPath(),la:!1,ma:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function hy(e){const t=e._freezeSettings(),n=rg(e._databaseId);return new cy(e._databaseId,!!t.ignoreUndefinedProperties,n)}function dy(e,t,n,r,i){let s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};const o=e.ya(s.merge||s.mergeFields?2:0,t,n,i);vy("Data must be an object, but it was:",o,r);const a=my(r,o);let l,u;if(s.merge)l=new $c(o.fieldMask),u=o.fieldTransforms;else if(s.mergeFields){const e=[];for(const r of s.mergeFields){const i=wy(t,r,n);if(!o.contains(i))throw new rc(nc.INVALID_ARGUMENT,"Field '".concat(i,"' is specified in your field mask but missing from your input data."));ky(e,i)||e.push(i)}l=new $c(e),u=o.fieldTransforms.filter(e=>l.covers(e.field))}else l=null,u=o.fieldTransforms;return new ay(new kh(a),l,u)}class fy extends iy{_toFieldTransform(e){return new Wd(e.path,new Fd)}isEqual(e){return e instanceof fy}}function py(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return gy(n,e.ya(r?4:3,t))}function gy(e,t){if(yy(e=qe(e)))return vy("Unsupported field value:",t,e),my(e,t);if(e instanceof iy)return function(e,t){if(!ly(t.ca))throw t._a("".concat(e._methodName,"() can only be used with update() and set()"));if(!t.path)throw t._a("".concat(e._methodName,"() is not currently supported inside arrays"));const n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.la&&4!==t.ca)throw t._a("Nested arrays are not supported");return function(e,t){const n=[];let r=0;for(const i of e){let e=gy(i,t.wa(r));null==e&&(e={nullValue:"NULL_VALUE"}),n.push(e),r++}return{arrayValue:{values:n}}}(e,t)}return function(e,t){if(null===(e=qe(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return Pd(t.serializer,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){const n=yc.fromDate(e);return{timestampValue:jf(t.serializer,n)}}if(e instanceof yc){const n=new yc(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:jf(t.serializer,n)}}if(e instanceof sy)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof ny)return{bytesValue:zf(t.serializer,e._byteString)};if(e instanceof Wm){const n=t.databaseId,r=e.firestore._databaseId;if(!r.isEqual(n))throw t._a("Document reference is for database ".concat(r.projectId,"/").concat(r.database," but should be for database ").concat(n.projectId,"/").concat(n.database));return{referenceValue:Hf(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t._a("Unsupported field value: ".concat(Bm(e)))}(e,t)}function my(e,t){const n={};return qc(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Bc(e,(e,r)=>{const i=gy(r,t.ha(e));null!=i&&(n[e]=i)}),{mapValue:{fields:n}}}function yy(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof yc||e instanceof sy||e instanceof ny||e instanceof Wm||e instanceof iy)}function vy(e,t,n){if(!yy(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){const r=Bm(n);throw"an object"===r?t._a(e+" a custom object"):t._a(e+" "+r)}}function wy(e,t,n){if((t=qe(t))instanceof ry)return t._internalPath;if("string"==typeof t)return Ey(e,t);throw _y("Field path arguments must be of type string or ",e,!1,void 0,n)}const by=new RegExp("[~\\*/\\[\\]]");function Ey(e,t,n){if(t.search(by)>=0)throw _y("Invalid field path (".concat(t,"). Paths must not contain '~', '*', '/', '[', or ']'"),e,!1,void 0,n);try{return new ry(...t.split("."))._internalPath}catch(r){throw _y("Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),e,!1,void 0,n)}}function _y(e,t,n,r,i){const s=r&&!r.isEmpty(),o=void 0!==i;let a="Function ".concat(t,"() called with invalid data");n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=" in field ".concat(r)),o&&(l+=" in document ".concat(i)),l+=")"),new rc(nc.INVALID_ARGUMENT,a+e+l)}function ky(e,t){return e.some(e=>e.isEqual(t))}class Ty{constructor(e,t,n,r,i){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=r,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new Wm(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new Sy(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Iy("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class Sy extends Ty{data(){return super.data()}}function Iy(e,t){return"string"==typeof t?Ey(e,t):t instanceof ry?t._internalPath:t._delegate._internalPath}function Cy(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new rc(nc.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Ay{}class Ny extends Ay{}function Ry(e,t){let n=[];for(var r=arguments.length,i=new Array(r>2?r-2:0),s=2;s<r;s++)i[s-2]=arguments[s];t instanceof Ay&&n.push(t),n=n.concat(i),function(e){const t=e.filter(e=>e instanceof Py).length,n=e.filter(e=>e instanceof xy).length;if(t>1||t>0&&n>0)throw new rc(nc.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n);for(const o of n)e=o._apply(e);return e}class xy extends Ny{constructor(e,t,n){super(),this._field=e,this._op=t,this._value=n,this.type="where"}static _create(e,t,n){return new xy(e,t,n)}_apply(e){const t=this._parse(e);return Uy(e._query,t),new Gm(e.firestore,e.converter,ld(e._query,t))}_parse(e){const t=hy(e.firestore),n=function(e,t,n,r,i,s,o){let a;if(i.isKeyField()){if("array-contains"===s||"array-contains-any"===s)throw new rc(nc.INVALID_ARGUMENT,"Invalid Query. You can't perform '".concat(s,"' queries on documentId()."));if("in"===s||"not-in"===s){My(o,s);const t=[];for(const n of o)t.push(Ly(r,e,n));a={arrayValue:{values:t}}}else a=Ly(r,e,o)}else"in"!==s&&"not-in"!==s&&"array-contains-any"!==s||My(o,s),a=py(n,"where",o,"in"===s||"not-in"===s);return Oh.create(i,s,a)}(e._query,0,t,e.firestore._databaseId,this._field,this._op,this._value);return n}}function Oy(e,t,n){const r=t,i=Iy("where",e);return xy._create(i,r,n)}class Py extends Ay{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Py(e,t)}_parse(e){const t=this._queryConstraints.map(t=>t._parse(e)).filter(e=>e.getFilters().length>0);return 1===t.length?t[0]:Ph.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(e,t){let n=e;const r=t.getFlattenedFilters();for(const i of r)Uy(n,i),n=ld(n,i)}(e._query,t),new Gm(e.firestore,e.converter,ld(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class Dy extends Ny{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new Dy(e,t)}_apply(e){const t=function(e,t,n){if(null!==e.startAt)throw new rc(nc.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new rc(nc.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const r=new Nh(t,n);return function(e,t){if(null===rd(e)){const n=id(e);null!==n&&Fy(e,n,t.field)}}(e,r),r}(e._query,this._field,this._direction);return new Gm(e.firestore,e.converter,function(e,t){const n=e.explicitOrderBy.concat([t]);return new Zh(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))}}function Ly(e,t,n){if("string"==typeof(n=qe(n))){if(""===n)throw new rc(nc.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!sd(t)&&-1!==n.indexOf("/"))throw new rc(nc.INVALID_ARGUMENT,"Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '".concat(n,"' contains a '/' character."));const r=t.path.child(bc.fromString(n));if(!kc.isDocumentKey(r))throw new rc(nc.INVALID_ARGUMENT,"Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '".concat(r,"' is not because it has an odd number of segments (").concat(r.length,")."));return gh(e,new kc(r))}if(n instanceof Wm)return gh(e,n._key);throw new rc(nc.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ".concat(Bm(n),"."))}function My(e,t){if(!Array.isArray(e)||0===e.length)throw new rc(nc.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '".concat(t.toString(),"' filters."))}function Uy(e,t){if(t.isInequality()){const n=id(e),r=t.field;if(null!==n&&!n.isEqual(r))throw new rc(nc.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '".concat(n.toString(),"' and '").concat(r.toString(),"'"));const i=rd(e);null!==i&&Fy(e,r,i)}const n=function(e,t){for(const n of e)for(const e of n.getFlattenedFilters())if(t.indexOf(e.op)>=0)return e.op;return null}(e.filters,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==n)throw n===t.op?new rc(nc.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '".concat(t.op.toString(),"' filter.")):new rc(nc.INVALID_ARGUMENT,"Invalid query. You cannot use '".concat(t.op.toString(),"' filters with '").concat(n.toString(),"' filters."))}function Fy(e,t,n){if(!n.isEqual(t))throw new rc(nc.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '".concat(t.toString(),"' and so you must also use '").concat(t.toString(),"' as your first argument to orderBy(), but your first orderBy() is on field '").concat(n.toString(),"' instead."))}class Vy{convertValue(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(lh(e)){case 0:return null;case 1:return e.booleanValue;case 2:return eh(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(th(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw Zu()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";const n={};return Bc(e,(e,r)=>{n[e]=this.convertValue(r,t)}),n}convertGeoPoint(e){return new sy(eh(e.latitude),eh(e.longitude))}convertArray(e,t){return(e.values||[]).map(e=>this.convertValue(e,t))}convertServerTimestamp(e,t){switch(t){case"previous":const n=rh(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(ih(e));default:return null}}convertTimestamp(e){const t=Zc(e);return new yc(t.seconds,t.nanos)}convertDocumentKey(e,t){const n=bc.fromString(e);ec(hp(n));const r=new oh(n.get(1),n.get(3)),i=new kc(n.popFirst(5));return r.isEqual(t)||Yu("Document ".concat(i," contains a document reference within a different database (").concat(r.projectId,"/").concat(r.database,") which is not supported. It will be treated as a reference in the current database (").concat(t.projectId,"/").concat(t.database,") instead.")),i}}function jy(e,t,n){let r;return r=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,r}class zy{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class By extends Ty{constructor(e,t,n,r,i,s){super(e,t,n,r,s),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){const t=new qy(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){const n=this._document.data.field(Iy("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}class qy extends By{data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return super.data(e)}}class Hy{constructor(e,t,n,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new zy(r.hasPendingWrites,r.fromCache),this.query=n}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(n=>{e.call(t,new qy(this._firestore,this._userDataWriter,n.key,n,new zy(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))})}docChanges(){const e=!!(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new rc(nc.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){let t=0;return e._snapshot.docChanges.map(n=>{const r=new qy(e._firestore,e._userDataWriter,n.doc.key,n.doc,new zy(e._snapshot.mutatedKeys.has(n.doc.key),e._snapshot.fromCache),e.query.converter);return n.doc,{type:"added",doc:r,oldIndex:-1,newIndex:t++}})}{let n=e._snapshot.oldDocs;return e._snapshot.docChanges.filter(e=>t||3!==e.type).map(t=>{const r=new qy(e._firestore,e._userDataWriter,t.doc.key,t.doc,new zy(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter);let i=-1,s=-1;return 0!==t.type&&(i=n.indexOf(t.doc.key),n=n.delete(t.doc.key)),1!==t.type&&(n=n.add(t.doc),s=n.indexOf(t.doc.key)),{type:Ky(t.type),doc:r,oldIndex:i,newIndex:s}})}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}function Ky(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Zu()}}class Wy extends Vy{constructor(e){super(),this.firestore=e}convertBytes(e){return new ny(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Wm(this.firestore,null,t)}}function Gy(e){e=qm(e,Gm);const t=qm(e.firestore,Zm),n=ey(t),r=new Wy(t);return Cy(e._query),Mm(n,e._query).then(n=>new Hy(t,r,e,n))}function Qy(e,t){const n=qm(e.firestore,Zm),r=Ym(e),i=jy(e.converter,t);return $y(n,[dy(hy(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,Qd.exists(!1))]).then(()=>r)}function $y(e,t){return function(e,t){const n=new ic;return e.asyncQueue.enqueueAndForget(async()=>async function(e,t,n){const r=km(e);try{const e=await function(e,t){const n=tc(e),r=yc.now(),i=t.reduce((e,t)=>e.add(t.key),Ad());let s,o;return n.persistence.runTransaction("Locally write mutations","readwrite",e=>{let a=wd(),l=Ad();return n.Zi.getEntries(e,i).next(e=>{a=e,a.forEach((e,t)=>{t.isValidDocument()||(l=l.add(e))})}).next(()=>n.localDocuments.getOverlayedDocuments(e,a)).next(i=>{s=i;const o=[];for(const e of t){const t=ef(e,s.get(e.key).overlayedDocument);null!=t&&o.push(new rf(e.key,t,Th(t.value.mapValue),Qd.exists(!0)))}return n.mutationQueue.addMutationBatch(e,r,o,t)}).next(t=>{o=t;const r=t.applyToLocalDocumentSet(s,l);return n.documentOverlayCache.saveOverlays(e,t.batchId,r)})}).then(()=>({batchId:o.batchId,changes:_d(s)}))}(r.localStore,t);r.sharedClientState.addPendingMutation(e.batchId),function(e,t,n){let r=e.Tc[e.currentUser.toKey()];r||(r=new Hc(gc)),r=r.insert(t,n),e.Tc[e.currentUser.toKey()]=r}(r,e.batchId,n),await wm(r,e.changes),await Ig(r.remoteStore)}catch(e){const t=jg(e,"Failed to persist write");n.reject(t)}}(await Pm(e),t,n)),n.promise}(ey(e),t)}function Yy(e,t,n){const r=n.docs.get(t._key),i=new Wy(e);return new By(e,i,t._key,r,new zy(n.hasPendingWrites,n.fromCache),t.converter)}!function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){Wu=e}(on),tn(new He("firestore",(e,n)=>{let{instanceIdentifier:r,options:i}=n;const s=e.getProvider("app").getImmediate(),o=new Zm(new lc(e.getProvider("auth-internal")),new dc(e.getProvider("app-check-internal")),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new rc(nc.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new oh(e.options.projectId,t)}(s,r),s);return i=Object.assign({useFetchStreams:t},i),o._setSettings(i),o},"PUBLIC").setMultipleInstances(!0)),un(Hu,"3.13.0",e),un(Hu,"3.13.0","esm2017")}();const Xy="firebasestorage.googleapis.com",Jy="storageBucket";class Zy extends Pe{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;super(nv(e),"Firebase Storage: ".concat(t," (").concat(nv(e),")")),this.status_=n,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Zy.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return nv(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message="".concat(this._baseMessage,"\n").concat(this.customData.serverResponse):this.message=this._baseMessage}}var ev,tv;function nv(e){return"storage/"+e}function rv(){return new Zy(ev.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}function iv(){return new Zy(ev.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function sv(){return new Zy(ev.CANCELED,"User canceled the upload/download.")}function ov(){return new Zy(ev.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function av(e){return new Zy(ev.INVALID_ARGUMENT,e)}function lv(){return new Zy(ev.APP_DELETED,"The Firebase app was deleted.")}function uv(e,t){return new Zy(ev.INVALID_FORMAT,"String does not match format '"+e+"': "+t)}function cv(e){throw new Zy(ev.INTERNAL_ERROR,"Internal error: "+e)}!function(e){e.UNKNOWN="unknown",e.OBJECT_NOT_FOUND="object-not-found",e.BUCKET_NOT_FOUND="bucket-not-found",e.PROJECT_NOT_FOUND="project-not-found",e.QUOTA_EXCEEDED="quota-exceeded",e.UNAUTHENTICATED="unauthenticated",e.UNAUTHORIZED="unauthorized",e.UNAUTHORIZED_APP="unauthorized-app",e.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",e.INVALID_CHECKSUM="invalid-checksum",e.CANCELED="canceled",e.INVALID_EVENT_NAME="invalid-event-name",e.INVALID_URL="invalid-url",e.INVALID_DEFAULT_BUCKET="invalid-default-bucket",e.NO_DEFAULT_BUCKET="no-default-bucket",e.CANNOT_SLICE_BLOB="cannot-slice-blob",e.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",e.NO_DOWNLOAD_URL="no-download-url",e.INVALID_ARGUMENT="invalid-argument",e.INVALID_ARGUMENT_COUNT="invalid-argument-count",e.APP_DELETED="app-deleted",e.INVALID_ROOT_OPERATION="invalid-root-operation",e.INVALID_FORMAT="invalid-format",e.INTERNAL_ERROR="internal-error",e.UNSUPPORTED_ENVIRONMENT="unsupported-environment"}(ev||(ev={}));class hv{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let n;try{n=hv.makeFromUrl(e,t)}catch(i){return new hv(e,"")}if(""===n.path)return n;throw r=e,new Zy(ev.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+r+"'.");var r}static makeFromUrl(e,t){let n=null;const r="([A-Za-z0-9.\\-_]+)";const i=new RegExp("^gs://"+r+"(/(.*))?$","i");function s(e){e.path_=decodeURIComponent(e.path)}const o=t.replace(/[.]/g,"\\."),a=[{regex:i,indices:{bucket:1,path:3},postModify:function(e){"/"===e.path.charAt(e.path.length-1)&&(e.path_=e.path_.slice(0,-1))}},{regex:new RegExp("^https?://".concat(o,"/").concat("v[A-Za-z0-9_]+","/b/").concat(r,"/o").concat("(/([^?#]*).*)?$"),"i"),indices:{bucket:1,path:3},postModify:s},{regex:new RegExp("^https?://".concat(t===Xy?"(?:storage.googleapis.com|storage.cloud.google.com)":t,"/").concat(r,"/").concat("([^?#]*)"),"i"),indices:{bucket:1,path:2},postModify:s}];for(let l=0;l<a.length;l++){const t=a[l],r=t.regex.exec(e);if(r){const e=r[t.indices.bucket];let i=r[t.indices.path];i||(i=""),n=new hv(e,i),t.postModify(n);break}}if(null==n)throw function(e){return new Zy(ev.INVALID_URL,"Invalid URL '"+e+"'.")}(e);return n}}class dv{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(){}}function fv(e){return"string"===typeof e||e instanceof String}function pv(e){return gv()&&e instanceof Blob}function gv(){return"undefined"!==typeof Blob&&!xe()}function mv(e,t,n,r){if(r<t)throw av("Invalid value for '".concat(e,"'. Expected ").concat(t," or greater."));if(r>n)throw av("Invalid value for '".concat(e,"'. Expected ").concat(n," or less."))}function yv(e,t,n){let r=t;return null==n&&(r="https://".concat(t)),"".concat(n,"://").concat(r,"/v0").concat(e)}function vv(e){const t=encodeURIComponent;let n="?";for(const r in e)if(e.hasOwnProperty(r)){n=n+(t(r)+"="+t(e[r]))+"&"}return n=n.slice(0,-1),n}function wv(e,t){const n=e>=500&&e<600,r=-1!==[408,429].indexOf(e),i=-1!==t.indexOf(e);return n||r||i}!function(e){e[e.NO_ERROR=0]="NO_ERROR",e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.ABORT=2]="ABORT"}(tv||(tv={}));class bv{constructor(e,t,n,r,i,s,o,a,l,u,c){let h=!(arguments.length>11&&void 0!==arguments[11])||arguments[11];this.url_=e,this.method_=t,this.headers_=n,this.body_=r,this.successCodes_=i,this.additionalRetryCodes_=s,this.callback_=o,this.errorCallback_=a,this.timeout_=l,this.progressCallback_=u,this.connectionFactory_=c,this.retry=h,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((e,t)=>{this.resolve_=e,this.reject_=t,this.start_()})}start_(){const e=(e,t)=>{if(t)return void e(!1,new Ev(!1,null,!0));const n=this.connectionFactory_();this.pendingConnection_=n;const r=e=>{const t=e.loaded,n=e.lengthComputable?e.total:-1;null!==this.progressCallback_&&this.progressCallback_(t,n)};null!==this.progressCallback_&&n.addUploadProgressListener(r),n.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&n.removeUploadProgressListener(r),this.pendingConnection_=null;const t=n.getErrorCode()===tv.NO_ERROR,i=n.getStatus();if(!t||wv(i,this.additionalRetryCodes_)&&this.retry){const t=n.getErrorCode()===tv.ABORT;return void e(!1,new Ev(!1,null,t))}const s=-1!==this.successCodes_.indexOf(i);e(!0,new Ev(s,n))})},t=(e,t)=>{const n=this.resolve_,r=this.reject_,i=t.connection;if(t.wasSuccessCode)try{const e=this.callback_(i,i.getResponse());!function(e){return void 0!==e}(e)?n():n(e)}catch(s){r(s)}else if(null!==i){const e=rv();e.serverResponse=i.getErrorText(),this.errorCallback_?r(this.errorCallback_(i,e)):r(e)}else if(t.canceled){r(this.appDelete_?lv():sv())}else{r(iv())}};this.canceled_?t(0,new Ev(!1,null,!0)):this.backoffId_=function(e,t,n){let r=1,i=null,s=null,o=!1,a=0;function l(){return 2===a}let u=!1;function c(){if(!u){u=!0;for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];t.apply(null,n)}}function h(t){i=setTimeout(()=>{i=null,e(f,l())},t)}function d(){s&&clearTimeout(s)}function f(e){if(u)return void d();for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];if(e)return d(),void c.call(null,e,...n);if(l()||o)return d(),void c.call(null,e,...n);let s;r<64&&(r*=2),1===a?(a=2,s=0):s=1e3*(r+Math.random()),h(s)}let p=!1;function g(e){p||(p=!0,d(),u||(null!==i?(e||(a=2),clearTimeout(i),h(0)):e||(a=1)))}return h(0),s=setTimeout(()=>{o=!0,g(!0)},n),g}(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&function(e){e(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}class Ev{constructor(e,t,n){this.wasSuccessCode=e,this.connection=t,this.canceled=!!n}}function _v(){return"undefined"!==typeof BlobBuilder?BlobBuilder:"undefined"!==typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0}function kv(){const e=_v();for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(void 0!==e){const t=new e;for(let e=0;e<n.length;e++)t.append(n[e]);return t.getBlob()}if(gv())return new Blob(n);throw new Zy(ev.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}function Tv(e){if("undefined"===typeof atob)throw t="base-64",new Zy(ev.UNSUPPORTED_ENVIRONMENT,"".concat(t," is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information."));var t;return atob(e)}const Sv="raw",Iv="base64",Cv="base64url",Av="data_url";class Nv{constructor(e,t){this.data=e,this.contentType=t||null}}function Rv(e,t){switch(e){case Sv:return new Nv(xv(t));case Iv:case Cv:return new Nv(Ov(e,t));case Av:return new Nv(function(e){const t=new Pv(e);return t.base64?Ov(Iv,t.rest):function(e){let t;try{t=decodeURIComponent(e)}catch(n){throw uv(Av,"Malformed data URL.")}return xv(t)}(t.rest)}(t),new Pv(t).contentType)}throw rv()}function xv(e){const t=[];for(let n=0;n<e.length;n++){let r=e.charCodeAt(n);if(r<=127)t.push(r);else if(r<=2047)t.push(192|r>>6,128|63&r);else if(55296===(64512&r)){if(n<e.length-1&&56320===(64512&e.charCodeAt(n+1))){r=65536|(1023&r)<<10|1023&e.charCodeAt(++n),t.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|63&r)}else t.push(239,191,189)}else 56320===(64512&r)?t.push(239,191,189):t.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(t)}function Ov(e,t){switch(e){case Iv:{const n=-1!==t.indexOf("-"),r=-1!==t.indexOf("_");if(n||r){throw uv(e,"Invalid character '"+(n?"-":"_")+"' found: is it base64url encoded?")}break}case Cv:{const n=-1!==t.indexOf("+"),r=-1!==t.indexOf("/");if(n||r){throw uv(e,"Invalid character '"+(n?"+":"/")+"' found: is it base64 encoded?")}t=t.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=Tv(t)}catch(i){if(i.message.includes("polyfill"))throw i;throw uv(e,"Invalid character found")}const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}class Pv{constructor(e){this.base64=!1,this.contentType=null;const t=e.match(/^data:([^,]+)?,/);if(null===t)throw uv(Av,"Must be formatted 'data:[<mediatype>][;base64],<data>");const n=t[1]||null;null!=n&&(this.base64=function(e,t){if(!(e.length>=t.length))return!1;return e.substring(e.length-t.length)===t}(n,";base64"),this.contentType=this.base64?n.substring(0,n.length-7):n),this.rest=e.substring(e.indexOf(",")+1)}}class Dv{constructor(e,t){let n=0,r="";pv(e)?(this.data_=e,n=e.size,r=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),n=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),n=e.length),this.size_=n,this.type_=r}size(){return this.size_}type(){return this.type_}slice(e,t){if(pv(this.data_)){const n=function(e,t,n){return e.webkitSlice?e.webkitSlice(t,n):e.mozSlice?e.mozSlice(t,n):e.slice?e.slice(t,n):null}(this.data_,e,t);return null===n?null:new Dv(n)}{const n=new Uint8Array(this.data_.buffer,e,t-e);return new Dv(n,!0)}}static getBlob(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(gv()){const e=t.map(e=>e instanceof Dv?e.data_:e);return new Dv(kv.apply(null,e))}{const e=t.map(e=>fv(e)?Rv(Sv,e).data:e.data_);let n=0;e.forEach(e=>{n+=e.byteLength});const r=new Uint8Array(n);let i=0;return e.forEach(e=>{for(let t=0;t<e.length;t++)r[i++]=e[t]}),new Dv(r,!0)}}uploadData(){return this.data_}}function Lv(e){let t;try{t=JSON.parse(e)}catch(n){return null}return function(e){return"object"===typeof e&&!Array.isArray(e)}(t)?t:null}function Mv(e){const t=e.lastIndexOf("/",e.length-2);return-1===t?e:e.slice(t+1)}function Uv(e,t){return t}class Fv{constructor(e,t,n,r){this.server=e,this.local=t||e,this.writable=!!n,this.xform=r||Uv}}let Vv=null;function jv(){if(Vv)return Vv;const e=[];e.push(new Fv("bucket")),e.push(new Fv("generation")),e.push(new Fv("metageneration")),e.push(new Fv("name","fullPath",!0));const t=new Fv("name");t.xform=function(e,t){return function(e){return!fv(e)||e.length<2?e:Mv(e)}(t)},e.push(t);const n=new Fv("size");return n.xform=function(e,t){return void 0!==t?Number(t):t},e.push(n),e.push(new Fv("timeCreated")),e.push(new Fv("updated")),e.push(new Fv("md5Hash",null,!0)),e.push(new Fv("cacheControl",null,!0)),e.push(new Fv("contentDisposition",null,!0)),e.push(new Fv("contentEncoding",null,!0)),e.push(new Fv("contentLanguage",null,!0)),e.push(new Fv("contentType",null,!0)),e.push(new Fv("metadata","customMetadata",!0)),Vv=e,Vv}function zv(e,t,n){const r={type:"file"},i=n.length;for(let s=0;s<i;s++){const e=n[s];r[e.local]=e.xform(r,t[e.server])}return function(e,t){Object.defineProperty(e,"ref",{get:function(){const n=e.bucket,r=e.fullPath,i=new hv(n,r);return t._makeStorageReference(i)}})}(r,e),r}function Bv(e,t,n){const r=Lv(t);if(null===r)return null;return zv(e,r,n)}function qv(e,t){const n={},r=t.length;for(let i=0;i<r;i++){const r=t[i];r.writable&&(n[r.server]=e[r.local])}return JSON.stringify(n)}class Hv{constructor(e,t,n,r){this.url=e,this.method=t,this.handler=n,this.timeout=r,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function Kv(e){if(!e)throw rv()}function Wv(e,t){return function(n,r){const i=Bv(e,r,t);return Kv(null!==i),i}}function Gv(e,t){return function(n,r){const i=Bv(e,r,t);return Kv(null!==i),function(e,t,n,r){const i=Lv(t);if(null===i)return null;if(!fv(i.downloadTokens))return null;const s=i.downloadTokens;if(0===s.length)return null;const o=encodeURIComponent;return s.split(",").map(t=>{const i=e.bucket,s=e.fullPath;return yv("/b/"+o(i)+"/o/"+o(s),n,r)+vv({alt:"media",token:t})})[0]}(i,r,e.host,e._protocol)}}function Qv(e){return function(t,n){let r;var i,s;return 401===t.getStatus()?r=t.getErrorText().includes("Firebase App Check token is invalid")?new Zy(ev.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project."):new Zy(ev.UNAUTHENTICATED,"User is not authenticated, please authenticate using Firebase Authentication and try again."):402===t.getStatus()?(s=e.bucket,r=new Zy(ev.QUOTA_EXCEEDED,"Quota for bucket '"+s+"' exceeded, please view quota on https://firebase.google.com/pricing/.")):403===t.getStatus()?(i=e.path,r=new Zy(ev.UNAUTHORIZED,"User does not have permission to access '"+i+"'.")):r=n,r.status=t.getStatus(),r.serverResponse=n.serverResponse,r}}function $v(e){const t=Qv(e);return function(n,r){let i=t(n,r);var s;return 404===n.getStatus()&&(s=e.path,i=new Zy(ev.OBJECT_NOT_FOUND,"Object '"+s+"' does not exist.")),i.serverResponse=r.serverResponse,i}}function Yv(e,t,n){const r=Object.assign({},n);return r.fullPath=e.path,r.size=t.size(),r.contentType||(r.contentType=function(e,t){return e&&e.contentType||t&&t.type()||"application/octet-stream"}(null,t)),r}function Xv(e,t,n,r,i){const s=t.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"};const a=function(){let e="";for(let t=0;t<2;t++)e+=Math.random().toString().slice(2);return e}();o["Content-Type"]="multipart/related; boundary="+a;const l=Yv(t,r,i),u="--"+a+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+qv(l,n)+"\r\n--"+a+"\r\nContent-Type: "+l.contentType+"\r\n\r\n",c="\r\n--"+a+"--",h=Dv.getBlob(u,r,c);if(null===h)throw ov();const d={name:l.fullPath},f=yv(s,e.host,e._protocol),p=e.maxUploadRetryTime,g=new Hv(f,"POST",Wv(e,n),p);return g.urlParams=d,g.headers=o,g.body=h.uploadData(),g.errorHandler=Qv(t),g}class Jv{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=tv.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=tv.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=tv.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,t,n,r){if(this.sent_)throw cv("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),void 0!==r)for(const i in r)r.hasOwnProperty(i)&&this.xhr_.setRequestHeader(i,r[i].toString());return void 0!==n?this.xhr_.send(n):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw cv("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw cv("cannot .getStatus() before sending");try{return this.xhr_.status}catch(e){return-1}}getResponse(){if(!this.sent_)throw cv("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw cv("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",e)}}class Zv extends Jv{initXhr(){this.xhr_.responseType="text"}}function ew(){return new Zv}class tw{constructor(e,t){this._service=e,this._location=t instanceof hv?t:hv.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new tw(e,t)}get root(){const e=new hv(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return Mv(this._location.path)}get storage(){return this._service}get parent(){const e=function(e){if(0===e.length)return null;const t=e.lastIndexOf("/");return-1===t?"":e.slice(0,t)}(this._location.path);if(null===e)return null;const t=new hv(this._location.bucket,e);return new tw(this._service,t)}_throwIfRoot(e){if(""===this._location.path)throw function(e){return new Zy(ev.INVALID_ROOT_OPERATION,"The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}(e)}}function nw(e,t,n){e._throwIfRoot("uploadBytes");const r=Xv(e.storage,e._location,jv(),new Dv(t,!0),n);return e.storage.makeRequestWithTokens(r,ew).then(t=>({metadata:t,ref:e}))}function rw(e){e._throwIfRoot("getDownloadURL");const t=function(e,t,n){const r=yv(t.fullServerUrl(),e.host,e._protocol),i=e.maxOperationRetryTime,s=new Hv(r,"GET",Gv(e,n),i);return s.errorHandler=$v(t),s}(e.storage,e._location,jv());return e.storage.makeRequestWithTokens(t,ew).then(e=>{if(null===e)throw new Zy(ev.NO_DOWNLOAD_URL,"The given file does not have any download URLs.");return e})}function iw(e,t){const n=function(e,t){const n=t.split("/").filter(e=>e.length>0).join("/");return 0===e.length?n:e+"/"+n}(e._location.path,t),r=new hv(e._location.bucket,n);return new tw(e.storage,r)}function sw(e,t){if(e instanceof lw){const n=e;if(null==n._bucket)throw new Zy(ev.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+Jy+"' property when initializing the app?");const r=new tw(n,n._bucket);return null!=t?sw(r,t):r}return void 0!==t?iw(e,t):e}function ow(e,t){if(t&&/^[A-Za-z]+:\/\//.test(t)){if(e instanceof lw)return new tw(e,t);throw av("To use ref(service, url), the first argument must be a Storage instance.")}return sw(e,t)}function aw(e,t){const n=null===t||void 0===t?void 0:t[Jy];return null==n?null:hv.makeFromBucketSpec(n,e)}class lw{constructor(e,t,n,r,i){this.app=e,this._authProvider=t,this._appCheckProvider=n,this._url=r,this._firebaseVersion=i,this._bucket=null,this._host=Xy,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=r?hv.makeFromBucketSpec(r,this._host):aw(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,null!=this._url?this._bucket=hv.makeFromBucketSpec(this._url,e):this._bucket=aw(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){mv("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){mv("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const t=await e.getToken();if(null!==t)return t.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});if(e){return(await e.getToken()).token}return null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new tw(this,e)}_makeRequest(e,t,n,r){let i=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];if(this._deleted)return new dv(lv());{const s=function(e,t,n,r,i,s){let o=!(arguments.length>6&&void 0!==arguments[6])||arguments[6];const a=vv(e.urlParams),l=e.url+a,u=Object.assign({},e.headers);return function(e,t){t&&(e["X-Firebase-GMPID"]=t)}(u,t),function(e,t){null!==t&&t.length>0&&(e.Authorization="Firebase "+t)}(u,n),function(e,t){e["X-Firebase-Storage-Version"]="webjs/"+(null!==t&&void 0!==t?t:"AppManager")}(u,s),function(e,t){null!==t&&(e["X-Firebase-AppCheck"]=t)}(u,r),new bv(l,e.method,u,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,i,o)}(e,this._appId,n,r,t,this._firebaseVersion,i);return this._requests.add(s),s.getPromise().then(()=>this._requests.delete(s),()=>this._requests.delete(s)),s}}async makeRequestWithTokens(e,t){const[n,r]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,n,r).getPromise()}}const uw="@firebase/storage",cw="0.11.2",hw="storage";function dw(e,t){let{instanceIdentifier:n}=t;const r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),s=e.getProvider("app-check-internal");return new lw(r,i,s,n,on)}tn(new He(hw,dw,"PUBLIC").setMultipleInstances(!0)),un(uw,cw,""),un(uw,cw,"esm2017");const fw=an({apiKey:"AIzaSyCuWBNimKIHrVv_-DGrb8tiDZrlHMr_hV4",authDomain:"reactapp-8840b.firebaseapp.com",projectId:"reactapp-8840b",storageBucket:"reactapp-8840b.appspot.com",messagingSenderId:"869871661282",appId:"1:869871661282:web:6c4685572587e7824feebb",measurementId:"G-X3RQ8V3ZZL"}),pw=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ln();const t=nn(e,"auth");if(t.isInitialized())return t.getImmediate();const n=function(e,t){const n=nn(e,"auth");if(n.isInitialized()){const e=n.getImmediate();if(Me(n.getOptions(),null!==t&&void 0!==t?t:{}))return e;In(e,"already-initialized")}return n.initialize({options:t})}(e,{popupRedirectResolver:ms,persistence:[Ni,di,pi]}),r=Ce("authTokenSyncURL");if(r){const e=(i=r,async e=>{const t=e&&await e.getIdTokenResult(),n=t&&((new Date).getTime()-Date.parse(t.issuedAtTime))/1e3;if(n&&n>bs)return;const r=null===t||void 0===t?void 0:t.token;Es!==r&&(Es=r,await fetch(i,{method:r?"POST":"DELETE",headers:r?{Authorization:"Bearer ".concat(r)}:{}}))});!function(e,t,n){qe(e).beforeAuthStateChanged(t,n)}(n,e,()=>e(n.currentUser)),function(e,t,n,r){qe(e).onIdTokenChanged(t,n,r)}(n,t=>e(t))}var i;const s=Te("auth");return s&&Dr(n,"http://".concat(s)),n}(fw),gw=function(e,t){const n="string"==typeof e?e:t||"(default)",r=nn("object"==typeof e?e:ln(),"firestore").getImmediate({identifier:n});if(!r._initialized){const e=Se("firestore");e&&function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};var i;const s=(e=qm(e,Km))._getSettings(),o="".concat(t,":").concat(n);if("firestore.googleapis.com"!==s.host&&s.host!==o&&Xu("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),e._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let t,n;if("string"==typeof r.mockUserToken)t=r.mockUserToken,n=Ku.MOCK_USER;else{t=Ne(r.mockUserToken,null===(i=e._app)||void 0===i?void 0:i.options.projectId);const s=r.mockUserToken.sub||r.mockUserToken.user_id;if(!s)throw new rc(nc.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");n=new Ku(s)}e._authCredentials=new ac(new sc(t,n))}}(r,...e)}return r}(fw),mw=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ln(),t=arguments.length>1?arguments[1]:void 0;e=qe(e);const n=nn(e,hw).getImmediate({identifier:t}),r=Se("storage");return r&&function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};!function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};e.host="".concat(t,":").concat(n),e._protocol="http";const{mockUserToken:i}=r;i&&(e._overrideAuthToken="string"===typeof i?i:Ne(i,e.app.options.projectId))}(e,t,n,r)}(n,...r),n}(fw);var yw=n(579);const vw=()=>{const[t,n]=(0,e.useState)(""),[r,i]=(0,e.useState)(""),s=ae();return(0,yw.jsxs)("form",{onSubmit:async e=>{e.preventDefault();try{const e=await function(e,t,n){return ai(qe(e),Wr.credential(t,n))}(pw,t,r);localStorage.setItem("user",e.user.uid),s.push("/home")}catch(n){alert(n.message)}},children:[(0,yw.jsx)("h2",{children:"Login"}),(0,yw.jsx)("input",{placeholder:"Email",value:t,onChange:e=>n(e.target.value),required:!0}),(0,yw.jsx)("input",{type:"password",placeholder:"Password",value:r,onChange:e=>i(e.target.value),required:!0}),(0,yw.jsx)("button",{type:"submit",children:"Login"}),(0,yw.jsxs)("p",{children:["Don't have an account? ",(0,yw.jsx)("a",{href:"/signup",children:"Sign up"})]})]})},ww=()=>{const[t,n]=(0,e.useState)(""),[r,i]=(0,e.useState)(""),[s,o]=(0,e.useState)(""),[a,l]=(0,e.useState)(null);ae();return(0,yw.jsxs)("form",{onSubmit:async e=>{e.preventDefault(),console.log("Signup started");try{const e=await async function(e,t,n){var r;const i=Or(e),s={returnSecureToken:!0,email:t,password:n,clientType:"CLIENT_TYPE_WEB"};let o;if(null===(r=i._getRecaptchaConfig())||void 0===r?void 0:r.emailPasswordEnabled){const e=await Nr(i,s,"signUpPassword");o=Zr(i,e)}else o=Zr(i,s).catch(async e=>{if(e.code==="auth/".concat("missing-recaptcha-token")){console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow.");const e=await Nr(i,s,"signUpPassword");return Zr(i,e)}return Promise.reject(e)});const a=await o.catch(e=>Promise.reject(e)),l=await ei._fromIdTokenResponse(i,"signIn",a);return await i._updateCurrentUser(l.user),l}(pw,t,r);console.log("User created:",e.user.uid);let l="";if(a){console.log("Uploading avatar...");const t=(n=mw,i="avatars/".concat(e.user.uid),ow(n=qe(n),i));try{await function(e,t,n){return nw(e=qe(e),t,n)}(t,a),console.log("Avatar uploaded to storage"),l=await function(e){return rw(e=qe(e))}(t),console.log("Avatar URL:",l),await li(e.user,{photoURL:l}),console.log("Profile updated with avatar")}catch(o){console.error("Avatar upload failed:",o),alert("Avatar upload failed: "+o.message)}}await Qy($m(gw,"users"),{uid:e.user.uid,name:s,email:t,avatar:l}),console.log("User added to Firestore"),window.location.href="/login",console.log("Redirected to login")}catch(l){console.error("Signup error:",l),alert(l.message)}var n,i},children:[(0,yw.jsx)("h2",{children:"Sign Up"}),(0,yw.jsx)("input",{placeholder:"Name",value:s,onChange:e=>o(e.target.value),required:!0}),(0,yw.jsx)("input",{placeholder:"Email",value:t,onChange:e=>n(e.target.value),required:!0}),(0,yw.jsx)("input",{type:"password",placeholder:"Password",value:r,onChange:e=>i(e.target.value),required:!0}),(0,yw.jsx)("input",{type:"file",accept:"image/*",onChange:e=>{var t;return l((null===(t=e.target.files)||void 0===t?void 0:t[0])||null)}}),(0,yw.jsx)("button",{type:"submit",children:"Sign Up"}),(0,yw.jsx)("button",{type:"button",style:{marginTop:"1em"},onClick:()=>window.location.href="/login",children:"Test Redirect"}),(0,yw.jsxs)("p",{children:["Already have an account? ",(0,yw.jsx)("a",{href:"/login",children:"Login"})]})]})},bw=t=>{let{onSelect:n}=t;const[r,i]=(0,e.useState)([]),[s,o]=(0,e.useState)(!0);return(0,e.useEffect)(()=>{(async()=>{try{const e=await Gy($m(gw,"users")),t=[];e.forEach(e=>{var n;e.id!==(null===(n=pw.currentUser)||void 0===n?void 0:n.uid)&&t.push(st(st({},e.data()),{},{id:e.id}))}),i(t)}catch(e){console.error("Error fetching users: ",e)}finally{o(!1)}})()},[]),s?(0,yw.jsx)("div",{children:"Loading users..."}):(0,yw.jsxs)("div",{children:[(0,yw.jsx)("h2",{children:"User List"}),(0,yw.jsx)("ul",{children:r.map(e=>(0,yw.jsxs)("li",{style:{display:"flex",alignItems:"center",marginBottom:"0.5em"},children:[(0,yw.jsx)("img",{src:e.avatar||"https://i.pravatar.cc/40",alt:"avatar",style:{width:32,height:32,borderRadius:"50%",marginRight:8}}),(0,yw.jsx)("button",{onClick:()=>n&&n(e),children:e.username||e.name||e.email})]},e.id))})]})},Ew=t=>{let{selectedFriend:n}=t;const[r,i]=(0,e.useState)([]),[s,o]=(0,e.useState)(""),a=(0,e.useRef)(null);(0,e.useEffect)(()=>{var e,t;if(!n)return void i([]);const r=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i,s,o;e=qe(e);let a={includeMetadataChanges:!1},l=0;"object"!=typeof n[l]||Jm(n[l])||(a=n[l],l++);const u={includeMetadataChanges:a.includeMetadataChanges};if(Jm(n[l])){const e=n[l];n[l]=null===(i=e.next)||void 0===i?void 0:i.bind(e),n[l+1]=null===(s=e.error)||void 0===s?void 0:s.bind(e),n[l+2]=null===(o=e.complete)||void 0===o?void 0:o.bind(e)}let c,h,d;if(e instanceof Wm)h=qm(e.firestore,Zm),d=td(e._key.path),c={next:t=>{n[l]&&n[l](Yy(h,e,t))},error:n[l+1],complete:n[l+2]};else{const t=qm(e,Gm);h=qm(t.firestore,Zm),d=t._query;const r=new Wy(h);c={next:e=>{n[l]&&n[l](new Hy(h,r,t,e))},error:n[l+1],complete:n[l+2]},Cy(e._query)}return function(e,t,n,r){const i=new Im(r),s=new Xg(t,i,n);return e.asyncQueue.enqueueAndForget(async()=>Wg(await Dm(e),s)),()=>{i.Dc(),e.asyncQueue.enqueueAndForget(async()=>Gg(await Dm(e),s))}}(ey(h),d,u,c)}(Ry($m(gw,"messages"),Oy("from","in",[null===(e=pw.currentUser)||void 0===e?void 0:e.uid,n]),Oy("to","in",[null===(t=pw.currentUser)||void 0===t?void 0:t.uid,n]),function(e){const t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc",n=Iy("orderBy",e);return Dy._create(n,t)}("timestamp")),e=>{i(e.docs.map(e=>e.data()).filter(e=>{var t,r;return e.from===(null===(t=pw.currentUser)||void 0===t?void 0:t.uid)&&e.to===n||e.from===n&&e.to===(null===(r=pw.currentUser)||void 0===r?void 0:r.uid)}))});return()=>r()},[n]),(0,e.useEffect)(()=>{var e;null===(e=a.current)||void 0===e||e.scrollIntoView({behavior:"smooth"})},[r]);const l=async()=>{var e;s.trim()&&n&&(await Qy($m(gw,"messages"),{from:null===(e=pw.currentUser)||void 0===e?void 0:e.uid,to:n,text:s,timestamp:new fy("serverTimestamp")}),o(""))};return(0,yw.jsxs)("div",{style:{flex:1,overflowY:"auto",padding:"1em"},children:[(0,yw.jsxs)("div",{children:[r.map((e,t)=>{var n,r,i,s;return(0,yw.jsxs)("div",{style:{textAlign:e.from===(null===(n=pw.currentUser)||void 0===n?void 0:n.uid)?"right":"left",margin:"0.5em 0"},children:[(0,yw.jsx)("span",{style:{display:"inline-block",background:e.from===(null===(r=pw.currentUser)||void 0===r?void 0:r.uid)?"#4078c0":"#eee",color:e.from===(null===(i=pw.currentUser)||void 0===i?void 0:i.uid)?"#fff":"#222",borderRadius:"16px",padding:"0.5em 1em",maxWidth:"60%",wordBreak:"break-word"},children:e.text}),(0,yw.jsx)("div",{style:{fontSize:"0.8em",color:"#888"},children:null!==(s=e.timestamp)&&void 0!==s&&s.toDate?e.timestamp.toDate().toLocaleTimeString():""})]},t)}),(0,yw.jsx)("div",{ref:a})]}),(0,yw.jsxs)("div",{className:"chat-footer",children:[(0,yw.jsx)("input",{className:"message-input",placeholder:"Type a message",value:s,onChange:e=>o(e.target.value),onKeyDown:e=>"Enter"===e.key&&l()}),(0,yw.jsx)("button",{className:"send-btn",onClick:l,children:"Send"})]})]})},_w=()=>{const t=pw.currentUser,[n,r]=(0,e.useState)(""),[i,s]=(0,e.useState)(null),[o,a]=(0,e.useState)([]),[l,u]=(0,e.useState)([]),[c,h]=(0,e.useState)(!0),[d,f]=(0,e.useState)(null),[p,g]=(0,e.useState)(null);(0,e.useEffect)(()=>{(async()=>{var e;if(null===(e=pw.currentUser)||void 0===e||!e.uid)return;const t=await function(e){e=qm(e,Wm);const t=qm(e.firestore,Zm);return Lm(ey(t),e._key).then(n=>Yy(t,e,n))}(Ym(gw,"users",pw.currentUser.uid));t.exists()&&g(t.data())})()},[]);(0,e.useEffect)(()=>{(async()=>{if(!pw.currentUser||!pw.currentUser.uid)return;const e=Ry($m(gw,"friendRequests"),Oy("to","==",pw.currentUser.uid),Oy("status","==","pending")),t=await Gy(e),n=await Promise.all(t.docs.map(async e=>{const t=e.data(),n=await(async e=>{const t=await Gy(Ry($m(gw,"users"),Oy("uid","==",e)));return t.empty?{email:e}:t.docs[0].data()})(t.from);return st(st({id:e.id},t),{},{senderInfo:n})}));a(n)})()},[]);const m=async(e,t,n)=>{const r=Ym(gw,"friendRequests",e);var i;(await function(e,t,n){e=qm(e,Wm);const r=qm(e.firestore,Zm),i=jy(e.converter,t,n);return $y(r,[dy(hy(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,Qd.none())])}(r,{status:t?"accepted":"declined"},{merge:!0}),t)&&await Qy($m(gw,"friends"),{users:[null===(i=pw.currentUser)||void 0===i?void 0:i.uid,n]});a(o.filter(t=>t.id!==e))};(0,e.useEffect)(()=>{(async()=>{if(!pw.currentUser||!pw.currentUser.uid)return;const e=Ry($m(gw,"friends"),Oy("users","array-contains",pw.currentUser.uid)),t=(await Gy(e)).docs.map(e=>e.data().users.filter(e=>{var t;return e!==(null===(t=pw.currentUser)||void 0===t?void 0:t.uid)})[0]).filter(Boolean),n=await Promise.all(t.map(async e=>{const t=await Gy(Ry($m(gw,"users"),Oy("id","==",e)));if(!t.empty){const n=t.docs[0].data();return{uid:e,name:n.name||n.email||e}}return{uid:e,name:e}}));u(n)})()},[]);const y=async e=>{var t;const n=Ry($m(gw,"friends"),Oy("users","array-contains",null===(t=pw.currentUser)||void 0===t?void 0:t.uid)),r=(await Gy(n)).docs.find(t=>{var n;const r=t.data().users;return r.includes(e)&&r.includes(null===(n=pw.currentUser)||void 0===n?void 0:n.uid)});var i;r&&(await(i=r.ref,$y(qm(i.firestore,Zm),[new lf(i._key,Qd.none())])),u(l.filter(t=>t.uid!==e)),alert("Unfriended!"),d===e&&f(null))};return(0,yw.jsxs)("div",{className:"main-container",children:[(0,yw.jsxs)("aside",{className:"sidebar",children:[(0,yw.jsxs)("div",{className:"profile",children:[(0,yw.jsx)("img",{src:(null===p||void 0===p?void 0:p.avatar)||"https://i.pravatar.cc/60",alt:"Profile",className:"avatar"}),(0,yw.jsx)("h3",{children:(null===t||void 0===t?void 0:t.displayName)||(null===t||void 0===t?void 0:t.email)})]}),(0,yw.jsx)("input",{className:"search",placeholder:"Search users by email",value:n,onChange:e=>r(e.target.value)}),(0,yw.jsx)("button",{onClick:async()=>{let e=Ry($m(gw,"users"),Oy("email","==",n)),t=await Gy(e);t.empty&&(e=Ry($m(gw,"users"),Oy("name","==",n)),t=await Gy(e)),t.empty?(s(null),alert("User not found")):s(st(st({},t.docs[0].data()),{},{uid:t.docs[0].id}))},children:"Search"}),i&&(0,yw.jsxs)("div",{children:[(0,yw.jsx)("span",{children:i.email}),(0,yw.jsx)("button",{onClick:()=>(async e=>{var t;await Qy($m(gw,"friendRequests"),{from:null===(t=pw.currentUser)||void 0===t?void 0:t.uid,to:e,status:"pending"}),alert("Friend request sent!"),s(null),r("")})(i.uid),children:"Add Friend"})]}),(0,yw.jsx)("h4",{children:"Friend Requests"}),(0,yw.jsx)("ul",{children:o.map(e=>(0,yw.jsxs)("li",{children:[e.senderInfo.name||e.senderInfo.email,(0,yw.jsx)("button",{onClick:()=>m(e.id,!0,e.from),children:"Accept"}),(0,yw.jsx)("button",{onClick:()=>m(e.id,!1,e.from),children:"Decline"})]},e.id))}),(0,yw.jsxs)("h4",{children:["Friends",(0,yw.jsx)("button",{style:{marginLeft:10},onClick:()=>h(!c),children:c?"Hide":"Show"})]}),c&&(0,yw.jsx)("ul",{children:l.map(e=>(0,yw.jsxs)("li",{children:[(0,yw.jsx)("button",{style:{background:d===e.uid?"#4078c0":"#222",color:"#fff",border:"none",borderRadius:"4px",padding:"0.3em 1em",marginRight:"0.5em"},onClick:()=>f(e.uid),children:e.name}),(0,yw.jsx)("button",{onClick:()=>y(e.uid),children:"Unfriend"})]},e.uid))}),(0,yw.jsx)(bw,{})]}),(0,yw.jsxs)("section",{className:"chat-section",children:[(0,yw.jsxs)("header",{className:"chat-header",children:[(0,yw.jsx)("img",{src:"https://i.pravatar.cc/60?u=chat",alt:"Chat User",className:"avatar"}),(0,yw.jsx)("div",{children:(0,yw.jsx)("h3",{children:d?"Chat with ".concat(d):"Select a friend to chat"})})]}),(0,yw.jsx)(Ew,{selectedFriend:d})]}),(0,yw.jsxs)("aside",{className:"info-section",children:[(0,yw.jsxs)("div",{className:"info-header",children:[(0,yw.jsx)("img",{src:"https://i.pravatar.cc/60?u=info",alt:"Info User",className:"avatar"}),(0,yw.jsx)("h3",{children:"Maria Nelson"}),(0,yw.jsx)("span",{children:"Grateful for every sunrise and sunset \ud83c\udf05"})]}),(0,yw.jsxs)("div",{className:"settings-list",children:[(0,yw.jsx)("div",{children:"Chat settings"}),(0,yw.jsx)("div",{children:"Privacy & help"}),(0,yw.jsx)("div",{children:"Shared photos"}),(0,yw.jsx)("div",{children:"Shared files"})]}),(0,yw.jsx)("button",{className:"block-btn",children:"Block User"}),(0,yw.jsx)("button",{className:"logout-btn",onClick:async()=>{await pw.signOut(),window.location.href="/login"},children:"Logout"})]})]})},kw=()=>{const e=!!localStorage.getItem("user");return(0,yw.jsx)(le,{children:(0,yw.jsxs)(se,{children:[(0,yw.jsx)(Z,{path:"/login",component:vw}),(0,yw.jsx)(Z,{path:"/signup",component:ww}),(0,yw.jsx)(Z,{path:"/home",render:()=>e?(0,yw.jsx)(_w,{}):(0,yw.jsx)($,{to:"/login"})}),(0,yw.jsx)($,{from:"/",to:"/home"})]})})};t.render((0,yw.jsx)(e.StrictMode,{children:(0,yw.jsx)(kw,{})}),document.getElementById("root"))})()})();
//# sourceMappingURL=main.f02666c9.js.map